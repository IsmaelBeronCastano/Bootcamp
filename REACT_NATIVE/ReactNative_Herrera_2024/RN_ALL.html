<!DOCTYPE html>
<html>
<head>
<title>RN_ALL.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/* https://github.com/microsoft/vscode/blob/master/extensions/markdown-language-features/media/markdown.css */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: var(--vscode-markdown-font-family, -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif);
	font-size: var(--vscode-markdown-font-size, 14px);
	padding: 0 26px;
	line-height: var(--vscode-markdown-line-height, 22px);
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}

body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-light.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-dark.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

.vscode-high-contrast.showEditorSelection .code-line .code-line:hover:before {
	border-left: none;
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	text-decoration: none;
}

a:hover {
	text-decoration: underline;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left-width: 5px;
	border-left-style: solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 1em;
	line-height: 1.357em;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

pre code {
	color: var(--vscode-editor-foreground);
	tab-size: 4;
}

/** Theming */

.vscode-light pre {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "Ubuntu", "Droid Sans", sans-serif, "Meiryo";
	padding: 0 12px;
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

code {
	font-size: 14px;
	line-height: 19px;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

<script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
</head>
<body>
  <script>
    mermaid.initialize({
      startOnLoad: true,
      theme: document.body.classList.contains('vscode-dark') || document.body.classList.contains('vscode-high-contrast')
          ? 'dark'
          : 'default'
    });
  </script>
<h1 id="01-react-native---basics">01 REACT NATIVE - BASICS</h1>
<ul>
<li>Para crear el proyecto</li>
</ul>
<blockquote>
<p>npx react-native@latest init Proyecto</p>
</blockquote>
<h2 id="zustand---gestor-de-estado">Zustand - Gestor de estado</h2>
<ul>
<li>En src creo las carpetas api, components, hookes, interfaces, <strong>store</strong></li>
<li>Para instalar</li>
</ul>
<blockquote>
<p>npm i zustand</p>
</blockquote>
<ul>
<li>Para crear el store global creo en /store/<strong>auth.store.ts</strong> una interfaz con los tipos de lo que voy a guardar en el stado</li>
<li>Importo create de zustand y le paso el AuthState. Luego abro dos pares de paréntesis, y dentro del segundo par coloco un callback que devuelve un objeto entre paréntesis (return implícito)</li>
<li>El argumento set me servirá para disparar la creación de un nuevo estado</li>
<li>Podría colocar solo el status porque las otras dos propiedades son opcionales. En el momento inicial no tengo usuario ni user, le pongo undefined</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> {create} <span class="hljs-keyword">from</span> <span class="hljs-string">'zustand'</span>

interface AuthState{
    <span class="hljs-attr">status</span>: <span class="hljs-string">'authenticated'</span> | <span class="hljs-string">'unauthenticated'</span> | <span class="hljs-string">'checking'</span>
    token?: string
    user?:{
        <span class="hljs-attr">name</span>: string
        <span class="hljs-attr">email</span>: string
    }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useAuthStore = create&lt;AuthState&gt;<span class="hljs-function"><span class="hljs-params">()</span>(<span class="hljs-params">(set</span>)=&gt;</span>({
    <span class="hljs-attr">status</span>: <span class="hljs-string">'checking'</span>,
    <span class="hljs-attr">token</span>: <span class="hljs-literal">undefined</span>,
    <span class="hljs-attr">user</span>: <span class="hljs-literal">undefined</span>
}))
</div></code></pre>
<ul>
<li>Ahora tengo acceso a este useAuthStore desde cualquier lugar, no necesito envolver nada en providers ni similares</li>
<li>Creo en components/<strong>LoginPage.tsx</strong>, lo renderizo en <strong>App</strong></li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useAuthStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'../store/auth.store'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">const</span> LoginPage = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

    <span class="hljs-keyword">const</span> status = useAuthStore(<span class="hljs-function"><span class="hljs-params">state</span>=&gt;</span> state.status)

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>{status}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> LoginPage
</div></code></pre>
<ul>
<li>Para poner en marcha el proyecto uso <strong>npm run start</strong></li>
<li><strong>NOTA:</strong> si da problemas con el HOME de JAVA colocar en gradle.properties el path dónde se encuentra JAVA (solución temporal)</li>
</ul>
<pre class="hljs"><code><div>org.gradle.java.home=C:\\Program Files\\Java\\jdk-17
</div></code></pre>
<hr>
<h2 id="login">Login</h2>
<ul>
<li>Puedo renderizar condicionalmente un Loading</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useAuthStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'../store/auth.store'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">const</span> LoginPage = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

    <span class="hljs-keyword">const</span> authStatus = useAuthStore(<span class="hljs-function"><span class="hljs-params">state</span>=&gt;</span> state.status)

    <span class="hljs-keyword">if</span>(authStatus=== <span class="hljs-string">'checking'</span>){
      <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
    }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>{authStatus}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> LoginPage
</div></code></pre>
<ul>
<li>Los métodos en zustand pueden ser async</li>
<li>Creo los métodos login y logout</li>
<li>Suponiendo que el login se valida en algún backend, usamos el set para regresar un nuevo estado</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> {create} <span class="hljs-keyword">from</span> <span class="hljs-string">'zustand'</span>

interface AuthState{
    <span class="hljs-attr">status</span>: <span class="hljs-string">'authenticated'</span> | <span class="hljs-string">'unauthenticated'</span> | <span class="hljs-string">'checking'</span>
    token?: string
    user?:{
        <span class="hljs-attr">name</span>: string
        <span class="hljs-attr">email</span>: string
    }
    <span class="hljs-attr">login</span> : <span class="hljs-function">(<span class="hljs-params">email: string,password: string</span>) =&gt;</span> <span class="hljs-keyword">void</span>
    <span class="hljs-attr">logout</span>: <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> <span class="hljs-keyword">void</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useAuthStore = create&lt;AuthState&gt;<span class="hljs-function"><span class="hljs-params">()</span>(<span class="hljs-params">(set</span>)=&gt;</span>({
    <span class="hljs-attr">status</span>: <span class="hljs-string">'checking'</span>,
    <span class="hljs-attr">token</span>: <span class="hljs-literal">undefined</span>,
    <span class="hljs-attr">user</span>: <span class="hljs-literal">undefined</span>,
    
    <span class="hljs-attr">login</span>: <span class="hljs-function">(<span class="hljs-params">email: string,password: string</span>) =&gt;</span> {
        <span class="hljs-keyword">set</span>({
            <span class="hljs-attr">status</span>: <span class="hljs-string">'authenticated'</span>,
            <span class="hljs-attr">token</span>: <span class="hljs-string">'abc123'</span>,
            <span class="hljs-attr">user</span>:{
                <span class="hljs-attr">name</span>: <span class="hljs-string">'John Doe'</span>,
                <span class="hljs-attr">email</span>: <span class="hljs-string">'john@example.com'</span>
            }
        })
    },
    
    <span class="hljs-attr">logout</span>: <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
        <span class="hljs-keyword">set</span>({
            <span class="hljs-attr">status</span>: <span class="hljs-string">'unauthenticated'</span>,
            <span class="hljs-attr">token</span>: <span class="hljs-literal">undefined</span>,
            <span class="hljs-attr">user</span>: <span class="hljs-literal">undefined</span>
        })
    }

}))
</div></code></pre>
<ul>
<li>No estoy usando el password (por ahora)</li>
<li>Para tomar las funciones puedo usar desestructuración para extraer todo en una sola linea</li>
<li><strong>Pero zustand recomienda hacerlo por separado</strong>, ya que si no puede disparar rerenders innecesarios</li>
<li>Coloco un useEffect con un setTimeOut para llamar al logout y quitar el Loading... al estar checking</li>
<li>Renderizo condicionalmente el user.
<ul>
<li>Al tratarse de un objeto uso JSON.stringify con el user, el replacement en null y un espacio de 2</li>
</ul>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useAuthStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'../store/auth.store'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">const</span> LoginPage = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

    <span class="hljs-keyword">const</span> authStatus = useAuthStore(<span class="hljs-function"><span class="hljs-params">state</span>=&gt;</span> state.status)
    <span class="hljs-keyword">const</span> user = useAuthStore(<span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.user)
    <span class="hljs-keyword">const</span> login = useAuthStore(<span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.login)
    <span class="hljs-keyword">const</span> logout = useAuthStore(<span class="hljs-function"><span class="hljs-params">state</span> =&gt;</span> state.logout)

    useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
      setTimeout(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
        logout();
      }, <span class="hljs-number">1500</span>)
    }, [])

    <span class="hljs-keyword">if</span>(authStatus=== <span class="hljs-string">'checking'</span>){
      <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Loading...<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
    }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Login Page<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        {(authStatus === 'authenticated')
        ? <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Autenticado como : {JSON.stringify(user, null, 2)}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        : <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>No autenticado<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span> 
        }
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> LoginPage
</div></code></pre>
<ul>
<li>Hago la misma condición para mostrar un botón de logout y login</li>
<li>Como le paso argumentos al login lo llamo con un callback</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Login Page<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        {(authStatus === 'authenticated')
        ? <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Autenticado como : {JSON.stringify(user, null, 2)}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        : <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>No autenticado<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span> 
        }

        {(authStatus === 'authenticated')
        ? <span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">Button</span>  <span class="hljs-attr">title</span>=<span class="hljs-string">"logout"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{logout}/</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
        : <span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">Button</span>  <span class="hljs-attr">title</span>=<span class="hljs-string">"login"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>login("mail@example.com", "1234")}/&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
      }
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
</div></code></pre>
<ul>
<li>Zustand es muy útil. Se verá más durante el curso</li>
</ul>
<hr>
<h2 id="peticiones-http---axios">Peticiones HTTP - Axios</h2>
<ul>
<li>Creo UsersPage en /components</li>
<li>Usaremos la web reqres.in</li>
<li>Primero lo haremos con fetch</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">const</span> UsersPage = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

    useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
        fetch(<span class="hljs-string">"https://reqres.in/api/users?page=2"</span>)
        .then(<span class="hljs-function"><span class="hljs-params">resp</span>=&gt;</span> resp.json())
        .then(<span class="hljs-function"><span class="hljs-params">data</span>=&gt;</span> <span class="hljs-built_in">console</span>.log(data))
    }, [])

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Usuarios<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Nombre<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Email<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> UsersPage
</div></code></pre>
<ul>
<li>Ahora con axios!</li>
<li>Por defecto la respuesta de axios es de tipo any</li>
<li>Para tiparla podemos ir a la url, copiar la data y usar la aplicación de Paste JSON as code para sacar la interfaz</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> interface ReqUserListResponse {
    <span class="hljs-attr">page</span>:        number;
    per_page:    number;
    total:       number;
    total_pages: number;
    data:        User[];
    support:     Support;
}

<span class="hljs-keyword">export</span> interface User {
    <span class="hljs-attr">id</span>:         number;
    email:      string;
    first_name: string;
    last_name:  string;
    avatar:     string;
}

<span class="hljs-keyword">export</span> interface Support {
    <span class="hljs-attr">url</span>:  string;
    text: string;
}
</div></code></pre>
<ul>
<li>Llamo a get con axios</li>
<li>Tipándolo ahora obtengo las opciones disponibles de resp.data.</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>
<span class="hljs-keyword">import</span> { ReqUserListResponse } <span class="hljs-keyword">from</span> <span class="hljs-string">'../interfaces/DataAxios'</span>

<span class="hljs-keyword">const</span> UsersPage = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

    useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
      axios.get&lt;ReqUserListResponse&gt;(<span class="hljs-string">"https://reqres.in/api/users?page=2"</span>)
      .then(<span class="hljs-function"><span class="hljs-params">resp</span>=&gt;</span> <span class="hljs-built_in">console</span>.log(resp.data))
    }, [])

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Usuarios<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Nombre<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Email<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> UsersPage
</div></code></pre>
<ul>
<li>el código que no tiene que estar necesariamente en el componente normalmente se exporta a otro archivo</li>
<li>Las peticiones http suelen ir en archivos aparte o en una función</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>
<span class="hljs-keyword">import</span> { ReqUserListResponse } <span class="hljs-keyword">from</span> <span class="hljs-string">'../interfaces/DataAxios'</span>


<span class="hljs-keyword">const</span> loadUsers = <span class="hljs-keyword">async</span> ()=&gt;{
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> {data} = <span class="hljs-keyword">await</span> axios.get&lt;ReqUserListResponse&gt;(<span class="hljs-string">"https://reqres.in/api/users"</span>) <span class="hljs-comment">//axios regresa data por defecto</span>
    <span class="hljs-keyword">return</span> data.data <span class="hljs-comment">//.data porque es dónde están los Users[]</span>
    
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-built_in">console</span>.log(error)
    <span class="hljs-keyword">return</span> 
  }
}

<span class="hljs-keyword">const</span> UsersPage = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {


    useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
     loadUsers().then(<span class="hljs-function"><span class="hljs-params">users</span>=&gt;</span><span class="hljs-built_in">console</span>.log(users))
    }, [])

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Usuarios<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Nombre<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Email<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> UsersPage
</div></code></pre>
<hr>
<h2 id="mostrar-usuarios">Mostrar usuarios</h2>
<ul>
<li>Lo haremos con un useState, podríamos hacerlo con zustand</li>
<li>Puedo tipar loadUsers como una promesa que devuelve un arreglo de User, retorno un arreglo vacío en el catch</li>
<li>Lo mismo puedo tipar el useState con User[]</li>
<li>Cuando tengo un argumento (o varios) que es pasado a la función que llama el callback, puedo poner solo la función (sin invocarla)</li>
<li>Ahora ya tengo los users en una pieza de state</li>
<li>En React Native usaríamos una FlatList</li>
<li>Hago un map de los users del state, <strong>le paso el key que debe de ser un string</strong>, renderizo en un Text el nombre en <strong>renderItems</strong></li>
<li>Por supuesto podría crear otro componente para renderizar en renderItems con last_name, avatar, etc</li>
<li>Renderizo UsersPage en App</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { FlatList, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>
<span class="hljs-keyword">import</span> { ReqUserListResponse, User } <span class="hljs-keyword">from</span> <span class="hljs-string">'../interfaces/DataAxios'</span>


<span class="hljs-keyword">const</span> loadUsers = <span class="hljs-keyword">async</span> (): <span class="hljs-built_in">Promise</span>&lt;User[]&gt;=&gt;{
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> {data} = <span class="hljs-keyword">await</span> axios.get&lt;ReqUserListResponse&gt;(<span class="hljs-string">"https://reqres.in/api/users"</span>) <span class="hljs-comment">//axios regresa data por defecto</span>
    <span class="hljs-keyword">return</span> data.data <span class="hljs-comment">//.data porque es dónde están los Users[]</span>
    
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-built_in">console</span>.log(error)
    <span class="hljs-keyword">return</span> []
  }
}

<span class="hljs-keyword">const</span> UsersPage = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> [users, setUsers] = useState&lt;User[]&gt;([])

    useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
     loadUsers().then(setUsers) <span class="hljs-comment">//le paso el arreglo de users al state</span>
    }, [])

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span> 
        <span class="hljs-attr">data</span>= <span class="hljs-string">{users.map(({email,</span> <span class="hljs-attr">first_name</span>})=&gt;</span>({
            key: email,
            first_name            
        }))}
        renderItem={({item})=&gt;<span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>{item.first_name}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>}
      /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> UsersPage
</div></code></pre>
<hr>
<ul>
<li>Podemos crear una paginación con un par de botones</li>
<li>En el caso de esta reqres.in, solo hay hasta página 2, la página 3 regresa 0 resultados</li>
<li>Para acceder a la página 2 sólo hay que añadir a la url &quot;/users?page=2&quot;</li>
<li>Podemos hacerlo a través de la url o el objeto de configuración de axios</li>
<li>Puedo decir que recibo la página como parámetro de loadUsers y si no recibo nada es 1 por defecto</li>
<li>Le paso el valor page al objeto params: page</li>
<li>Uso useRef para saber en que página me encuentro, la inicio en 1</li>
<li>Le paso el ref.current a loadUsers</li>
<li>Para llamar a la siguiente página creo la función nextPage y prevoiusPage</li>
<li>En nextPage, si el arreglo.length es mayor que cero se lo paso al state. Si no que vuelva a la página anterior</li>
<li>En el previousPage establezco la condición para que si es la página 1 no pueda seguir descendiendo</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useEffect, useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Button, FlatList, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>
<span class="hljs-keyword">import</span> { ReqUserListResponse, User } <span class="hljs-keyword">from</span> <span class="hljs-string">'../interfaces/DataAxios'</span>


<span class="hljs-keyword">const</span> loadUsers = <span class="hljs-keyword">async</span> (page: number = <span class="hljs-number">1</span>): <span class="hljs-built_in">Promise</span>&lt;User[]&gt;=&gt;{
  <span class="hljs-keyword">try</span> {
    <span class="hljs-keyword">const</span> {data} = <span class="hljs-keyword">await</span> axios.get&lt;ReqUserListResponse&gt;(<span class="hljs-string">"https://reqres.in/api/users"</span>,{
      <span class="hljs-attr">params</span>:{
        <span class="hljs-attr">page</span>: page
      }
    }) 
    <span class="hljs-keyword">return</span> data.data
    
  } <span class="hljs-keyword">catch</span> (error) {
    <span class="hljs-built_in">console</span>.log(error)
    <span class="hljs-keyword">return</span> []
  }
}

<span class="hljs-keyword">const</span> UsersPage = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> [users, setUsers] = useState&lt;User[]&gt;([])
  <span class="hljs-keyword">const</span> currentPageRef = useRef(<span class="hljs-number">1</span>)

  <span class="hljs-keyword">const</span> nextPage = <span class="hljs-keyword">async</span> () =&gt;{
    currentPageRef.current ++;
    
    <span class="hljs-keyword">const</span> users = <span class="hljs-keyword">await</span> loadUsers(currentPageRef.current)
    <span class="hljs-keyword">if</span>(users.length &gt; <span class="hljs-number">0</span>){
      setUsers(users)
    }<span class="hljs-keyword">else</span>{
      currentPageRef.current --;
    }
  }

  <span class="hljs-keyword">const</span> previousPage = <span class="hljs-keyword">async</span> () =&gt;{
    <span class="hljs-keyword">if</span>(currentPageRef.current &lt; <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>
      
    currentPageRef.current --;
    <span class="hljs-keyword">const</span> users = <span class="hljs-keyword">await</span> loadUsers(currentPageRef.current)
    setUsers(users)
  }

    useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
     loadUsers(currentPageRef.current).then(setUsers)
    }, [])

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span> 
        <span class="hljs-attr">data</span>= <span class="hljs-string">{users.map(({email,</span> <span class="hljs-attr">first_name</span>})=&gt;</span>({
            key: email,
            first_name            
        }))}
        renderItem={({item})=&gt;<span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>{item.first_name}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>}
      /&gt;

      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Previous"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{previousPage}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Next"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{nextPage}</span> /&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> UsersPage
</div></code></pre>
<hr>
<h2 id="custom-hook---useusers">Custom Hook - useUsers</h2>
<ul>
<li>Cuando hay tanto código hay que modularizar para que sea más legible</li>
<li>Muevo todo el código encima del return de UsersPage a useUsers</li>
<li>Hago las importaciones necesarias, retorno las funciones nextPage, previousPage y users</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { useRef, useState, useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { ReqUserListResponse, User } <span class="hljs-keyword">from</span> <span class="hljs-string">'../interfaces/DataAxios'</span>
<span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>

<span class="hljs-keyword">const</span> loadUsers = <span class="hljs-keyword">async</span> (page: number = <span class="hljs-number">1</span>): <span class="hljs-built_in">Promise</span>&lt;User[]&gt;=&gt;{
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> {data} = <span class="hljs-keyword">await</span> axios.get&lt;ReqUserListResponse&gt;(<span class="hljs-string">"https://reqres.in/api/users"</span>,{
        <span class="hljs-attr">params</span>:{
          <span class="hljs-attr">page</span>: page
        }
      }) 
      <span class="hljs-keyword">return</span> data.data
      
    } <span class="hljs-keyword">catch</span> (error) {
      <span class="hljs-built_in">console</span>.log(error)
      <span class="hljs-keyword">return</span> []
    }
  }
  
<span class="hljs-keyword">const</span> useUsers = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> [users, setUsers] = useState&lt;User[]&gt;([])
    <span class="hljs-keyword">const</span> currentPageRef = useRef(<span class="hljs-number">1</span>)

  <span class="hljs-keyword">const</span> nextPage = <span class="hljs-keyword">async</span> () =&gt;{
    currentPageRef.current ++;
    
    <span class="hljs-keyword">const</span> users = <span class="hljs-keyword">await</span> loadUsers(currentPageRef.current)
    <span class="hljs-keyword">if</span>(users.length &gt; <span class="hljs-number">0</span>){
      setUsers(users)
    }<span class="hljs-keyword">else</span>{
      currentPageRef.current --;
    }
  }

  <span class="hljs-keyword">const</span> previousPage = <span class="hljs-keyword">async</span> () =&gt;{
    <span class="hljs-keyword">if</span>(currentPageRef.current &lt; <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>
      
    currentPageRef.current --;
    <span class="hljs-keyword">const</span> users = <span class="hljs-keyword">await</span> loadUsers(currentPageRef.current)
    setUsers(users)

  }

    useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
     loadUsers(currentPageRef.current).then(setUsers)
    }, [])

    <span class="hljs-keyword">return</span> {
        nextPage,
        previousPage,
        users
    }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useUsers
</div></code></pre>
<ul>
<li>Ahora solo tengo que desestructurar la info del custom hook en UsersPage</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> {nextPage, previousPage, users} = useUsers()
</div></code></pre>
<hr>
<h2 id="02-react-native---counter-app">02 REACT NATIVE - COUNTER APP</h2>
<ul>
<li>Usaremos Material 3</li>
<li>Cambio la declaración de function App por una función de flecha y lo exporto en lugar de usar la exportación por defecto</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> App= (): React.JSX.Element=&gt; {

  <span class="hljs-keyword">return</span>(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Hola Mundo<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
   )
 
}
</div></code></pre>
<ul>
<li>Debo cambiar también la importación de App en index.js y colocarlo entre llaves</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-comment">/**
 * <span class="hljs-doctag">@format</span>
 */</span>

<span class="hljs-keyword">import</span> {AppRegistry} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;
<span class="hljs-keyword">import</span> {App} <span class="hljs-keyword">from</span> <span class="hljs-string">'./App'</span>;
<span class="hljs-keyword">import</span> {name <span class="hljs-keyword">as</span> appName} <span class="hljs-keyword">from</span> <span class="hljs-string">'./app.json'</span>;

AppRegistry.registerComponent(appName, () =&gt; App);
</div></code></pre>
<hr>
<h2 id="explicaci%C3%B3n-de-archivos-y-directorios">Explicación de archivos y directorios</h2>
<ul>
<li>.watchmanconfig (no se suele necesitar modificarlo)</li>
<li>app.json es info básica de la app, es usado en otros directorios, pone la info en ios y android</li>
<li>babel.config.js permite escribir javascript moderno</li>
<li>Gemfile es el archivo de configuración de Ruby</li>
<li>index.js es el main, el archivo de inicio. Cuando se lance todo la app empezará por aquí</li>
<li>metro.config.js es raro que se tenga que modificar</li>
<li>En las carpetas android o ios tengo la aplicación en si</li>
</ul>
<hr>
<h2 id="crear-pantallas-independientes">Crear pantallas independientes</h2>
<ul>
<li>En lugar del View uso el SafeAreaView para que se renderice correctamente con el notch de ios</li>
<li>En src/<strong>presentation</strong>/<strong>screens</strong> creo el HelloWorldScreen.tsx y lo renderizo en App.tsx</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { SafeAreaView, Text} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;
<span class="hljs-keyword">import</span> HelloWorldScreen <span class="hljs-keyword">from</span> <span class="hljs-string">'./src/presentation/HelloWorldScreen'</span>;


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> App= (): React.JSX.Element=&gt; {

  <span class="hljs-keyword">return</span>(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">SafeAreaView</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">HelloWorldScreen</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">SafeAreaView</span>&gt;</span></span>
   )
}
</div></code></pre>
<ul>
<li>Para los estilos creo el snippet con la extensión Easy Snippets, uso <strong>stless</strong></li>
</ul>
<pre class="hljs"><code><div><span class="hljs-comment">// @prefix stless</span>
<span class="hljs-comment">// @description </span>
<span class="hljs-comment">/* eslint-disable */</span>


<span class="hljs-keyword">const</span> styles = StyleSheet.create({
  <span class="hljs-attr">container</span>: {
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>
  }
})
</div></code></pre>
<ul>
<li>Para agregar estilos solo tengo que usar la propiedad style y añadir con notación de punto los estilos</li>
<li>Si el flex: 1 no funciona, mirar que el componente padre (como es en este caso el SafeAreaView en App no lo esté restringiendo)</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { StyleSheet, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">const</span> HelloWorldScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>Hello World<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">const</span> styles = StyleSheet.create({
  <span class="hljs-attr">container</span>: {
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>
  }, 

  <span class="hljs-attr">title</span>:{
    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">45</span>,
    <span class="hljs-attr">textAlign</span>: <span class="hljs-string">'center'</span>,
    <span class="hljs-attr">color</span>: <span class="hljs-string">'black'</span>
  }
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> HelloWorldScreen
</div></code></pre>
<hr>
<h2 id="propiedades">Propiedades</h2>
<ul>
<li>Para usar propiedades en los componentes en Typescript hay que usar una interfaz</li>
<li>Puedo hacer la propiedad opcional con ?</li>
<li>La desestructuro y añado el tipado de la interfaz</li>
<li>Puedo ponerle un valor por defecto</li>
</ul>
<pre class="hljs"><code><div>interface Props{
  name?: string
}

<span class="hljs-keyword">const</span> HelloWorldScreen = <span class="hljs-function">(<span class="hljs-params">{name= <span class="hljs-string">"World"</span>}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>Hello {name}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Ahora puedo pasarle la propiedad name al componente</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> App= (): React.JSX.Element=&gt; {

  <span class="hljs-keyword">return</span>(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">SafeAreaView</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">HelloWorldScreen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'Ismael Berón'</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">SafeAreaView</span>&gt;</span></span>
   )
}
</div></code></pre>
<ul>
<li>Los componentes nativos tienen sus propias propiedades</li>
<li>Por ejemplo, Text tiene <strong>numberOfLines</strong> que son el número de lineas que quiero y si no cabe corta el texto con una elipsis (...)
<ul>
<li>Puedo controlar esta elipsis con <strong>ellipsizeMode</strong>,</li>
<li><strong>tail</strong> es por defecto, quita el texto al final, <strong>middle</strong> hace el corte en medio, <strong>head</strong> lo quita del principio, <strong>clip</strong>lo acomoda como puede</li>
</ul>
</li>
</ul>
<hr>
<h2 id="crear-un-contador">Crear un contador</h2>
<ul>
<li>Creo el componente CounterScreen en <strong>src/presentation/screens</strong> con un View y un Text
<ul>
<li>Usar el snippet personalizado <strong>rncc</strong> hecho con <em>Easy Snippets</em></li>
</ul>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-comment">// @prefix rncc</span>
<span class="hljs-comment">// @description </span>
<span class="hljs-comment">/* eslint-disable */</span>


<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> CounterScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Añado unos estilos y coloco unos botones. Usaremos Button para este caso pero no es el que usaremos normalmente</li>
<li>Contador</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> CounterScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> [counter, setCounter] = useState(<span class="hljs-number">10</span>)


  <span class="hljs-keyword">const</span> increment = <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> {
    setCounter(counter +<span class="hljs-number">1</span>)
  }

  <span class="hljs-keyword">const</span> decrement = <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> {
    setCounter(counter <span class="hljs-number">-1</span>)
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>Counter: {counter} <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"increment"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>increment()}/&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"decrement"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span> decrement()}/&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Puedo usar el Pressable que es más personalizable.</li>
<li>Aparecen sin estilos. Creo button en styles, y buttonText para el texto del botón</li>
<li>Puedo usar la prop onLongPress para resetear el contador usando el setCounter</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Button, Pressable, StyleSheet, Text, View} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> CounterScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> [counter, setCounter] = useState(<span class="hljs-number">10</span>)


  <span class="hljs-keyword">const</span> increment = <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> {
    setCounter(counter +<span class="hljs-number">1</span>)
  }

  <span class="hljs-keyword">const</span> decrement = <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> {
    setCounter(counter <span class="hljs-number">-1</span>)
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>Counter: {counter}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.button}</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{increment}</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.buttonText}</span>&gt;</span>Increment<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span>
        
        <span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.button}</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{decrement}</span> <span class="hljs-attr">onLongPress</span>=<span class="hljs-string">{()</span>=&gt;</span>setCounter(0)}&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.buttonText}</span>&gt;</span>Decrement<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">const</span> styles = StyleSheet.create({
  <span class="hljs-attr">container</span>: {
    <span class="hljs-attr">flex</span>:<span class="hljs-number">1</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,
  },
  <span class="hljs-attr">title</span>:{
    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">45</span>,
    <span class="hljs-attr">color</span>:<span class="hljs-string">'black'</span>,
    <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">'300'</span>
  },
  <span class="hljs-attr">button</span>:{
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'purple'</span>,
    <span class="hljs-attr">paddingHorizontal</span>: <span class="hljs-number">20</span>,
    <span class="hljs-attr">paddingVertical</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">marginVertical</span>: <span class="hljs-number">10</span>
  },
  <span class="hljs-attr">buttonText</span>:{
    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">25</span>,
    <span class="hljs-attr">color</span>: <span class="hljs-string">'white'</span>
  }
})
</div></code></pre>
<ul>
<li>Para que aparezca el color picker habilitar Editor:color decorators en VSCode</li>
<li>Puedo usar en el style de Pressable un callback del que puedo desestructurar <strong>pressed</strong>, devuelve un arreglo.</li>
<li>Le paso los estilos del botón y puedo usar pressed (boolean por defecto en true) para aplicar estilos condicionalmente cuando se apriete el botón</li>
</ul>
<pre class="hljs"><code><div>  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>Counter: {counter}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> 
        <span class="hljs-attr">style</span>=<span class="hljs-string">{({pressed})</span>=&gt;</span>[
            styles.button,
            pressed &amp;&amp; styles.buttonPressed]} 
            onPress={increment}&gt;
             <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.buttonText}</span>&gt;</span>Increment<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> 
        <span class="hljs-attr">style</span>=<span class="hljs-string">{({pressed})</span>=&gt;</span>[
            styles.button,
            pressed &amp;&amp; styles.buttonPressed]} 
            onPress={decrement} onLongPress={()=&gt;setCounter(0)}&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.buttonText}</span>&gt;</span>Decrement<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
</div></code></pre>
<ul>
<li>Es más práctico crear un componente para tener personalizado el botón, que sea customizable</li>
<li>Para renderizar estilos condicionalmente si estamos en android o ios uso <strong>Platform</strong> de 'react-native'</li>
<li>Ejemplo:</li>
</ul>
<pre class="hljs"><code><div> buttonPressed:{
    <span class="hljs-attr">backgroundColor</span>: Platform.OS === <span class="hljs-string">'android'</span>? <span class="hljs-string">'rgb(126, 0, 78)'</span>: <span class="hljs-string">'white'</span>
  }
</div></code></pre>
<ul>
<li>De esta manera tengo el estilo aplicado de manera independiente por plataforma</li>
</ul>
<hr>
<h2 id="componente-personalizad">Componente Personalizad</h2>
<ul>
<li>Conviene tener una biblioteca de componentes personalizados (y personalizables) para no estar reinventando la rueda</li>
<li>Creemos este botón en /components/<strong>shared</strong> con un archivo de barril <strong>index.ts</strong></li>
<li>Dentro de share creo PrimaryButton.tsx con el snippet <strong>rafc</strong> o el snippet personalizado <strong>rncc</strong></li>
<li>Lo coloco en el archivo de barril</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./PrimaryButton'</span>
</div></code></pre>
<ul>
<li>Creo la interfaz para las props, hago el longPress opcional</li>
<li>Coloco las props donde corresponden</li>
<li>Copio los estilos que había definido y se los coloco al componente</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { GestureResponderEvent, Platform, Pressable, StyleSheet, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

interface Props{
  <span class="hljs-attr">label</span>: string
  <span class="hljs-attr">onPress</span>: <span class="hljs-function">(<span class="hljs-params">event: GestureResponderEvent</span>)=&gt;</span> <span class="hljs-keyword">void</span>
  onLongPress?: <span class="hljs-function">(<span class="hljs-params">event: GestureResponderEvent</span>)=&gt;</span> <span class="hljs-keyword">void</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> PrimaryButton = <span class="hljs-function">(<span class="hljs-params">{label, onPress, onLongPress}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{({pressed})</span>=&gt;</span>[
          styles.button,
          pressed &amp;&amp; styles.buttonPressed
        ]} onPress={onPress} onLongPress={onLongPress} &gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.buttonText}</span> &gt;</span>{label}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">const</span> styles = StyleSheet.create({
  <span class="hljs-attr">container</span>: {
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>
  },
  <span class="hljs-attr">button</span>:{
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'purple'</span>,
    <span class="hljs-attr">paddingHorizontal</span>: <span class="hljs-number">20</span>,
    <span class="hljs-attr">paddingVertical</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">marginVertical</span>: <span class="hljs-number">10</span>
  },
  <span class="hljs-attr">buttonText</span>:{
    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">25</span>,
    <span class="hljs-attr">color</span>: <span class="hljs-string">'white'</span>
  },
  <span class="hljs-attr">buttonPressed</span>:{
    <span class="hljs-attr">backgroundColor</span>: Platform.OS === <span class="hljs-string">'android'</span> ?<span class="hljs-string">'rgb(126, 0, 78)'</span>: <span class="hljs-string">'white'</span>
  }

})
</div></code></pre>
<hr>
<ul>
<li>Añado el componente a CounterScreen</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> CounterScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> [counter, setCounter] = useState(<span class="hljs-number">10</span>)


  <span class="hljs-keyword">const</span> increment = <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> {
    setCounter(counter +<span class="hljs-number">1</span>)
  }

  <span class="hljs-keyword">const</span> decrement = <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> {
    setCounter(counter <span class="hljs-number">-1</span>)
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>Counter: {counter}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">PrimaryButton</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"increment"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{increment}</span> <span class="hljs-attr">onLongPress</span>=<span class="hljs-string">{()</span>=&gt;</span>setCounter(0)} /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">PrimaryButton</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"decrement"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{decrement}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="react-native-paper---instalaci%C3%B3n">React Native Paper - Instalación</h2>
<ul>
<li>Instalamos</li>
</ul>
<blockquote>
<p>npm i react-native-paper
npm i react-native-safe-area-context</p>
</blockquote>
<ul>
<li>Hay que usar el PaperProvider como provider en el punto más alto de la aplicación que va a contener los componentes</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { CounterScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'./src/presentation/screens/CounterScreen'</span>;
<span class="hljs-keyword">import</span> {PaperProvider} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-paper'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> App=(): React.JSX.Element=&gt;{

  <span class="hljs-keyword">return</span>(
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">PaperProvider</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">CounterScreen</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">PaperProvider</span>&gt;</span></span>
   )
}
</div></code></pre>
<ul>
<li>Si tienes un gestor de estado tipo Redux-toolkit, colocar el PaperProvider dentro del gestor de estado y dentro del PaperProvider el App</li>
<li>React Native Paper se puede <strong>customizar</strong></li>
<li>Puedo mirar la documentación para evr cómo usar un Button de React Native Paper</li>
<li>Uso el mode contained</li>
<li>Los componentes de React Native Paper siguen los standares de React Native</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { StyleSheet, Text, View} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { PrimaryButton } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/shared'</span>
<span class="hljs-keyword">import</span> {Button} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-paper'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> CounterScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> [counter, setCounter] = useState(<span class="hljs-number">10</span>)


  <span class="hljs-keyword">const</span> increment = <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> {
    setCounter(counter +<span class="hljs-number">1</span>)
  }

  <span class="hljs-keyword">const</span> decrement = <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> {
    setCounter(counter <span class="hljs-number">-1</span>)
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>Counter: {counter}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">PrimaryButton</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"increment"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{increment}</span> <span class="hljs-attr">onLongPress</span>=<span class="hljs-string">{()</span>=&gt;</span>setCounter(0)} /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{decrement}</span> <span class="hljs-attr">mode</span>=<span class="hljs-string">'contained'</span>&gt;</span>Decrementar<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">const</span> styles = StyleSheet.create({
  <span class="hljs-attr">container</span>: {
    <span class="hljs-attr">flex</span>:<span class="hljs-number">1</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,
  },
  <span class="hljs-attr">title</span>:{
    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">45</span>,
    <span class="hljs-attr">color</span>:<span class="hljs-string">'black'</span>,
    <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">'300'</span>
  }
})
</div></code></pre>
<hr>
<h2 id="floating-action-button-fab">Floating Action Button FAB</h2>
<ul>
<li>Para crear estilos de manera global, creo una carpeta en presentation/<strong>theme</strong></li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { StyleSheet } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native"</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Globalstyles = StyleSheet.create({
    <span class="hljs-attr">centerContainer</span>: {
        <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>,
        <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>
    },
    <span class="hljs-attr">title</span>: {
        <span class="hljs-attr">fontSize</span>: <span class="hljs-number">45</span>,
        <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">'300'</span>,
        <span class="hljs-attr">color</span>: <span class="hljs-string">'black'</span>
    }
})
</div></code></pre>
<ul>
<li>Ahora solo debo importarlo y usar GlobalStyles.centerContainer</li>
<li>Para crear un FAB creo un nuevo componente en /<strong>shared</strong>, lo exporto en el archivo de barril</li>
<li>Mirar la documentación de <strong>React Native Paper</strong>!!</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { StyleSheet } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> {FAB} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-paper'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> FloatingAB = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">FAB</span> 
    <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.fab}</span> 
    <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>console.log("FAB!")}
    label="FAB"
    /&gt;</span>
  )
}

<span class="hljs-keyword">const</span> styles = StyleSheet.create({
  <span class="hljs-attr">fab</span>: {
    <span class="hljs-attr">position</span>: <span class="hljs-string">'absolute'</span>,
    <span class="hljs-attr">margin</span>: <span class="hljs-number">16</span>,
    <span class="hljs-attr">right</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">bottom</span>: Platform.OS === <span class="hljs-string">'android'</span>? <span class="hljs-number">15</span>: <span class="hljs-number">0</span>
  }
})
</div></code></pre>
<ul>
<li>Puedo también usar GlobalStyles para los estilos del fab</li>
</ul>
<hr>
<h2 id="configurar-iconos">Configurar iconos</h2>
<blockquote>
<p>npm i react-native-vector-icons
npm i -D @types/react-native-vector-icons</p>
</blockquote>
<ul>
<li>En <em>android/app/build.gradle</em> añadir</li>
</ul>
<pre class="hljs"><code><div>project.ext.vectoricons =[
  iconFontNames: [<span class="hljs-string">'Ionicons.ttf'</span>]
]

apply <span class="hljs-keyword">from</span>: file (<span class="hljs-string">"../../node_modules/react-native-vector-icons/fonts.gradle"</span>)
</div></code></pre>
<ul>
<li>Ahora ya puedo usar iconos. Importo Icon de 'react-native-vector-icons/Ionicons'</li>
</ul>
<pre class="hljs"><code><div>&lt;Icon name=<span class="hljs-string">"accessibility-outline"</span> size={<span class="hljs-number">35</span>} /&gt;
</div></code></pre>
<ul>
<li>Icon tiene un montón de propiedades</li>
<li>En el FAB puedo colocar el icon de varias maneras, incluso puedo mandar un funtional Component</li>
<li>Pero quiero hacerlo de otra forma</li>
<li>Hay que configurar Paper</li>
</ul>
<hr>
<h2 id="configurar-iconos-globles">Configurar Iconos Globles</h2>
<ul>
<li>En <strong>PaperProvider</strong> uso la propiedad <strong>settings</strong></li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { CounterScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'./src/presentation/screens/CounterScreen'</span>;
<span class="hljs-keyword">import</span> {PaperProvider} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-paper'</span>
<span class="hljs-keyword">import</span> IonIcon <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-vector-icons/Ionicons'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> App=(): React.JSX.Element=&gt;{

  <span class="hljs-keyword">return</span>(
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">PaperProvider</span>
      <span class="hljs-attr">settings</span>=<span class="hljs-string">{({</span>
         <span class="hljs-attr">icon:</span> (<span class="hljs-attr">props</span>)=&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">IonIcon</span> {<span class="hljs-attr">...props</span>} /&gt;</span>
      })}
      &gt;
         <span class="hljs-tag">&lt;<span class="hljs-name">CounterScreen</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">PaperProvider</span>&gt;</span></span>
   )
}
</div></code></pre>
<ul>
<li>Ahora solo tengo que añadir el icono que quiero a la propiedad icon. Ya no necesita el label</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> FloatingAB = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">FAB</span> 
    <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.fab}</span> 
    <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>console.log("FAB!")}
    icon='add'
    /&gt;</span>
  )
}
</div></code></pre>
<hr>
<h1 id="03-react-native---flex">03 REACT NATIVE - FLEX</h1>
<h2 id="fundamentos">Fundamentos</h2>
<p>Tenemos:
- <strong>Box Object Model</strong>: alto, ancho. margin, border
- <strong>Position</strong>: absolute, relative, top, left, right, bottom
- <strong>Flexbox</strong>: dirección, ubicación, alineamiento, estirar, encoger, proporciones</p>
<h3 id="box-object-model">Box Object Model</h3>
<ul>
<li>
<p>Es el width, el height, el padding, el border, y el margin</p>
</li>
<li>
<p>Tenemos</p>
<ul>
<li>margin</li>
<li>marginLeft</li>
<li>marginRight</li>
<li>marginTop</li>
<li>marginBottom</li>
<li>marginVertical</li>
<li>marginHorizontal</li>
</ul>
</li>
<li>
<p>Lo mismo con el padding</p>
</li>
<li>
<p>Con el border es un poco diferente</p>
<ul>
<li>borderWidth</li>
<li>borderLeftWidth</li>
</ul>
</li>
<li>
<ul>
<li>right, bottom y top</li>
</ul>
</li>
<li>
<p>Para el color uso borderColor: 'color'</p>
</li>
<li>
<p>Siempre es el padre quien determina el tamaño</p>
<ul>
<li>Si al padre le pongo un height de 30 y el fontSize del hijo es de 45, las letras se verán cortadas</li>
<li>Si el hijo tiene un tamaño relativo, será relativo al padre</li>
</ul>
</li>
<li>
<p>Con <strong>flex:1</strong> toma todo el tamaño posible</p>
</li>
<li>
<p>Con el SafeAreaView en App, si coloco un flex:1 en el componente hijo <strong>NO SE VE</strong> porque el SafeAreaView no tiene un tamaño</p>
</li>
<li>
<p>Esto se soluciona dándole un height al SafeAreaView</p>
</li>
</ul>
<pre class="hljs"><code><div>&lt;SafeAreaView style={{<span class="hljs-attr">height</span>: <span class="hljs-number">500</span>}} &gt;
</div></code></pre>
<ul>
<li>Si aplico un borderWidth <strong>sin un padding</strong> el border de la caja tapará las letras</li>
<li>El padding hace una separación interna, el margin hace una separación con el padre</li>
</ul>
<h3 id="height-width-porcentual-y-dimensiones-de-la-pantalla">Height, width porcentual y dimensiones de la pantalla</h3>
<ul>
<li>Los porcentajes son relativos al padre</li>
<li>Los porcentajes se escriben como string width: '50%'</li>
<li>Si quiero que la caja tome la mitad de la pantalla indistintamente de lo que mida el padre de ancho</li>
<li>Puedo usar <strong>Dimensions</strong></li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> {Dimensions} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">const</span> windowWith = Dimensions.get(<span class="hljs-string">'window'</span>).width
<span class="hljs-keyword">const</span> windowHeight = Dimensions.get(<span class="hljs-string">'window'</span>).height

<span class="hljs-comment">//o puedo usar desestructuración</span>

<span class="hljs-keyword">const</span> {width, height} = Dimensions.get(<span class="hljs-string">'window'</span>)
</div></code></pre>
<ul>
<li>Puedo tomar todas las propiedades de CSS que haya escrito en la StyleSheet <strong>usando el operador spread</strong></li>
<li>Las propiedades que escriba dentro del objeto se sobreescribirán</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> {width, height} = Dimensions.get(<span class="hljs-string">'window'</span>)

&lt;View style={{
    ...styles.purplebox,
    <span class="hljs-attr">width</span>: width * <span class="hljs-number">0.5</span>   <span class="hljs-comment">//así ocupa la mitad de la pantalla </span>
}} &gt;
</div></code></pre>
<h3 id="position">Position</h3>
<ul>
<li>El position puede ser absolute o relative</li>
<li>La position por defecto es relative (al padre)</li>
<li>Inclusive cuando es absolute es relative al padre</li>
<li>Con <strong>position relative</strong> el bottom: 0 es en el mismo punto dónde se encuentra</li>
<li>Si le pongo valores positivos al bottom va a empezar a subir.
<ul>
<li>Todo es relativo a la posición en la que se encuentra la caja</li>
<li>Si tiene otra caja no la empujará al moverlo, pero si al colocarlas inicialmente en su construcción</li>
<li>Se verá según el orden en el que fueron construidos (se solaparán)</li>
<li>Por defecto se colocan en columna</li>
</ul>
</li>
<li>Con <strong>position absolute</strong> el bottom: 0 es relativo al padre, es decir, iría abajo del todo al bottom del padre a la izquierda
<ul>
<li>Por defecto el left es 0.</li>
<li>Si tenemos dos elementos y el primero tiene el position en absolute, es como si no ocupara un espacio.</li>
<li>Es decir, que el segundo elemento se colocará encima</li>
<li>Puedo usar el absolute para colocar la caja donde quiera relativa al padre indistintamente usando top: 0, right: 0, etc</li>
</ul>
</li>
</ul>
<hr>
<h2 id="flexbox-en-react-native">Flexbox en React Native</h2>
<ul>
<li>Puedo usar varios Views y distribuir el espacio con flex:1, flex:2, flex:3, donde flex:1 = 1/6, flex:2 = 2/6, y flex:3 = 3/6</li>
<li>Tenemos en <strong>direcciones</strong>: column, row, column-reverse y row-reverse</li>
<li>En <strong>justifyContent</strong> tenemos: flex-start, flex-end, center, space-between, space-around, space-evenly</li>
<li>En <strong>alignItems</strong> tenemos: stretch (por defecto, similar al auto), flex-start, flex-end, center, baseline (se usa poco)</li>
<li>El eje de justifyContent y alignItems varia si estoy en row o column</li>
<li><strong>alignSelf</strong>: es un alineamiento que le damos a un objeto en particular sobreescribiendo el del padre. Son los mismos que alignItems</li>
<li><strong>alignContent</strong> funciona igual que el justifyContent pero en el eje vertical en el caso de estar en row</li>
<li><strong>flexWrap</strong>: limita los objetos al espacio disponible</li>
<li><strong>flexBasis, Grow and Shrink</strong>: como quieres que se estire, que se encoja</li>
<li><strong>Row Gap, Column Gap and Gap</strong>: añade espacios</li>
</ul>
<hr>
<h2 id="tips">Tips</h2>
<ul>
<li>Si pongo alignItems en stretch (estando en row) y quiero que se estiren en su totalidad verticalmente, le quito el height al objeto</li>
<li>Si le quito el width desaparecen</li>
<li>Para que cada caja ocupe el máximo disponible de alto y ancho pongo flex: 1</li>
<li>Con alignSelf (estando en row) si quiero que uno de los elementos esté en el bottom, puedo usar flex-end</li>
<li>Con alignSelf sigue siendo vigente la dirección. Si cambio a row-reverse se invertirán</li>
<li>Con flexWrap los objetos se alinearán en una fila o columna siguiente. Tengo 'wrap' y 'no-wrap'
<ul>
<li>Usándolo conjuntamente con el gap se crea un grid</li>
<li>Tengo gap, columnGap y rowGap</li>
</ul>
</li>
</ul>
<hr>
<h1 id="react-native---navegacion">REACT NATIVE - NAVEGACION</h1>
<h2 id="tipos-de-navegaci%C3%B3n">Tipos de Navegación</h2>
<ul>
<li>Usaremos el paquete React Navigation</li>
<li>Tenemos:
<ul>
<li><strong>Stack Navigation</strong>: las pantallas se apilan como en una baraja de cartas</li>
<li><strong>Drawer Navigation</strong>: abre un menú lateral</li>
<li><strong>BottomTab Navigation</strong>: tienes las opciones en el bottom</li>
<li><strong>MaterialTop Navigation</strong>: tienes las opciones en el top</li>
</ul>
</li>
<li>Se pueden combinar. Tiene su ciencia!</li>
<li>Con navigation.navigate navegamos entre las pantallas</li>
<li>En Stack Navigation podemos deshacernos de las pantallas con <strong>navigation.pop</strong>, con <strong>popToTop</strong> volvemos a la primera, con <strong>goBack</strong> a la anterior</li>
</ul>
<hr>
<h2 id="instalaciones">Instalaciones</h2>
<ul>
<li>Creo los directorios en src
<ul>
<li><strong>presentation</strong>: la capa de presentacion, lo que está cerca del usuario. Componentes, visualización y demás
<ul>
<li>Dentro de presentation creo <strong>screens</strong> para las pantallas, <strong>theme</strong> para los estilos globales con theme.ts, <strong>routes</strong> para las rutas y <strong>components</strong></li>
</ul>
</li>
<li>Dentro de screens creo una carpeta <strong>home</strong> con la <strong>HomeScreen.tsx</strong></li>
<li>Creo otras dos carpetas dentro de screens llamada products con ProductScreen.tsx y ProductsScreen.tsx y tabs con Tab1Screen, 2 y 3</li>
<li>Creo también la carpeta about dentro de screens con la AboutScreen.tsx</li>
<li>Creo otra carpeta dentro de screens llamada profiles con ProfileScreen.tsx y settings con SettingsScreen.tsx</li>
</ul>
</li>
</ul>
<blockquote>
<p>npm i @react-navigation/native
npm install react-native-gesture-handler
npm i react-native-screens  react-native-safe-area-context
npm i @react-native-community/masked-view</p>
</blockquote>
<ul>
<li>Usa import 'react-native-gesture-handler' en App.tsx <strong>encima de todos los import</strong></li>
<li>Lanza la app para ver si hay algún error</li>
<li>Si da error con la ruta HOME de JAVA colocar la ruta en gradle.properties</li>
</ul>
<pre class="hljs"><code><div>org.gradle.java.home=C:\\Program Files\\Java\\jdk-17
</div></code></pre>
<ul>
<li>Si da error  de React.jsx: type is invalid, cambiar App por una función de flecha, no exportarlo por default y cambiar la exportación en index.js</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> <span class="hljs-string">'react-native-gesture-handler'</span>;
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> App=(): React.JSX.Element=&gt; {


  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Hello world<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  );
}
</div></code></pre>
<ul>
<li>index.js</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> {AppRegistry} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;
<span class="hljs-keyword">import</span> {App} <span class="hljs-keyword">from</span> <span class="hljs-string">'./App'</span>;
<span class="hljs-keyword">import</span> {name <span class="hljs-keyword">as</span> appName} <span class="hljs-keyword">from</span> <span class="hljs-string">'./app.json'</span>;

AppRegistry.registerComponent(appName, () =&gt; App);
</div></code></pre>
<h2 id="react-navigation-stack">React Navigation Stack</h2>
<ul>
<li>Instalación</li>
</ul>
<blockquote>
<p>npm i @react-navigation/stack
npm install @react-native-masked-view/masked-view</p>
</blockquote>
<ul>
<li>En presentation/routes creo el archivo stackNavigator.tsx</li>
<li>Creo una navegación con el ejemplo de la documentación y le añado mis componentes</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { createStackNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/stack'</span>;
<span class="hljs-keyword">import</span> { HomeScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/home/HomeScreen'</span>;
<span class="hljs-keyword">import</span> { ProductsScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/products/ProductsScreen'</span>;
<span class="hljs-keyword">import</span> { SettingsScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/settings/SettingsScreen'</span>;

<span class="hljs-keyword">const</span> Stack = createStackNavigator();

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> StackNavigator =<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Stack.Navigator</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Home"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{HomeScreen}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Products"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{ProductsScreen}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Settings"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{SettingsScreen}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Stack.Navigator</span>&gt;</span></span>
  );
}
</div></code></pre>
<ul>
<li>Coloco el stackNavigator en App dentro de NavigationContainer</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> <span class="hljs-string">'react-native-gesture-handler'</span>;
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { StackNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'./src/presentation/routes/StackNavigator'</span>;
<span class="hljs-keyword">import</span> { NavigationContainer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>;


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> App=(): React.JSX.Element=&gt; {

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">NavigationContainer</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">StackNavigator</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">NavigationContainer</span>&gt;</span></span>
  );
}
</div></code></pre>
<hr>
<h2 id="navegar-a-otras-pantallas">Navegar a otras pantallas</h2>
<ul>
<li>Si hago un console.log de las props de HomeScreen hay muchas debido a que estoy dentro del NavigationContainer</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HomeScreen = <span class="hljs-function">(<span class="hljs-params">props: any</span>) =&gt;</span> {
  <span class="hljs-built_in">console</span>.log(props)
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>HomeScreen<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Tengo el <strong>navigation</strong>, <strong>navigate</strong>, el <strong>pop</strong> para cerrar la pantalla actual y regresar a la otra</li>
<li>Tipar estas props puede ser un poco retador. Tenemos <strong>hooks</strong> que nos permiten <strong>acceder a esa info</strong></li>
<li>Creo un botón que me llevará a productos</li>
<li>Le añado unos estilos desde los estilos globales</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> {StyleSheet} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> globalStyles = StyleSheet.create({
  <span class="hljs-attr">container</span>:{
    <span class="hljs-attr">flex</span>:<span class="hljs-number">1</span>,
    <span class="hljs-attr">padding</span>: <span class="hljs-number">20</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>
  },

  <span class="hljs-attr">primaryButton</span>:{
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'orange'</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">padding</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>
  },

  <span class="hljs-attr">buttonText</span>:{
    <span class="hljs-attr">color</span>: <span class="hljs-string">'black'</span>,
    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">18</span>
  }
})
</div></code></pre>
<ul>
<li>Luego crearemos este botón personalizado</li>
<li>Hagamos la navegación. Sale más fácil hacerlo con el hook <strong>useNavigation</strong></li>
<li>Tipo <strong>as never</strong> el componente al que navego, luego lo arreglaremos</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Pressable, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../theme/theme'</span>
<span class="hljs-keyword">import</span> { useNavigation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HomeScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  
  <span class="hljs-keyword">const</span> navigation = useNavigation()
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.container}</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> 
        <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span> navigation.navigate("Products" as never)}
        style={globalStyles.primaryButton} &gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.buttonText}</span> &gt;</span>Productos<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Podemos personalizar el Home que se ve arriba de la pantalla, más adelante</li>
<li>Creo el componente del botón personalizado</li>
<li>Dentro de components creo la carpeta /<strong>shared</strong> y dentro PrimaryButton.tsx</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Pressable, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../theme/theme'</span>


interface Props{
    <span class="hljs-attr">onPress</span>: <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> <span class="hljs-keyword">void</span>
    <span class="hljs-attr">label</span>: string
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> PrimaryButton  = <span class="hljs-function">(<span class="hljs-params">{label, onPress}: Props</span>) =&gt;</span> {


  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> 
    <span class="hljs-attr">onPress</span>=<span class="hljs-string">{onPress}</span>
    <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.primaryButton}</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.buttonText}</span>&gt;</span>{label}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>En HomeScreen añado el componente y creo otro para Settings</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Pressable, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../theme/theme'</span>
<span class="hljs-keyword">import</span> { useNavigation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>
<span class="hljs-keyword">import</span> { PrimaryButton } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/shared/PrimaryButton'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HomeScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  
  <span class="hljs-keyword">const</span> navigation = useNavigation()
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.container}</span> &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">PrimaryButton</span> <span class="hljs-attr">label</span>=<span class="hljs-string">{</span>"<span class="hljs-attr">Products</span>"} <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span> navigation.navigate("Products" as never)} /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">PrimaryButton</span> <span class="hljs-attr">label</span>=<span class="hljs-string">{</span>"<span class="hljs-attr">Settings</span>"} <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span> navigation.navigate("Settings" as never)} /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="estilizando-stack-navigator">Estilizando Stack Navigator</h2>
<ul>
<li>Configuraciones que podemos hacer al Stack Navigator</li>
<li>Con screenOptions tienes un montón de propiedades</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { createStackNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/stack'</span>;
<span class="hljs-keyword">import</span> { HomeScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/home/HomeScreen'</span>;
<span class="hljs-keyword">import</span> { ProductsScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/products/ProductsScreen'</span>;
<span class="hljs-keyword">import</span> { ProductScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/products/ProductScreen'</span>;
<span class="hljs-keyword">import</span> { SettingsScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/settings/SettingsScreen'</span>;

<span class="hljs-keyword">const</span> Stack = createStackNavigator();

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> StackNavigator=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Stack.Navigator</span> <span class="hljs-attr">screenOptions</span>=<span class="hljs-string">{{</span>
      <span class="hljs-attr">headerShown:</span> <span class="hljs-attr">true</span>,  //<span class="hljs-attr">false</span> <span class="hljs-attr">no</span> <span class="hljs-attr">muestra</span> <span class="hljs-attr">el</span> <span class="hljs-attr">header</span>
      <span class="hljs-attr">headerStyle:</span>{
        <span class="hljs-attr">elevation:</span> <span class="hljs-attr">0</span>, //<span class="hljs-attr">0</span> <span class="hljs-attr">elimina</span> <span class="hljs-attr">la</span> <span class="hljs-attr">linea</span> <span class="hljs-attr">divisoria</span> <span class="hljs-attr">del</span> <span class="hljs-attr">header</span>
        <span class="hljs-attr">shadowColor:</span> '<span class="hljs-attr">transparent</span>', //<span class="hljs-attr">hace</span> <span class="hljs-attr">que</span> <span class="hljs-attr">desaparezca</span> <span class="hljs-attr">en</span> <span class="hljs-attr">ios</span>
        
      }
    }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Home"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{HomeScreen}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Products"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{ProductsScreen}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Product"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{ProductScreen}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Settings"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{SettingsScreen}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Stack.Navigator</span>&gt;</span></span>
  );
}
</div></code></pre>
<ul>
<li>Stack.Screen también tiene la propiedad <strong>options</strong></li>
</ul>
<hr>
<h2 id="flatlist---pantalla-de-productos">FlatList - Pantalla de productos</h2>
<ul>
<li>En data le añado el arreglo, en renderItem puedo desestructurar el item para acceder al objeto</li>
<li>Si extraigo la data (en lugar de desestructurar item) puedo acceder a los separators (mirar documentación)</li>
<li>Puedo renderizar en cada botón el name del arreglo</li>
<li>Notar que el callback de renderItem está entre paréntesis y no llaves para hacer <strong>implícito el return</strong></li>
<li>Coloco un texto Ajustes en el bottom y otro botón</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { FlatList } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-gesture-handler'</span>
<span class="hljs-keyword">import</span> { globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../theme/theme'</span>
<span class="hljs-keyword">import</span> { PrimaryButton } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/shared/PrimaryButton'</span>
<span class="hljs-keyword">import</span> { useNavigation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>

<span class="hljs-keyword">const</span> products=[
  {<span class="hljs-attr">id</span>:<span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Spaceship"</span>},
  {<span class="hljs-attr">id</span>:<span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Car"</span>},
  {<span class="hljs-attr">id</span>:<span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Plane"</span>},
  {<span class="hljs-attr">id</span>:<span class="hljs-number">4</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"MotorCycle"</span>},
  {<span class="hljs-attr">id</span>:<span class="hljs-number">5</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Bike"</span>},
]

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> ProductsScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> navigation = useNavigation()
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.container}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Productos<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span>  
        <span class="hljs-attr">data</span>=<span class="hljs-string">{products}</span>
        <span class="hljs-attr">renderItem</span>=<span class="hljs-string">{({item})</span>=&gt;</span>(
        <span class="hljs-tag">&lt;<span class="hljs-name">PrimaryButton</span>
          <span class="hljs-attr">label</span>=<span class="hljs-string">{item.name}</span>
          <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>{navigation.navigate("Product" as never) } } /&gt;)} 
        /&gt;

        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginBottom:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">fontSize:30</span>}}&gt;</span>Ajustes<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">PrimaryButton</span> <span class="hljs-attr">label</span>=<span class="hljs-string">{</span>"<span class="hljs-attr">Ajustes</span>"} <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>navigation.navigate("Settings" as never)} /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="enviar-argumentos-entre-pantallas">Enviar argumentos entre pantallas</h2>
<ul>
<li>Con el <strong>navigation.navigate</strong>, los argumentos que siguen al componente son los que le va a mandar a esa pantalla</li>
<li>Los argumentos hay que tiparlos previamente</li>
</ul>
<pre class="hljs"><code><div>onPress= {()=&gt; {navigation.navigate(<span class="hljs-string">"Product"</span> <span class="hljs-keyword">as</span> never, {<span class="hljs-attr">id</span>: item.id ,<span class="hljs-attr">name</span>: item.name})}}
</div></code></pre>
<ul>
<li>Para evitar el <strong>as never</strong> en el tipado me creo un tipo <strong>RootStackParams</strong> en el Navigator</li>
<li>Le paso el RootStackParams al <strong>createStackNavigator</strong></li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { createStackNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/stack'</span>;
<span class="hljs-keyword">import</span> { HomeScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/home/HomeScreen'</span>;
<span class="hljs-keyword">import</span> { ProductsScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/products/ProductsScreen'</span>;
<span class="hljs-keyword">import</span> { SettingsScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/settings/SettingsScreen'</span>;
<span class="hljs-keyword">import</span> { ProductScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/products/ProductScreen'</span>;


<span class="hljs-keyword">export</span> type RootstackParams ={
  <span class="hljs-attr">Home</span>: <span class="hljs-literal">undefined</span>,
  <span class="hljs-attr">Product</span>: {<span class="hljs-attr">id</span>: number, <span class="hljs-attr">name</span>: string},
  <span class="hljs-attr">Products</span>: <span class="hljs-literal">undefined</span>,
  <span class="hljs-attr">Settings</span>:<span class="hljs-literal">undefined</span>,
}
<span class="hljs-keyword">const</span> Stack = createStackNavigator&lt;RootstackParams&gt;();

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> StackNavigator=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Stack.Navigator</span> <span class="hljs-attr">screenOptions</span>=<span class="hljs-string">{{</span>
      <span class="hljs-attr">headerShown:</span> <span class="hljs-attr">true</span>,  //<span class="hljs-attr">false</span> <span class="hljs-attr">no</span> <span class="hljs-attr">muestra</span> <span class="hljs-attr">el</span> <span class="hljs-attr">header</span>
      <span class="hljs-attr">headerStyle:</span>{
        <span class="hljs-attr">elevation:</span> <span class="hljs-attr">0</span>, //<span class="hljs-attr">0</span> <span class="hljs-attr">elimina</span> <span class="hljs-attr">la</span> <span class="hljs-attr">linea</span> <span class="hljs-attr">divisoria</span> <span class="hljs-attr">del</span> <span class="hljs-attr">header</span>
        <span class="hljs-attr">shadowColor:</span> '<span class="hljs-attr">transparent</span>', //<span class="hljs-attr">hace</span> <span class="hljs-attr">que</span> <span class="hljs-attr">desaparezca</span> <span class="hljs-attr">en</span> <span class="hljs-attr">ios</span>

      }
    }}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Home"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{HomeScreen}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Products"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{ProductsScreen}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Product"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{ProductScreen}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Settings"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{SettingsScreen}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Stack.Navigator</span>&gt;</span></span>
  );
}
</div></code></pre>
<ul>
<li>En ProductsScreen tengo que decirle al useNavigation <strong>cuáles son las properties disponibles</strong></li>
<li>Para eso <strong>le paso el genérico NavigationProp y a este el RootStackParams</strong></li>
<li>Puedo <strong>quitar el as never</strong></li>
<li>Le puedo poner type en la importación cuando es un tipo, ayuda a la transpilación ya que no se convierte en código real</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { FlatList } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-gesture-handler'</span>
<span class="hljs-keyword">import</span> { globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../theme/theme'</span>
<span class="hljs-keyword">import</span> { PrimaryButton } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/shared/PrimaryButton'</span>
<span class="hljs-keyword">import</span> { NavigationProp, useNavigation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>
<span class="hljs-keyword">import</span> { type RootstackParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../routes/StackNavigator'</span>

<span class="hljs-keyword">const</span> products=[
  {<span class="hljs-attr">id</span>:<span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Spaceship"</span>},
  {<span class="hljs-attr">id</span>:<span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Car"</span>},
  {<span class="hljs-attr">id</span>:<span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Plane"</span>},
  {<span class="hljs-attr">id</span>:<span class="hljs-number">4</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"MotorCycle"</span>},
  {<span class="hljs-attr">id</span>:<span class="hljs-number">5</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">"Bike"</span>},
]

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> ProductsScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> navigation = useNavigation&lt;NavigationProp&lt;RootstackParams&gt;&gt;() <span class="hljs-comment">//aqui!</span>

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.container}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Productos<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span>  
        <span class="hljs-attr">data</span>=<span class="hljs-string">{products}</span>
        <span class="hljs-attr">renderItem</span>=<span class="hljs-string">{({item})</span>=&gt;</span>(
        <span class="hljs-tag">&lt;<span class="hljs-name">PrimaryButton</span>
          <span class="hljs-attr">label</span>=<span class="hljs-string">{item.name}</span>
          <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>{navigation.navigate("Product", {id: item.id, name: item.name}) } } /&gt;)} 
        /&gt;

        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginBottom:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">fontSize:30</span>}}&gt;</span>Ajustes<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">PrimaryButton</span> <span class="hljs-attr">label</span>=<span class="hljs-string">{</span>"<span class="hljs-attr">Ajustes</span>"} <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>navigation.navigate("Settings")} /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>También podemos quitar el as never en Home haciendo el mismo proceso</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Pressable, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../theme/theme'</span>
<span class="hljs-keyword">import</span> { type NavigationProp, useNavigation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>
<span class="hljs-keyword">import</span> { PrimaryButton } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/shared/PrimaryButton'</span>
<span class="hljs-keyword">import</span> type {RootstackParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../routes/StackNavigator'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HomeScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  
  <span class="hljs-keyword">const</span> navigation = useNavigation&lt;NavigationProp&lt;RootstackParams&gt;&gt;()
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.container}</span> &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">PrimaryButton</span> <span class="hljs-attr">label</span>=<span class="hljs-string">{</span>"<span class="hljs-attr">Products</span>"} <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span> navigation.navigate("Products")} /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">PrimaryButton</span> <span class="hljs-attr">label</span>=<span class="hljs-string">{</span>"<span class="hljs-attr">Settings</span>"} <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span> navigation.navigate("Settings")} /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li><strong>Cómo obtenemos los argumentos que pasamos entre pantallas?</strong></li>
<li>Vienen en las <strong>props.params</strong>, pero puede ser que estés en una situación en la cual no puedas extraerlo de las props</li>
<li>Para ello usaremos <strong>useRoute</strong></li>
<li>Para tiparlo uso como genérico el RouteProp, y dentro cómo genérico le paso el RootstackParams, del componente Product</li>
<li>Sin el tipado quedaría useRoute().params</li>
<li>Con el tipado ya puedo desestructurar el id y el name y pasarselo al Text</li>
<li>Para colocar el nombre del producto en el header usaré un <strong>useEffect</strong></li>
<li>Accedo al header a través del <strong>useNavigation</strong> con el método <strong>setOptions y la propiedad title</strong></li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { type RouteProp, useRoute, useNavigation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>
<span class="hljs-keyword">import</span> React, { useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { type RootstackParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../routes/StackNavigator'</span>
<span class="hljs-keyword">import</span> { globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../theme/theme'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> ProductScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> {id, name} = useRoute&lt;RouteProp&lt;RootstackParams, <span class="hljs-string">'Product'</span>&gt;&gt;().params <span class="hljs-comment">//los argumentos estan en .params</span>
  <span class="hljs-keyword">const</span> navigation = useNavigation()

  useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
    navigation.setOptions({
      <span class="hljs-attr">title</span>: name
    })
  },[])

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.container}</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">20</span>, <span class="hljs-attr">textAlign:</span> '<span class="hljs-attr">center</span>', <span class="hljs-attr">marginTop:</span> <span class="hljs-attr">20</span>}}&gt;</span>{id} - {name} <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="stack-poptopop">Stack PopToPop</h2>
<ul>
<li>Para volver al Home ya no tenemos el popToTop directamente del navigator. Tenemos que usar el dispatch</li>
<li>Tenemos ciertas acciones específicas que estan en el StackActions. Así nos ahorramos tipar el useNavigation</li>
<li>También puedo usar el .goBack() para volver atrás</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../theme/theme'</span>
<span class="hljs-keyword">import</span> { PrimaryButton } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/shared/PrimaryButton'</span>
<span class="hljs-keyword">import</span> { StackActions, useNavigation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> SettingsScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> navigator = useNavigation()

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.container}</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginBottom:</span> <span class="hljs-attr">10</span>}} &gt;</span>SettingsScreen<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">PrimaryButton</span> 
        <span class="hljs-attr">label</span>=<span class="hljs-string">"Regresar"</span>
        <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>navigator.goBack()} /&gt;
        
        <span class="hljs-tag">&lt;<span class="hljs-name">PrimaryButton</span> 
        <span class="hljs-attr">label</span>=<span class="hljs-string">"Regresar"</span>
        <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>navigator.dispatch(StackActions.popToTop())} /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="drawer-navigation">Drawer Navigation</h2>
<ul>
<li>Es el menu lateral</li>
<li>Se puede personalizar, pero el comportamiento que viene predefinido es el de mostrar enlaces</li>
<li>Configuración</li>
</ul>
<blockquote>
<p>npm i @react-navigation/drawer react-native-reanimated</p>
</blockquote>
<ul>
<li>Creo el componente en /routes/SideMenuNavigator</li>
<li>Coloco el StackNavigator</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> {createDrawerNavigator} <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/drawer'</span>
<span class="hljs-keyword">import</span> { StackNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'./StackNavigator'</span>
<span class="hljs-keyword">import</span> { ProfileScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/profiles/ProfileScreen'</span>

<span class="hljs-keyword">const</span> Drawer = createDrawerNavigator()

<span class="hljs-keyword">const</span> SideMenuNavigator = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  
    <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Drawer.Navigator</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Drawer.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"StackNavigator"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{StackNavigator}</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Drawer.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Profile"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{ProfileScreen}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Drawer.Navigator</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> SideMenuNavigator
</div></code></pre>
<ul>
<li>Dentro del NavigationContainer, en lugar del StackNavigator muestor el SideMenuNavigator</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> <span class="hljs-string">'react-native-gesture-handler'</span>;
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> { NavigationContainer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>;
<span class="hljs-keyword">import</span> SideMenuNavigator <span class="hljs-keyword">from</span> <span class="hljs-string">'./src/presentation/routes/SideMenuNavigator'</span>;


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> App=(): React.JSX.Element=&gt; {

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">NavigationContainer</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">SideMenuNavigator</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">NavigationContainer</span>&gt;</span></span>
  );
}
</div></code></pre>
<ul>
<li>A veces da problemas el BUILD con el reanimated, prueba de mover el proyecto a un Path más corto y un nombre de carpeta mas corto</li>
<li>También puede ayudar este comando para que borre la info preprocesada</li>
<li>Para resolver el error de can´t read isConfigured of undefined ir a babel.config.js y añadir</li>
</ul>
<blockquote>
<p>npx react-native start --resetCache</p>
</blockquote>
<pre class="hljs"><code><div><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">presets</span>: [<span class="hljs-string">'module:@react-native/babel-preset'</span>],
  <span class="hljs-attr">plugins</span>: [<span class="hljs-string">'react-native-reanimated/plugin'</span>]
};
</div></code></pre>
<hr>
<h2 id="toggle-drawer---mostrarocultar">Toggle Drawer - Mostrar/Ocultar</h2>
<ul>
<li>Quiero simular el botón del Drawer debajo del Header, donde dice Home. No lo quiero en el Header</li>
<li>Voy a HomeScreen, creo un botón Menu con un useEffect y usando el <strong>navigation.setOptions</strong> lo coloco a la izquierda</li>
<li>Para hacer que tenga el comportamiento del Drawer uso el onPress</li>
<li>Para tiparlo en el useNavigation puede ser un poco complicado, por eso uso el <strong>dispatch con el DrawerActions</strong></li>
<li>Notar que el callback de headerLeft no está entre llaves si no <strong>entre paréntesis haciendo el return implícito</strong></li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Pressable, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../theme/theme'</span>
<span class="hljs-keyword">import</span> { type NavigationProp, useNavigation, DrawerActions } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>
<span class="hljs-keyword">import</span> { PrimaryButton } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/shared/PrimaryButton'</span>
<span class="hljs-keyword">import</span> type {RootstackParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../routes/StackNavigator'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HomeScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  
  <span class="hljs-keyword">const</span> navigation = useNavigation&lt;NavigationProp&lt;RootstackParams&gt;&gt;()

  useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

    navigation.setOptions({
      <span class="hljs-attr">headerLeft</span>:<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>( 
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>navigation.dispatch(DrawerActions.toggleDrawer)} &gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Menu<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span> 
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span></span>
      )
    })

  }, [])
  
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.container}</span> &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">PrimaryButton</span> <span class="hljs-attr">label</span>=<span class="hljs-string">{</span>"<span class="hljs-attr">Products</span>"} <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span> navigation.navigate("Products")} /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">PrimaryButton</span> <span class="hljs-attr">label</span>=<span class="hljs-string">{</span>"<span class="hljs-attr">Settings</span>"} <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span> navigation.navigate("Settings")} /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>En ios, al desplegar el drawer, empuja el contenido, en Android se coloca por encima</li>
</ul>
<hr>
<h2 id="drawer-personalizado">Drawer Personalizado</h2>
<ul>
<li>En <strong>Drawer.Navigator</strong> tengo un montón de propiedades. Una de ellas es <strong>screenOptions</strong></li>
<li>Con drawerType en slide empuja los elementos al desplegar el menú lateral</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> {createDrawerNavigator} <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/drawer'</span>
<span class="hljs-keyword">import</span> { StackNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'./StackNavigator'</span>
<span class="hljs-keyword">import</span> { ProfileScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/profiles/ProfileScreen'</span>

<span class="hljs-keyword">const</span> Drawer = createDrawerNavigator()

<span class="hljs-keyword">const</span> SideMenuNavigator = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  
    <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Drawer.Navigator</span> <span class="hljs-attr">screenOptions</span>=<span class="hljs-string">{{</span>
      <span class="hljs-attr">headerShown:</span> <span class="hljs-attr">false</span>,
      <span class="hljs-attr">drawerType:</span> '<span class="hljs-attr">slide</span>',
      <span class="hljs-attr">drawerActiveBackgroundColor:</span> '<span class="hljs-attr">orange</span>',
      <span class="hljs-attr">drawerActiveTintColor:</span> '<span class="hljs-attr">white</span>',
      <span class="hljs-attr">drawerInactiveTintColor:</span> '<span class="hljs-attr">black</span>',
      <span class="hljs-attr">drawerItemStyle:</span>{
        <span class="hljs-attr">borderRadius:</span> <span class="hljs-attr">100</span>,
        <span class="hljs-attr">paddingHorizontal:</span> <span class="hljs-attr">20</span>
      }
      }} &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Drawer.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"MenuItem1"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{StackNavigator}</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Drawer.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Profile"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{ProfileScreen}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Drawer.Navigator</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> SideMenuNavigator
</div></code></pre>
<ul>
<li>Cuando necesito un nivel más alto de personalización, puedo crear un nuevo componente y colocarlo en la prop drawerContent</li>
<li>Le paso las props DrawerContentComponentProps</li>
<li>Dentro creo un DrawerContentScrollview y le meto un View con estilos</li>
<li>A DrawerItemList le esparzo las props</li>
<li>Le paso el componente a drawerContent y esparzo las props, que en este caso es lo que hay en <strong>screenOptions</strong></li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> {DrawerContentComponentProps, DrawerContentScrollView, DrawerItemList, createDrawerNavigator} <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/drawer'</span>
<span class="hljs-keyword">import</span> { StackNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'./StackNavigator'</span>
<span class="hljs-keyword">import</span> { ProfileScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/profiles/ProfileScreen'</span>
<span class="hljs-keyword">import</span> { View, Text } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>


<span class="hljs-keyword">const</span> Drawer = createDrawerNavigator()

<span class="hljs-keyword">const</span> SideMenuNavigator = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  
    <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Drawer.Navigator</span> 
      <span class="hljs-attr">drawerContent</span>=<span class="hljs-string">{(props)</span>=&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">CustomDrawerContent</span> {<span class="hljs-attr">...props</span>} /&gt;</span>}
    screenOptions={{
      headerShown: false,
      drawerType: 'slide',
      drawerActiveBackgroundColor: 'orange',
      drawerActiveTintColor: 'white',
      drawerInactiveTintColor: 'black',
      drawerItemStyle:{
        borderRadius: 100,
        paddingHorizontal: 20
      }
      }} &gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Drawer.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"MenuItem1"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{StackNavigator}</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Drawer.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Profile"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{ProfileScreen}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Drawer.Navigator</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">const</span> CustomDrawerContent = <span class="hljs-function">(<span class="hljs-params">props: DrawerContentComponentProps</span>)=&gt;</span>{
  
  <span class="hljs-keyword">return</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">DrawerContentScrollView</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
      <span class="hljs-attr">height:</span> <span class="hljs-attr">200</span>,
      <span class="hljs-attr">backgroundColor:</span> '#<span class="hljs-attr">ded1a9</span>',
      <span class="hljs-attr">margin:</span> <span class="hljs-attr">30</span>,
      <span class="hljs-attr">borderRadius:</span> <span class="hljs-attr">50</span>
    }}&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">DrawerItemList</span> {<span class="hljs-attr">...props</span>} /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">DrawerContentScrollView</span>&gt;</span></span>)
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> SideMenuNavigator
</div></code></pre>
<ul>
<li>Cuando pongo la pantalla horizontal queda mucho espacio abajo, podría mostrar el menú</li>
<li>No es para nada complicado. Utilizo <strong>useWindowDimensions</strong> para obtener las dimensiones de la pantalla</li>
<li>Si en lugar de 'slide' en la propiedad drawerTpe coloco 'permanent' siempre se muestra el menú</li>
<li>renderizo condicionalmente según las dimensiones de la pantalla para que siempre se muestre el menú cuando esté en horizontal</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> {DrawerContentComponentProps, DrawerContentScrollView, DrawerItemList, createDrawerNavigator} <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/drawer'</span>
<span class="hljs-keyword">import</span> { StackNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'./StackNavigator'</span>
<span class="hljs-keyword">import</span> { ProfileScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/profiles/ProfileScreen'</span>
<span class="hljs-keyword">import</span> { View, Text, useWindowDimensions } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>


<span class="hljs-keyword">const</span> Drawer = createDrawerNavigator()

<span class="hljs-keyword">const</span> SideMenuNavigator = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> dimensions = useWindowDimensions();
  
    <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Drawer.Navigator</span> 
      <span class="hljs-attr">drawerContent</span>=<span class="hljs-string">{(props)</span>=&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">CustomDrawerContent</span> {<span class="hljs-attr">...props</span>} /&gt;</span>}
    screenOptions={{
      headerShown: false,
      drawerType: dimensions.width &gt;= 758? 'permanent': 'slide', //siempre se mostrará el menú en horizontal
      drawerActiveBackgroundColor: 'orange',
      drawerActiveTintColor: 'white',
      drawerInactiveTintColor: 'black',
      drawerItemStyle:{
        borderRadius: 100,
        paddingHorizontal: 20
      }
      }} &gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Drawer.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"MenuItem1"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{StackNavigator}</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Drawer.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Profile"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{ProfileScreen}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Drawer.Navigator</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">const</span> CustomDrawerContent = <span class="hljs-function">(<span class="hljs-params">props: DrawerContentComponentProps</span>)=&gt;</span>{
  
  <span class="hljs-keyword">return</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">DrawerContentScrollView</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
      <span class="hljs-attr">height:</span> <span class="hljs-attr">200</span>,
      <span class="hljs-attr">backgroundColor:</span> '#<span class="hljs-attr">ded1a9</span>',
      <span class="hljs-attr">margin:</span> <span class="hljs-attr">30</span>,
      <span class="hljs-attr">borderRadius:</span> <span class="hljs-attr">50</span>
    }}&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{color:</span> '<span class="hljs-attr">white</span>', <span class="hljs-attr">fontSize:30</span>, <span class="hljs-attr">lineHeight:</span> <span class="hljs-attr">200</span>, <span class="hljs-attr">textAlign:</span> '<span class="hljs-attr">center</span>'}}&gt;</span>Image<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">DrawerItemList</span> {<span class="hljs-attr">...props</span>} /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">DrawerContentScrollView</span>&gt;</span></span>)
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> SideMenuNavigator
</div></code></pre>
<hr>
<h2 id="usesafeareainserts">useSafeAreaInserts</h2>
<ul>
<li>Voy a ProfileScreen</li>
<li>A veces hay teléfonos que tienen un notch muy grande y no es seguro que haya contenido en esa zona del teléfono</li>
<li>El SafeAreaView limita como muestro el contenido, por ejemplo con un ScrollView</li>
<li>Para que no limite el scroll usamos useSfaeAreaInsets</li>
<li>Uso el dispatch con DrawerActions para disparar en el onPress el Menu</li>
<li>Puedo tipar el useNavigation si así lo deseo</li>
<li>También se puede trabajar siempre con el dispatch, con rutas específicas (se verá más adelante)</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { useSafeAreaInsets } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-safe-area-context'</span>
<span class="hljs-keyword">import</span> { PrimaryButton } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/shared/PrimaryButton'</span>
<span class="hljs-keyword">import</span> { DrawerActions, useNavigation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> ProfileScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> {top} = useSafeAreaInsets()
  <span class="hljs-keyword">const</span> navigator = useNavigation()
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{flex:</span> <span class="hljs-attr">1</span>, <span class="hljs-attr">paddingHorizontal:</span> <span class="hljs-attr">20</span>, <span class="hljs-attr">marginTop:</span> <span class="hljs-attr">top</span>+<span class="hljs-attr">10</span>}}&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{textAlign:</span> '<span class="hljs-attr">center</span>', <span class="hljs-attr">fontSize:30</span>, <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">10</span>}} &gt;</span>Profile<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{flex:</span> <span class="hljs-attr">1</span>, <span class="hljs-attr">flexDirection:</span> '<span class="hljs-attr">column</span>', <span class="hljs-attr">justifyContent:</span> '<span class="hljs-attr">flex-end</span>', <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">10</span>}}&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">PrimaryButton</span> <span class="hljs-attr">label</span>=<span class="hljs-string">"Abrir Menú"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>navigator.dispatch(DrawerActions.toggleDrawer)}/&gt;
        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="bottom-tabs-material-top-tabs">Bottom Tabs, Material Top Tabs</h2>
<ul>
<li>Instalación</li>
</ul>
<blockquote>
<p>npm i @react-navigation/bottom-tabs</p>
</blockquote>
<ul>
<li>En src/routes creo BottomNavigator.tsx</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { createBottomTabNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/bottom-tabs'</span>;
<span class="hljs-keyword">import</span> { Tab1Screen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/tabs/Tab1Screen'</span>;
<span class="hljs-keyword">import</span> { Tab2Screen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/tabs/Tab2Screen'</span>;
<span class="hljs-keyword">import</span> { Tab3Screen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/tabs/Tab3Screen'</span>;

<span class="hljs-keyword">const</span> Tab = createBottomTabNavigator();

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> BottomNavigator=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Tab.Navigator</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Tab.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Tab1"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{Tab1Screen}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Tab.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Tab2"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{Tab2Screen}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Tab.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Tab3"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{Tab3Screen}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Tab.Navigator</span>&gt;</span></span>
  );
}
</div></code></pre>
<ul>
<li>Hay que determinar en qué momento voy a mostrar el Bottom</li>
<li>Para mantener el Drawer, en liugar del StackNavigator coloco el BottomNavigator</li>
<li>App.tsx</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> {DrawerContentComponentProps, DrawerContentScrollView, DrawerItemList, createDrawerNavigator} <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/drawer'</span>
<span class="hljs-keyword">import</span> { StackNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'./StackNavigator'</span>
<span class="hljs-keyword">import</span> { ProfileScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/profiles/ProfileScreen'</span>
<span class="hljs-keyword">import</span> { View, Text, useWindowDimensions } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { BottomNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'./BottomNavigator'</span>


<span class="hljs-keyword">const</span> Drawer = createDrawerNavigator()

<span class="hljs-keyword">const</span> SideMenuNavigator = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> dimensions = useWindowDimensions();
  
    <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Drawer.Navigator</span> 
      <span class="hljs-attr">drawerContent</span>=<span class="hljs-string">{(props)</span>=&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">CustomDrawerContent</span> {<span class="hljs-attr">...props</span>} /&gt;</span>}
    screenOptions={{
      headerShown: false,
      drawerType: dimensions.width &gt;= 758? 'permanent': 'slide', //siempre se mostrará el menú en horizontal
      drawerActiveBackgroundColor: 'orange',
      drawerActiveTintColor: 'white',
      drawerInactiveTintColor: 'black',
      drawerItemStyle:{
        borderRadius: 100,
        paddingHorizontal: 20
      }
      }} &gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Drawer.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Home"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{BottomNavigator}</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Drawer.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Profile"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{ProfileScreen}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Drawer.Navigator</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">const</span> CustomDrawerContent = <span class="hljs-function">(<span class="hljs-params">props: DrawerContentComponentProps</span>)=&gt;</span>{
  
  <span class="hljs-keyword">return</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">DrawerContentScrollView</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
      <span class="hljs-attr">height:</span> <span class="hljs-attr">200</span>,
      <span class="hljs-attr">backgroundColor:</span> '#<span class="hljs-attr">ded1a9</span>',
      <span class="hljs-attr">margin:</span> <span class="hljs-attr">30</span>,
      <span class="hljs-attr">borderRadius:</span> <span class="hljs-attr">50</span>
    }}&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{color:</span> '<span class="hljs-attr">white</span>', <span class="hljs-attr">fontSize:30</span>, <span class="hljs-attr">lineHeight:</span> <span class="hljs-attr">200</span>, <span class="hljs-attr">textAlign:</span> '<span class="hljs-attr">center</span>'}}&gt;</span>Image<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">DrawerItemList</span> {<span class="hljs-attr">...props</span>} /&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">DrawerContentScrollView</span>&gt;</span></span>)
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> SideMenuNavigator
</div></code></pre>
<ul>
<li>Necesito el menú de hamburguesa para desplegar el menú lateral</li>
<li>Primero personalicemos el BottomNavigator</li>
<li>Uso sceneContainerStyle para el background de la pantalla</li>
<li>Uso otras props para personalizar</li>
<li>En options, puedo pasarle el título para que se muestre arriba</li>
<li>También el tabBarIcon que pide un functional component, le puedo pasar un icono o lo que yo quiera
<ul>
<li>Puedo desestructurar el color de las props.</li>
<li>Esto hace que el color del icono (en este caso el texto) sea visible cuando la tab esté activa</li>
</ul>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { createBottomTabNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/bottom-tabs'</span>;
<span class="hljs-keyword">import</span> { Tab1Screen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/tabs/Tab1Screen'</span>;
<span class="hljs-keyword">import</span> { Tab2Screen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/tabs/Tab2Screen'</span>;
<span class="hljs-keyword">import</span> { Tab3Screen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/tabs/Tab3Screen'</span>;
<span class="hljs-keyword">import</span> { Text } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;

<span class="hljs-keyword">const</span> Tab = createBottomTabNavigator();

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> BottomNavigator=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Tab.Navigator</span>
    <span class="hljs-attr">sceneContainerStyle</span>=<span class="hljs-string">{{</span>
        <span class="hljs-attr">backgroundColor:</span> '<span class="hljs-attr">rgba</span>(<span class="hljs-attr">241</span>, <span class="hljs-attr">237</span>, <span class="hljs-attr">231</span>, <span class="hljs-attr">0.2</span>)',
    }}
    <span class="hljs-attr">screenOptions</span>=<span class="hljs-string">{{</span>
        //<span class="hljs-attr">headerShown:</span> <span class="hljs-attr">false</span>,
        <span class="hljs-attr">tabBarLabelStyle:</span>{
            <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">5</span>
        },
        <span class="hljs-attr">headerStyle:</span> { //<span class="hljs-attr">eliminar</span> <span class="hljs-attr">la</span> <span class="hljs-attr">linea</span> 
            <span class="hljs-attr">elevation:</span> <span class="hljs-attr">0</span>,
            <span class="hljs-attr">borderColor:</span> '<span class="hljs-attr">transparent</span>',
            <span class="hljs-attr">shadowColor:</span> '<span class="hljs-attr">transparent</span>'
        },
        <span class="hljs-attr">tabBarStyle:</span>{ //<span class="hljs-attr">para</span> <span class="hljs-attr">eliminar</span> <span class="hljs-attr">la</span> <span class="hljs-attr">linea</span> <span class="hljs-attr">en</span> <span class="hljs-attr">ios</span>
            <span class="hljs-attr">borderTopWidth:</span> <span class="hljs-attr">0</span>,
            <span class="hljs-attr">elevation:</span> <span class="hljs-attr">0</span>
        }

    }}
    &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Tab.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Tab1"</span> <span class="hljs-attr">options</span>=<span class="hljs-string">{{title:</span> "<span class="hljs-attr">Tab1</span>", <span class="hljs-attr">tabBarIcon:</span> ({<span class="hljs-attr">color</span>})=&gt;</span>(<span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{color:</span> <span class="hljs-attr">color</span>}}&gt;</span>Tab<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>)}} component={Tab1Screen} /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">Tab.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Tab2"</span> <span class="hljs-attr">options</span>=<span class="hljs-string">{{title:</span> "<span class="hljs-attr">Tab2</span>", <span class="hljs-attr">tabBarIcon:</span> ({<span class="hljs-attr">color</span>})=&gt;</span>(<span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{color:</span> <span class="hljs-attr">color</span>}}&gt;</span>Tab<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>)}}  component={Tab2Screen} /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">Tab.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Tab3"</span> <span class="hljs-attr">options</span>=<span class="hljs-string">{{title:</span> "<span class="hljs-attr">Tab3</span>", <span class="hljs-attr">tabBarIcon:</span> ({<span class="hljs-attr">color</span>})=&gt;</span>(<span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{color:</span> <span class="hljs-attr">color</span>}}&gt;</span>Tab<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>)}}  component={Tab3Screen} /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">Tab.Navigator</span>&gt;</span></span>
  );
}
</div></code></pre>
<hr>
<h2 id="men%C3%BA-de-hamburguesa">Menú de hamburguesa</h2>
<ul>
<li>En Tab1Screen llamo al useNavigation</li>
<li>Uso de nuevo el useEffect con navigation.setOptions</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { DrawerActions, useNavigation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>
<span class="hljs-keyword">import</span> React, { useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Pressable, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Tab1Screen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> navigation = useNavigation()

  useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
    navigation.setOptions({
      <span class="hljs-attr">headerLeft</span>: <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>(
       <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>navigation.dispatch(DrawerActions.toggleDrawer)}&gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Menu<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span></span> 
      )
    })
  }, [])

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Tab1Screen<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Ahora aparece el Menu que si toco me muestra el menú lateral</li>
<li>Hacer esto en cada uno de los tabs no sería lo adecuado. Mejor crear un componente para ello</li>
<li>Creo en componentes/shared/HamburguerMenu.tsx</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { DrawerActions, useNavigation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>
<span class="hljs-keyword">import</span> React, { useEffect } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Pressable, Text } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">const</span> HamburguerMenu = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  
    <span class="hljs-keyword">const</span> navigation = useNavigation()

    useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
      navigation.setOptions({
        <span class="hljs-attr">headerLeft</span>: <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>(
         <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>navigation.dispatch(DrawerActions.toggleDrawer)}&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Menu<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span></span> 
        )
      })
    }, [])
  
    <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;&gt;</span><span class="hljs-tag">&lt;/&gt;</span></span>) <span class="hljs-comment">//hay que regresar siempre un JSX, se puede usar un Fragment vacío</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> HamburguerMenu
</div></code></pre>
<ul>
<li>Lo coloco en el return de Tab1, Tab2 y Tab3</li>
</ul>
<hr>
<h2 id="material-top-navigator">Material Top Navigator</h2>
<ul>
<li>Instalación</li>
</ul>
<blockquote>
<p>npm i @react-navigation/material-top-tabs react-native-tab-view
npm i react-native-pager-view</p>
</blockquote>
<ul>
<li>Copio el ejemplo de la documentación y lo adapto a mi contenido</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { createMaterialTopTabNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/material-top-tabs'</span>;
<span class="hljs-keyword">import</span> { ProfileScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/profiles/ProfileScreen'</span>;
<span class="hljs-keyword">import</span> { AboutScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/about/AboutScreen'</span>;

<span class="hljs-keyword">const</span> Tab = createMaterialTopTabNavigator();

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span>  TopNavigator=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Tab.Navigator</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Tab.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Perfil"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{ProfileScreen}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Tab.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"About"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{AboutScreen}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Tab.Navigator</span>&gt;</span></span>
  );
}
</div></code></pre>
<ul>
<li>Para usarlo, pongamos que quiero mostrarlo en el Tab2</li>
<li>Entonces, voy a BottomNavigator, y en lugar de mostrar el Tab2Screen, coloco el TopNavigator</li>
</ul>
<pre class="hljs"><code><div>&lt;Tab.Screen name=<span class="hljs-string">"Tab2"</span>  options={{<span class="hljs-attr">title</span>: <span class="hljs-string">"Tab2"</span>, <span class="hljs-attr">tabBarIcon</span>: <span class="hljs-function">(<span class="hljs-params">{color}</span>)=&gt;</span>(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{color:</span> <span class="hljs-attr">color</span>}}&gt;</span>Tab<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>)}}  component={TopNavigator} /&gt;
</div></code></pre>
<hr>
<h2 id="instalar-iconos">Instalar iconos</h2>
<blockquote>
<p>npm i react-native-vector-icons
npm i -D @types/react-native-vector-icons</p>
</blockquote>
<ul>
<li>Editar android/app/build.gradle</li>
</ul>
<pre class="hljs"><code><div>project.ext.vectoricons =[
  iconFontNames: ['Ionicons.ttf']
]

apply from: file (&quot;../../node_modules/react-native-vector-icons/fonts.gradle&quot;)
</div></code></pre>
<ul>
<li>Para usarlo importo Icon</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> {Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> HamburguerMenu <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/shared/HamburguerMenu'</span>
<span class="hljs-keyword">import</span> Icon <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-vector-icons/Ionicons'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Tab3Screen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">HamburguerMenu</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:40,</span> <span class="hljs-attr">textAlign:</span> '<span class="hljs-attr">center</span>', <span class="hljs-attr">marginVertical:</span> <span class="hljs-attr">10</span>}}&gt;</span>Tab3Screen<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'rocket'</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{30}</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"#2d6ab9"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{textAlign:</span> '<span class="hljs-attr">center</span>'}} /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Para colocar los iconos en las Tabs puedo usar Icon o customizar un componente</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Icon } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-vector-icons/Icon'</span>

interface Props{
    <span class="hljs-attr">name</span>: string
    <span class="hljs-attr">size</span>: number
    <span class="hljs-attr">color</span>: string
}


<span class="hljs-keyword">const</span> IconComponent = <span class="hljs-function">(<span class="hljs-params">{name,size,color}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">{name}</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{size}</span> <span class="hljs-attr">color</span>=<span class="hljs-string">{color}</span>     /&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> IconComponent
</div></code></pre>
<ul>
<li>Ahora solo tengo que colocarlo.</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> {Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> HamburguerMenu <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/shared/HamburguerMenu'</span>
<span class="hljs-keyword">import</span> Icon <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-vector-icons/Ionicons'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Tab3Screen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">HamburguerMenu</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:40,</span> <span class="hljs-attr">textAlign:</span> '<span class="hljs-attr">center</span>', <span class="hljs-attr">marginVertical:</span> <span class="hljs-attr">10</span>}}&gt;</span>Tab3Screen<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'rocket'</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{30}</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"#2d6ab9"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{textAlign:</span> '<span class="hljs-attr">center</span>'}} /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Para colocarlo en las tabs</li>
</ul>
<pre class="hljs"><code><div>&lt;Tab.Screen name=<span class="hljs-string">"Tab3"</span> options={{<span class="hljs-attr">title</span>: <span class="hljs-string">"Tab3"</span>, <span class="hljs-attr">tabBarIcon</span>:<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">IconComponent</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"bicycle"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{30}</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"orange"</span> /&gt;</span></span> }}  component={Tab3Screen} /&gt;
</div></code></pre>
<hr>
<h2 id="react-native---compartir-estado-global-zustand">REACT NATIVE - COMPARTIR ESTADO GLOBAL ZUSTAND</h2>
<ul>
<li>Practiquemos como comunicar componentes con Zustand</li>
<li><strong>NOTA</strong>: si da problemas <em>evaluating project ':app'</em> indicar donde se encuentra java en gradle.properties</li>
</ul>
<pre class="hljs"><code><div>org.gradle.java.home=C:\\Program Files\\Java\\jdk-17
</div></code></pre>
<ul>
<li>Creo src/Main.tsx</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Main = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Hello world!<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Lo renderizo en index.js en lugar de App</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-comment">/**
 * <span class="hljs-doctag">@format</span>
 */</span>

<span class="hljs-keyword">import</span> {AppRegistry} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;
<span class="hljs-keyword">import</span> {App} <span class="hljs-keyword">from</span> <span class="hljs-string">'./App'</span>;
<span class="hljs-keyword">import</span> {name <span class="hljs-keyword">as</span> appName} <span class="hljs-keyword">from</span> <span class="hljs-string">'./app.json'</span>;
<span class="hljs-keyword">import</span> { Main } <span class="hljs-keyword">from</span> <span class="hljs-string">'./src/Main'</span>;

AppRegistry.registerComponent(appName, () =&gt; Main);
</div></code></pre>
<ul>
<li>Creo la estructura de directorios
<ul>
<li>presentation
<ul>
<li>store</li>
<li>screens
<ul>
<li>home/HomeScreen.tsx</li>
<li>profile/ProfileScreen.tsx</li>
<li>settings/SettingsScreen.tsx</li>
</ul>
</li>
</ul>
</li>
<li>config/appTheme.tsx</li>
</ul>
</li>
<li>Creo en appTheme los estilos globales</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> {StyleSheet} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> styles = StyleSheet.create({
  <span class="hljs-attr">container</span>:{
    <span class="hljs-attr">paddingHorizontal</span>: <span class="hljs-number">20</span>,
    <span class="hljs-attr">marginTop</span>: <span class="hljs-number">10</span>
  },
  <span class="hljs-attr">title</span>:{
    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span>,
    <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">'bold'</span>,
    <span class="hljs-attr">color</span>: <span class="hljs-string">'black'</span>
  },

  <span class="hljs-attr">primaryButton</span>:{
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'purple'</span>,
    <span class="hljs-attr">padding</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">marginVertical</span>: <span class="hljs-number">10</span>
  }
})
</div></code></pre>
<ul>
<li>Aplico los estilos de los containers a los View de SettingsScreen, ProfileScreen y HomeScreen</li>
<li>Configuro el BottomTabNavigator para mostrar estos tres componentes</li>
</ul>
<blockquote>
<p>npm install @react-navigation/native @react-navigation/native-stack
npm install react-native-screens react-native-safe-area-context
npm install @react-navigation/bottom-tabs</p>
</blockquote>
<ul>
<li>Creo la carpeta presentation/routes/BottomTabNavigator.tsx</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { createBottomTabNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/bottom-tabs'</span>;
<span class="hljs-keyword">import</span> { HomeScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/home/HomeScreens'</span>;
<span class="hljs-keyword">import</span> Settingsscreen <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/settings/Settingsscreen'</span>;
<span class="hljs-keyword">import</span> { ProfileScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../profile/ProfileScreen'</span>;

<span class="hljs-keyword">const</span> Tab = createBottomTabNavigator();

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> BottomTabNavigator=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Tab.Navigator</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Tab.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Home"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{HomeScreen}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Tab.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Profile"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{ProfileScreen}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Tab.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Settings"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{Settingsscreen}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Tab.Navigator</span>&gt;</span></span>
  );
}
</div></code></pre>
<ul>
<li>Envuelvo el Main en un NavigationContainer</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { NavigationContainer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>
<span class="hljs-keyword">import</span> { BottomTabNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'./presentation/routes/BottomTabNavigator'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Main = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">NavigationContainer</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">BottomTabNavigator</span> /&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">NavigationContainer</span>&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="zustand---gestor-de-estado">Zustand - Gestor de estado</h2>
<blockquote>
<p>npm i zustand</p>
</blockquote>
<ul>
<li>Creo en store/profile-store.tsx</li>
<li>Para crear un store usamos la funcion create de Zustand, lo usaremos como un hook</li>
<li>Usamos una interfaz para tiparlo y doble paréntesis ( uno para el tipado y otro para el callback)</li>
<li>Notar que el callback envuelve las llaves en paréntesis para hacer implícito el return</li>
<li><strong>set</strong> es el dispatch ( o la función ) que debo llamar para cambiar los valores de mi store</li>
<li><strong>get</strong> me va a permitir obtener el store</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { create } <span class="hljs-keyword">from</span> <span class="hljs-string">"zustand"</span>


interface ProfileState{
    <span class="hljs-attr">name</span>: string
    <span class="hljs-attr">email</span>: string
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useProfileStore = create&lt;ProfileState&gt;<span class="hljs-function"><span class="hljs-params">()</span>(<span class="hljs-params">(set, get</span>)=&gt;</span>({
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Bill Murray'</span>,
    <span class="hljs-attr">email</span>: <span class="hljs-string">"billybilly@gmail.com"</span>
}))
</div></code></pre>
<ul>
<li>En ProfileScreen renderizo el estado</li>
<li>Puedo usar desestructuración pero a veces dispara rerenders indeseados</li>
</ul>
<pre class="hljs"><code><div>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { styles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../config/appTheme'</span>
<span class="hljs-keyword">import</span> { useProfileStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'../store/profile-store'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> ProfileScreen  = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> name = useProfileStore(<span class="hljs-function"><span class="hljs-params">get</span>=&gt;</span> <span class="hljs-keyword">get</span>.name)
  const email = useProfileStore(<span class="hljs-keyword">get</span>=&gt; <span class="hljs-keyword">get</span>.email)

  return (
    &lt;View style={styles.container} &gt;
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>{email}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>
    &lt;<span class="hljs-regexp">/View&gt;
  )
}
</span></div></code></pre>
<hr>
<h2 id="cambios-en-el-store">Cambios en el Store</h2>
<ul>
<li>En ProfileScreen creo un par de botones</li>
<li>En el onPress, llamando en el callback a useProfileStore tengo <strong>subscribe</strong> y estar suscrito a los cambios del state</li>
<li>Tengo el <strong>setState</strong> y el <strong>getState</strong></li>
<li>Prefiero crear las funciones que voy a usar en el store para que la lógica siempre esté definida en mi store</li>
<li>No siempre es la mejor opción, a criterio del desarrollador/a</li>
</ul>
<pre class="hljs"><code><div>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Pressable, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { styles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../config/appTheme'</span>
<span class="hljs-keyword">import</span> { useProfileStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'../store/profile-store'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> ProfileScreen  = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> name = useProfileStore(<span class="hljs-function"><span class="hljs-params">get</span>=&gt;</span> <span class="hljs-keyword">get</span>.name)
  const email = useProfileStore(<span class="hljs-keyword">get</span>=&gt; <span class="hljs-keyword">get</span>.email)

  return (
    &lt;View style={styles.container} &gt;
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>{email}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>

      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.primaryButton}</span> 
      <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>useProfileStore.setState({name: "Miguel Castaño"})}
      &gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>Cambio Nombre<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span></span>

      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.primaryButton}</span> 
      <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span> useProfileStore.setState({email: "migue@gmail.com"})}
      &gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>Cambio email<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span></span>
    &lt;<span class="hljs-regexp">/View&gt;
  )
}
</span></div></code></pre>
<ul>
<li>En la documentación de Zustand hay veces que define la lógica en la interfaz y otras crea un export type Actions donde define las acciones</li>
<li>Uso <strong>set</strong> para cambiar el estado</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { create } <span class="hljs-keyword">from</span> <span class="hljs-string">"zustand"</span>


interface ProfileState{
    <span class="hljs-attr">name</span>: string
    <span class="hljs-attr">email</span>: string
    <span class="hljs-attr">changeProfile</span>: <span class="hljs-function">(<span class="hljs-params">name: string, email: string</span>)=&gt;</span> <span class="hljs-keyword">void</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useProfileStore = create&lt;ProfileState&gt;<span class="hljs-function"><span class="hljs-params">()</span>(<span class="hljs-params">(set, get</span>)=&gt;</span>({
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Bill Murray'</span>,
    <span class="hljs-attr">email</span>: <span class="hljs-string">"billybilly@gmail.com"</span>,

    <span class="hljs-attr">changeProfile</span>: <span class="hljs-function">(<span class="hljs-params">name: string, email: string</span>)=&gt;</span>{
        <span class="hljs-keyword">set</span>({name, email})
    }
}))
</div></code></pre>
<ul>
<li>Si necesito acceso a esa función la extraigo de useProfileStore</li>
</ul>
<pre class="hljs"><code><div>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Pressable, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { styles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../config/appTheme'</span>
<span class="hljs-keyword">import</span> { useProfileStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'../store/profile-store'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> ProfileScreen  = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> name = useProfileStore(<span class="hljs-function"><span class="hljs-params">get</span>=&gt;</span> <span class="hljs-keyword">get</span>.name)
  const email = useProfileStore(<span class="hljs-keyword">get</span>=&gt; <span class="hljs-keyword">get</span>.email)
  const changeProfile = useProfileStore(<span class="hljs-keyword">get</span>=&gt;<span class="hljs-keyword">get</span>.changeProfile)

  return (
    &lt;View style={styles.container} &gt;
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>{email}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>

      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.primaryButton}</span> 
      <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>useProfileStore.setState({name: "Miguel Castaño"})}
      &gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>Cambio Nombre<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span></span>

      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.primaryButton}</span> 
      <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span> useProfileStore.setState({email: "migue@gmail.com"})}
      &gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>Cambio email<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span></span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.primaryButton}</span> 
      <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span> changeProfile("Bill Murray", "billybilly@gmail.com")}
      &gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.title}</span>&gt;</span>regresar estado<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span></span>
    &lt;<span class="hljs-regexp">/View&gt;
  )
}
</span></div></code></pre>
<ul>
<li>Zustand además tiene muchos middlewares poderosos</li>
<li>Creemos un counter!</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { create } <span class="hljs-keyword">from</span> <span class="hljs-string">"zustand"</span>


interface CounterState{
    <span class="hljs-attr">count</span>: number
    <span class="hljs-attr">increment</span>: <span class="hljs-function">(<span class="hljs-params">value: number</span>)=&gt;</span> <span class="hljs-keyword">void</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCounterStore = create&lt;CounterState&gt;<span class="hljs-function"><span class="hljs-params">()</span>(<span class="hljs-params">(set,get</span>)=&gt;</span>({

    <span class="hljs-attr">count</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">increment</span>: <span class="hljs-function">(<span class="hljs-params">value</span>)=&gt;</span>{<span class="hljs-keyword">set</span>(state=&gt; ({count:state.count + value}))},
}))
</div></code></pre>
<ul>
<li>Otra manera sería</li>
</ul>
<pre class="hljs"><code><div>increment: <span class="hljs-function">(<span class="hljs-params">value</span>)=&gt;</span>{<span class="hljs-keyword">set</span>({count: <span class="hljs-keyword">get</span>().count + value})},
</div></code></pre>
<hr>
<h1 id="react-native---app-pel%C3%ADculas-parte-1">REACT NATIVE - App Películas parte 1</h1>
<ul>
<li>Vamos a hacer el esqueleto y la estructura necesaria para la aplicación</li>
<li>Lo haremos bajo principios de arquitectura DDD y patrones (haremos uso del patrón repositorio)</li>
<li>Veremos las diferencias entre config, core, infraestructure y presentation y cómo se integran</li>
<li>Nos vamos a centrar en traer la info de movieDB</li>
<li>La app debe ser lo suficiente flexible para tolerar cambios</li>
</ul>
<hr>
<h2 id="configuraci%C3%B3n-de-pantallas-y-directorios">Configuración de pantallas y directorios</h2>
<ul>
<li>
<p>Creo en src</p>
<ul>
<li>config
<ul>
<li>adapters (dónde guardaré los archivos de patrón adaptador)</li>
<li>helpers</li>
</ul>
</li>
<li>core (casos de uso)</li>
<li>presentation
<ul>
<li>hooks</li>
<li>components</li>
<li>navigation</li>
<li>screens
<ul>
<li>details (detalles de peliculas)</li>
<li>home</li>
</ul>
</li>
</ul>
</li>
<li>infraestructure (es nuestro middleman)</li>
</ul>
</li>
<li>
<p>Creo los componentes HomeScreen y Detailsscreen</p>
</li>
<li>
<p>Muevo App dentro de src</p>
</li>
</ul>
<hr>
<h2 id="navegaci%C3%B3n-entre-pantallas">Navegación entre pantallas</h2>
<ul>
<li>Hago las instalaciones necesarias para integrar la navegación en la aplicación</li>
</ul>
<blockquote>
<p>npm i @react-navigation/native
npm i react-native-screens react-native-safe-area-context</p>
</blockquote>
<ul>
<li>Para la navegación Stack</li>
</ul>
<blockquote>
<p>npm i @react-navigation/stack
npm i react-native-gesture-handler @react-native-masked-view/masked-view</p>
</blockquote>
<ul>
<li>Puedo configurar mi NavigationContainer</li>
<li>Hay que colocar este import en el top del archivo principal</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> <span class="hljs-string">'react-native-gesture-handler'</span>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> {Text} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { NavigationContainer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> App=(): React.JSX.Element=&gt;{

  <span class="hljs-keyword">return</span>(

   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">NavigationContainer</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Hello World<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">NavigationContainer</span>&gt;</span></span>
          
   )
}
</div></code></pre>
<ul>
<li>Uso el ejemplo de la documentación para crear el Stack Navigator</li>
<li>Tipo el Navigator con RootstackParams</li>
<li>Empleo screenOptions para ocultar los headers</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { createStackNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/stack'</span>;
<span class="hljs-keyword">import</span> { HomeScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/home/Homescreen'</span>;
<span class="hljs-keyword">import</span> { Detailsscreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/details/DetailsScreen'</span>;

<span class="hljs-keyword">const</span> Stack = createStackNavigator();

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Navigation =<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Stack.Navigator</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Home"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{HomeScreen}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Details"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{Detailsscreen}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Stack.Navigator</span>&gt;</span></span>
  );
}
</div></code></pre>
<ul>
<li>Coloco Navigation dentro de App</li>
</ul>
<hr>
<h2 id="obtener-peliculas---themoviedb">Obtener Peliculas - TheMovieDB</h2>
<ul>
<li>Creo una cuenta en theMovieDB.org</li>
<li>En Editar Perfil / API / le doy cick al enlace para generar la llave</li>
<li>La guardo (y el token también) en .env</li>
<li>Creo .env.template para guardar las variables vacias que digan que es lo que necesito configurar</li>
<li>Añado .env a .gitignore</li>
<li>Creo el README</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-section"># README</span>
<span class="hljs-bullet">
1. </span>Clonar el proyecto
<span class="hljs-bullet">2. </span>Instalar dependencias <span class="hljs-code">`npm install`</span>
<span class="hljs-bullet">3. </span>Clonar el archivo .env.template a .env y configurar las variables de entorno
<span class="hljs-bullet">4. </span>Ejecutar el proyecto con <span class="hljs-code">`npm run start`</span>
</div></code></pre>
<ul>
<li>Voy a la documentación de MovieDB</li>
<li>En Authentication tengo el token de autenticación (no es el mismo que obtuve con la llave). Lo copio en .env</li>
<li>Puedo seleccionar Node como lenguaje</li>
<li>Para buscar un endpoint en especifico puedo ir al buscador JUMP TO y , en este caso, escribo <strong>now playing</strong></li>
<li>Donde me da el ejemplo de código puedo elegir que quiero usar, si fetch, axios. Selecciono Axios</li>
<li>Este es el ejemplo</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> axios = <span class="hljs-built_in">require</span>(<span class="hljs-string">'axios'</span>);

<span class="hljs-keyword">const</span> options = {
  <span class="hljs-attr">method</span>: <span class="hljs-string">'GET'</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">'https://api.themoviedb.org/3/movie/now_playing?language=en-US&amp;page=1'</span>,
  <span class="hljs-attr">headers</span>: {
    <span class="hljs-attr">accept</span>: <span class="hljs-string">'application/json'</span>,
    <span class="hljs-attr">Authorization</span>: <span class="hljs-string">'Bearer eyJh....'</span>
  }
};

axios
  .request(options)
  .then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">response</span>) </span>{
    <span class="hljs-built_in">console</span>.log(response.data);
  })
  .catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{
    <span class="hljs-built_in">console</span>.error(error);
  });
</div></code></pre>
<ul>
<li>Implementaremos Axios con el patrón adaptador</li>
<li>Por ahora solo necesito el endpoint que es <code>https://api.themoviedb.org/3/movie/now_playing</code></li>
<li>Debo mandar mi API_KEY como params en POSTMAN o similares bajo el nombre de api_key</li>
<li>En THUNDERCLIENT es en Query</li>
<li>Puedo añadirle language es para que aparezca en español</li>
</ul>
<hr>
<h2 id="patr%C3%B3n-adaptador">Patrón Adaptador</h2>
<ul>
<li>En adapters creo en la carpeta http/http.adapter.tsx</li>
<li>Porqué lo hago con una clase abstracta?
<ul>
<li>Porque yo no quiero crear instancias de esta clase</li>
<li>Lo que aqui defina no va estar implementado</li>
<li>Voy a definir las reglas de los métodos y propiedades que deben de tener las clases que extiendan de mi adaptador</li>
<li>Options lo hago opcional. Puedo usar Record para decirle que el tipo de dato será de tipo string y el valor al que apunta unknown</li>
<li>Si quisiera hacer algo muy genérico usaria tipo any</li>
<li>Resuelve en una promesa de tipo genérico</li>
</ul>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> abstract <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HttpAdapter</span></span>{

    abstract <span class="hljs-keyword">get</span>&lt;T&gt;(url: string, options?: Record&lt;string, unknown&gt;) : Promise&lt;T&gt; 
}
</div></code></pre>
<ul>
<li>Instalo axios</li>
<li>Creo en http/axios.adapter.tsx</li>
<li>Implemento el método get, uso async await y un trycatch</li>
<li>Extraigo la data del fetch de axios</li>
<li>Tipo la respuesta de axios con el mismo genérico que el método</li>
<li>Retorno la data</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { HttpAdapter } <span class="hljs-keyword">from</span> <span class="hljs-string">"./http.adapter"</span>;
<span class="hljs-keyword">import</span> axios, { AxiosInstance } <span class="hljs-keyword">from</span> <span class="hljs-string">'axios'</span>

interface Options{
    <span class="hljs-attr">baseURL</span>: string,
    <span class="hljs-attr">params</span>: Record&lt;string,string&gt;
}

<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">AxiosAdapter</span> <span class="hljs-title">implements</span> <span class="hljs-title">HttpAdapter</span></span>{

    private axiosInstance : AxiosInstance;

    <span class="hljs-keyword">constructor</span>(options: Options){
        <span class="hljs-keyword">this</span>.axiosInstance = axios.create({
            <span class="hljs-attr">baseURL</span>: options.baseURL,
            <span class="hljs-attr">params</span>: options.params
        })
    }


    <span class="hljs-keyword">async</span> <span class="hljs-keyword">get</span>&lt;T&gt;(url: string, options?: Record&lt;string, unknown&gt;) : Promise&lt;T&gt;{

        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">const</span> {data} = <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>.axiosInstance.get&lt;T&gt;(url,options)
            
            <span class="hljs-keyword">return</span> data
        
        } <span class="hljs-keyword">catch</span> (error) {
            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">`Error fetching get: <span class="hljs-subst">${url}</span>`</span> )
        }
    }
}
</div></code></pre>
<hr>
<h2 id="casos-de-uso---now-playing">Casos de uso - Now Playing</h2>
<ul>
<li>En /core/use-cases/movies/now-playing.use-case.tsx</li>
<li>Now playing debe traer las peliculas usando el adaptador de axios</li>
<li>Se busca que los casos de uso sean agnósticos (que no necesiten paquetes de terceros para funcionar)</li>
<li>Le paso de parámetro <em>fetcher</em> que serña del tipo HttpAdapater (el mismo que mi adaptador de axios)</li>
<li>Podría pasar el url como parámetro para hacerlo más genérico, pero yo se que en este caso de uso siempre voy a llamar al mismo endpoint</li>
<li>Como la cabecera de la url la voy a configurar en el adaptador, añado solo la parte de la url de '/now_playing'</li>
<li>Hay que tipar la respuesta, por lo que hago un llamado al endpoint desde THUNDERCLIENT y uso paste JSON as code</li>
<li>La pego en infraestructure/interfaces/movieDBResponses.tsx</li>
<li>Cambio algunos nombres y en lugar de usar guiones bajos uso camelCase</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> interface NowPlayingResponse {
    <span class="hljs-attr">dates</span>:         Dates;
    page:          number;
    results:       Result[];
    totalPages:   number;
    totalResults: number;
}

<span class="hljs-keyword">export</span> interface Dates {
    <span class="hljs-attr">maximum</span>: string;
    minimum: string;
}

<span class="hljs-keyword">export</span> interface Result { <span class="hljs-comment">//Esto sería Movie</span>
    <span class="hljs-attr">adult</span>:             boolean;
    backdrop_path:     string;
    genre_ids:         number[];
    id:                number;
    original_language: string;
    original_title:    string;
    overview:          string;
    popularity:        number;
    poster_path:       string;
    release_date:      string;
    title:             string;
    video:             boolean;
    vote_average:      number;
    vote_count:        number;
}

<span class="hljs-comment">/*
export enum OriginalLanguage {
    En = "en",
    Es = "es",
}
*/</span>
</div></code></pre>
<ul>
<li>Lo que va a regresar el fetcher va a ser de tipo NowPlayingResponse</li>
<li>Para tipar la respuesta de la promisa bien podría usar la interfaz de Movie, pero podría ser que la DB cambiara en un futuro, y eso podría darme un dolor de cabeza</li>
<li>En lugar de usar una interfaz proveniente de la db, creo /core/entities/movie.entity.tsx</li>
<li>Usualmente la entity es una clase, pero también puedo trabajar con una interfaz y luego transformarla en una clase</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> interface Movie{
    <span class="hljs-attr">id</span>: number
    <span class="hljs-attr">title</span>: string
    <span class="hljs-attr">description</span>: string
    <span class="hljs-attr">releaseDate</span>: <span class="hljs-built_in">Date</span>
    <span class="hljs-attr">rating</span>: number
    <span class="hljs-attr">poster</span>: string
    <span class="hljs-attr">backdrop</span>: string
}
</div></code></pre>
<ul>
<li>Entonces, voy a usar mi propio modelo. En la respuesta los nombres vienen diferente, por ejemplo <em>poster_path</em> en lugar de poster</li>
<li>Voy a tener que transformar la data de la respuesta para que concuerde con mi entity, ya que la respuesta de la DB no es exactamente igual</li>
<li>Todo esto lo hago porque si el día de mañana la interfaz que extraje de la DB cambia, mi aplicación crashearía</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { HttpAdapter } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../config/adapters/http/http.adapter"</span>;
<span class="hljs-keyword">import</span> { NowPlayingResponse } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../infraestructure/interfaces/movieDBResponses"</span>;
<span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../entities/movie.entity"</span>;


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> moviesNowPlayingUseCase = <span class="hljs-keyword">async</span>(fetcher: HttpAdapter): <span class="hljs-built_in">Promise</span>&lt;Movie[]&gt;=&gt;{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> nowPlaying = <span class="hljs-keyword">await</span> fetcher.get&lt;NowPlayingResponse&gt;(<span class="hljs-string">'/now_playing'</span>)

        <span class="hljs-built_in">console</span>.log({nowPlaying})

        <span class="hljs-keyword">return</span> []<span class="hljs-comment">//Aquí voy a tener que transformar la data para adaptarlo a como lo he tipado yo en mi entidad</span>
                 <span class="hljs-comment">//y no con los nombres y el conjunto de propiedades que viene desde la DB</span>
        
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span> (<span class="hljs-string">`Error fetching movies - Now Playing`</span>)
    }
}
</div></code></pre>
<hr>
<h2 id="custom-hook-usemovies">Custom Hook useMovies</h2>
<ul>
<li>Creo en src/presentation/hooks/useMovies.tsx</li>
<li>Llamo al caso de uso en un useEffect</li>
<li>Antes creo un index.ts en use-cases y lo exporto todo</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./movies/now-playing.use-case'</span>
</div></code></pre>
<ul>
<li>Puedo hacer el import com UseCases para disponer de los distintos casos de uso que vaya creando con la notación de punto</li>
<li>La función me pide el fetcher de tipo HttpAdapter.</li>
<li>Creo un nuevo adaptador llamado MovieDBAdapter con un ainstancia de mi adaptador Axios, le paso lo que necesita
<ul>
<li>En baseURL le paso la url hasta now_playing (sin incluir este ni el slash que le precede)</li>
<li>En params le paso la api_key y el language</li>
</ul>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { AxiosAdapter } <span class="hljs-keyword">from</span> <span class="hljs-string">"./axios.adapter"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> MovieDBFetcher = <span class="hljs-keyword">new</span> AxiosAdapter({
    <span class="hljs-attr">baseURL</span>: <span class="hljs-string">"https://api.themoviedb.org/3/movie"</span>,
    <span class="hljs-attr">params</span>: {
        <span class="hljs-attr">api_key</span>: <span class="hljs-string">"mi_api_key"</span>, <span class="hljs-comment">//será una variable de entorno</span>
        <span class="hljs-attr">language</span>: <span class="hljs-string">'es'</span>
    }
})
</div></code></pre>
<ul>
<li>Le paso el fetcher (MovieDBFetcher) al caso de uso</li>
<li>Llamo la función dentro del useEffect</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> UseCases <span class="hljs-keyword">from</span> <span class="hljs-string">'../../core/use-cases'</span>
<span class="hljs-keyword">import</span> { MovieDBFetcher } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../config/adapters/http/movieDB.adapter'</span>

<span class="hljs-keyword">const</span> useMovies = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

    <span class="hljs-keyword">const</span> [isLoading, setIsLoading] = useState(<span class="hljs-literal">true</span>)
    <span class="hljs-keyword">const</span> [nowPlaying, setNowPlaying] = useState&lt;Movie[]&gt;([])

    useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
        initLoad()
    },[])

    <span class="hljs-keyword">const</span> initLoad= <span class="hljs-keyword">async</span>()=&gt;{
        <span class="hljs-keyword">const</span> nowPlayingMovies = <span class="hljs-keyword">await</span> UseCases.moviesNowPlayingUseCase(MovieDBFetcher)
    }
    
    <span class="hljs-keyword">return</span> {
        

    }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useMovies
</div></code></pre>
<ul>
<li>En HomeScreen llamo al hook, no desestructuro nada porque todavñia no regresa nada</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> useMovies <span class="hljs-keyword">from</span> <span class="hljs-string">'../../hooks/useMovies'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HomeScreen  = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> {} = useMovies()
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>HomeScreen<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Ahora en consola (por el console.log de nowPlaying en el caso de uso) deberían aparecer los resultados pero con Object Object</li>
<li>Falta transformar la data resultante en algo que luzca como mi interfaz de Movie, para usar mi propia implementación</li>
</ul>
<hr>
<h2 id="patr%C3%B3n-mapper---moviemapper">Patrón Mapper - MovieMapper</h2>
<ul>
<li>Creo en src/infraestructure/mappers/movie.mapper.ts</li>
<li>Puedo hacer el mapper con una función pero lo haré con una clase</li>
<li>Creo un método estático. Al ser estático no necesito instanciar la clase</li>
<li>El método recibe result de tipo Result (mirar la interfaz de MovieDB) y regresará una Movie.</li>
<li>Si Movie fuera una clase tendría que instanciarla pero hasta ahora la hemos manejado con una interfaz</li>
<li>releaseDate me regresa un dato de tipo string, por lo que creo la fecha con new Date</li>
<li>Para ver la imagen de la propiedad poster, esta solo devuelve un string que no me sirve, para visualizarla necesito añadir https://image.tmdb.org/t/p/w500/url_de_posterPath</li>
<li>Uso un template string, quito el slash final porque el string vendrá con el slash inicial</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../core/entities/movie.entity"</span>;
<span class="hljs-keyword">import</span> { Result } <span class="hljs-keyword">from</span> <span class="hljs-string">"../interfaces/movieDBResponses"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MovieMapper</span></span>{

    <span class="hljs-keyword">static</span> fromMovieDBResultToEntity(result: Result): Movie{
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">id</span>: result.id,
            <span class="hljs-attr">title</span>: result.title,
            <span class="hljs-attr">description</span>: result.overview,
            <span class="hljs-attr">releaseDate</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(result.release_date),
            <span class="hljs-attr">rating</span>: result.vote_average,
            <span class="hljs-attr">poster</span>: <span class="hljs-string">`https://image.tmdb.org/t/p/w500<span class="hljs-subst">${result.poster_path}</span>`</span>,
            <span class="hljs-attr">backdrop</span>: <span class="hljs-string">`https://image.tmdb.org/t/p/w500<span class="hljs-subst">${result.backdrop_path}</span>`</span>
        }
    }
}
</div></code></pre>
<ul>
<li>Si la url de poster no viniera, puedo manejar la excepción en el mapper</li>
<li>Voy al caso de uso.</li>
<li>Se recomienda que los casos de uso sean funciones puras que resuelvan con los argumentos dados
<ul>
<li>Pero en este caso quiero transformar la data por lo que usaré el mapper</li>
<li>En .results tengo la data, hago un map y la paso por el mapper</li>
<li>En JS cuando tengo el mismo argumento pasado como parámetro para una función puedo obviar ambos</li>
</ul>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { HttpAdapter } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../config/adapters/http/http.adapter"</span>;
<span class="hljs-keyword">import</span> { NowPlayingResponse } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../infraestructure/interfaces/movieDBResponses"</span>;
<span class="hljs-keyword">import</span> { MovieMapper } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../infraestructure/mappers/movie.mapper"</span>;
<span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../entities/movie.entity"</span>;


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> moviesNowPlayingUseCase = <span class="hljs-keyword">async</span>(fetcher: HttpAdapter): <span class="hljs-built_in">Promise</span>&lt;Movie[]&gt;=&gt;{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> nowPlaying = <span class="hljs-keyword">await</span> fetcher.get&lt;NowPlayingResponse&gt;(<span class="hljs-string">'/now_playing'</span>)

       

     <span class="hljs-comment">//return nowPlaying.results.map(result=&gt;MovieMapper.fromMovieDBResultToEntity(result))</span>
       
       <span class="hljs-keyword">return</span> nowPlaying.results.map(MovieMapper.fromMovieDBResultToEntity)
        
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span> (<span class="hljs-string">`Error fetching movies - Now Playing`</span>)
    }
}
</div></code></pre>
<ul>
<li>Hago un console.log en la función initLoad del hook useMovies para visualizar el resultado en consola</li>
<li>Retorno el state de isLoading y nowPlaying que es donde estan mis películas</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> UseCases <span class="hljs-keyword">from</span> <span class="hljs-string">'../../core/use-cases'</span>
<span class="hljs-keyword">import</span> { MovieDBFetcher } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../config/adapters/http/movieDB.adapter'</span>

<span class="hljs-keyword">const</span> useMovies = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

    <span class="hljs-keyword">const</span> [isLoading, setIsLoading] = useState(<span class="hljs-literal">true</span>)
    <span class="hljs-keyword">const</span> [nowPlaying, setNowPlaying] = useState&lt;Movie[]&gt;([])

    useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
        initLoad()
    },[])

    <span class="hljs-keyword">const</span> initLoad= <span class="hljs-keyword">async</span>()=&gt;{
        <span class="hljs-keyword">const</span> nowPlayingMovies = <span class="hljs-keyword">await</span> UseCases.moviesNowPlayingUseCase(MovieDBFetcher)
        setNowPlaying(nowPlayingMovies)
        <span class="hljs-comment">//console.log({nowPlayingMovies})</span>
    }
    
    <span class="hljs-keyword">return</span> {
        isLoading,
        nowPlaying
    }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useMovies
</div></code></pre>
<hr>
<h2 id="casos-de-uso-restantes">Casos de uso restantes</h2>
<ul>
<li>
<p>Quiero implementar tres nuevos casos de uso</p>
<ul>
<li>/upcoming</li>
<li>/top_rated</li>
<li>/popular  moviesPopularUseCase</li>
</ul>
</li>
<li>
<p>Creo el caso de uso y le paso el fetcher, devuelvo una promesa del tipo entity que yo me cree basándome en la interfaz que extraigo con paste JSON as code</p>
</li>
<li>
<p>Hago un llamado al endpoint, copio el resultado y uso pasteJSON as code para obtener las interfaces</p>
</li>
<li>
<p>Creo mi entity para luego crear el mapper y obtener la data como yo quiero sin depender de terceros</p>
</li>
<li>
<p>Expongo el caso de uso Upcoming</p>
</li>
<li>
<p>upcoming.inteface.ts</p>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-comment">// Generated by https://quicktype.io</span>

<span class="hljs-keyword">export</span> interface UpcomingResults {
    <span class="hljs-attr">dates</span>:         Dates;
    page:          number;
    results:       Result[];
    total_pages:   number;
    total_results: number;
}

<span class="hljs-keyword">export</span> interface Dates {
    <span class="hljs-attr">maximum</span>: string;
    minimum: string;
}

<span class="hljs-keyword">export</span> interface Result {
    <span class="hljs-attr">adult</span>:             boolean;
    backdrop_path:     string;
    genre_ids:         number[];
    id:                number;
    original_language: string;
    original_title:    string;
    overview:          string;
    popularity:        number;
    poster_path:       string;
    release_date:      string;
    title:             string;
    video:             boolean;
    vote_average:      number;
    vote_count:        number;
}
</div></code></pre>
<ul>
<li>Creo mi entity</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> interface UpcomingMovie{
    <span class="hljs-attr">genreIds</span>: number[]
    <span class="hljs-attr">id</span>: number
    <span class="hljs-attr">originalLanguage</span>: string
    <span class="hljs-attr">originalTitle</span>: string
    <span class="hljs-attr">posterPath</span>: string,
    <span class="hljs-attr">backdropPath</span>: string
    <span class="hljs-attr">releaseDate</span>: <span class="hljs-built_in">Date</span>
    <span class="hljs-attr">rate</span>: number
}
</div></code></pre>
<ul>
<li>Creo el Mapper</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { UpcomingMovie } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../core/entities/upcoming.entity"</span>;
<span class="hljs-keyword">import</span> { Result } <span class="hljs-keyword">from</span> <span class="hljs-string">"../interfaces/upcomingMovies.interface"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">UpcomingMovieMapper</span></span>{

    <span class="hljs-keyword">static</span> getUpcomingResultToEntity (result: Result ) : UpcomingMovie{
        <span class="hljs-keyword">return</span> {
            <span class="hljs-attr">genreIds</span>: result.genre_ids,
            <span class="hljs-attr">id</span>: result.id,
            <span class="hljs-attr">originalLanguage</span>: result.original_language,
            <span class="hljs-attr">originalTitle</span>: result.original_title,
            <span class="hljs-attr">posterPath</span>: <span class="hljs-string">`https://image.tmdb.org/t/p/w500<span class="hljs-subst">${result.poster_path}</span>`</span>,
            <span class="hljs-attr">backdropPath</span>: <span class="hljs-string">`https://image.tmdb.org/t/p/w500<span class="hljs-subst">${result.backdrop_path}</span>`</span>,
            <span class="hljs-attr">releaseDate</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(result.release_date),
            <span class="hljs-attr">rate</span>: result.vote_average
        }
    }
}
</div></code></pre>
<ul>
<li>Voy al caso de uso y utilizo .map</li>
<li>Lo exporto en el archivo de barril</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { HttpAdapter } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../config/adapters/http/http.adapter"</span>
<span class="hljs-keyword">import</span> { UpcomingResults } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../infraestructure/interfaces/upcomingMovies.interface"</span>
<span class="hljs-keyword">import</span> { UpcomingMovieMapper } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../infraestructure/mappers/upcoming.mapper"</span>
<span class="hljs-keyword">import</span> { UpcomingMovie } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../entities/upcoming.entity"</span>


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> moviesUpcomingUseCase= <span class="hljs-keyword">async</span>(fetcher: HttpAdapter): <span class="hljs-built_in">Promise</span>&lt;UpcomingMovie[] | <span class="hljs-literal">undefined</span>&gt;=&gt;{
    <span class="hljs-keyword">try</span> {
        
        <span class="hljs-keyword">const</span> upcomingMovies  = <span class="hljs-keyword">await</span> fetcher.get&lt;UpcomingResults&gt;(<span class="hljs-string">'/upcoming'</span>)

        <span class="hljs-keyword">return</span> upcomingMovies.results.map(UpcomingMovieMapper.getUpcomingResultToEntity)

    } <span class="hljs-keyword">catch</span> (error) {
     <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">`fetch error to upcoming movies use case`</span>)   
    }
}
</div></code></pre>
<ul>
<li>index.ts</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./movies/now-playing.use-case'</span>
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./movies/upcoming.use-case'</span>
</div></code></pre>
<ul>
<li>Creo el adaptador</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { AxiosAdapter } <span class="hljs-keyword">from</span> <span class="hljs-string">"./axios.adapter"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> UpcomingAdapter = <span class="hljs-keyword">new</span> AxiosAdapter({
    <span class="hljs-attr">baseURL</span>: <span class="hljs-string">'https://api.themoviedb.org/3/movie'</span>,
    <span class="hljs-attr">params</span>:{
        <span class="hljs-attr">api_key</span>: <span class="hljs-string">"fe1099f21bfaef01ab67feb300828d6d"</span>,
        <span class="hljs-attr">language</span>: <span class="hljs-string">'es'</span>
    }
})
</div></code></pre>
<ul>
<li>Creo el hook</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { UpcomingMovie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../core/entities/upcoming.entity'</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> UseCases <span class="hljs-keyword">from</span> <span class="hljs-string">'../../core/use-cases'</span>
<span class="hljs-keyword">import</span> { UpcomingAdapter } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../config/adapters/http/upcoming.adapter'</span>

<span class="hljs-keyword">const</span> useUpcoming = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  
    <span class="hljs-keyword">const</span> [isLoading, setIsLoading] = useState(<span class="hljs-literal">true</span>)
    <span class="hljs-keyword">const</span> [upcomingMovies, setUpcomingMovies] = useState&lt;UpcomingMovie[] | <span class="hljs-literal">undefined</span>&gt;([])

    useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
        initLoadUpcoming()
    }, [])


    <span class="hljs-keyword">const</span> initLoadUpcoming = <span class="hljs-keyword">async</span> ()=&gt;{

        <span class="hljs-keyword">const</span> upcomingMoviesResult = <span class="hljs-keyword">await</span> UseCases.moviesUpcomingUseCase(UpcomingAdapter)

        <span class="hljs-built_in">console</span>.log({upcomingMoviesResult})

        setUpcomingMovies(upcomingMoviesResult)
    }
    
  
    <span class="hljs-keyword">return</span> {
        isLoading,
        upcomingMovies
  }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useUpcoming
</div></code></pre>
<ul>
<li>Lo llamo en HomeScreen para ver si funciona</li>
<li>Por algún motivo no muestra el array de genreIds, solo muestra Array</li>
<li>Hago el resto de casos de uso</li>
<li>Para subirlo a git <strong>he quitado la API_KEY hasta que no configure las variables de entorno</strong></li>
</ul>
<hr>
<h2 id="refactoring">REFACTORING</h2>
<ul>
<li>En lugar de usar un hook para cada caso de uso, usaremos el mimso useMovies y el Promise.all</li>
<li>Usaremos la misma entidad Movie para todos.</li>
<li>Le pongo un nombre genérico a la interfaz para usarla en todos los casos de uso</li>
<li>Uso la misma entity en todos los casos y states</li>
<li>En useMovie hago carpintería</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> UseCases <span class="hljs-keyword">from</span> <span class="hljs-string">'../../core/use-cases'</span>
<span class="hljs-keyword">import</span> { MovieDBFetcher } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../config/adapters/http/movieDB.adapter'</span>

<span class="hljs-keyword">const</span> useMovies = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

    <span class="hljs-keyword">const</span> [isLoading, setIsLoading] = useState(<span class="hljs-literal">true</span>)
    <span class="hljs-keyword">const</span> [nowPlaying, setNowPlaying] = useState&lt;Movie[]&gt;([])
    <span class="hljs-keyword">const</span> [popularMovie, setpopularMovie] = useState&lt;Movie[]&gt;([])
    <span class="hljs-keyword">const</span> [topRatedMovie, setTopRatedMovie] = useState&lt;Movie[]&gt;([])
    <span class="hljs-keyword">const</span> [upcomingMovie, setupcomimgMovie] = useState&lt;Movie[]&gt;([])

    useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
        initLoad()
    },[])

    <span class="hljs-keyword">const</span> initLoad= <span class="hljs-keyword">async</span>()=&gt;{
        <span class="hljs-keyword">const</span> nowPlayingPromise = UseCases.moviesNowPlayingUseCase(MovieDBFetcher)
        <span class="hljs-keyword">const</span> popularPromise = UseCases.PopularUseCase(MovieDBFetcher)
        <span class="hljs-keyword">const</span> topRatedPromise = UseCases.TopRatedUseCase(MovieDBFetcher)
        <span class="hljs-keyword">const</span> upcomingPromise = UseCases.moviesUpcomingUseCase(MovieDBFetcher)

        <span class="hljs-keyword">const</span>[
            nowPlayingMovies,
            popularMovies,
            topRatedMovies,
            upcomingMovies
        ] = <span class="hljs-keyword">await</span> <span class="hljs-built_in">Promise</span>.all([nowPlayingPromise, popularPromise, topRatedPromise, upcomingPromise])
        

        setNowPlaying(nowPlayingMovies)
        setpopularMovie(popularMovies)
        setTopRatedMovie(topRatedMovies)
        setupcomimgMovie(upcomingMovies)
    }
    
    <span class="hljs-keyword">return</span> {
        isLoading,
        nowPlaying
    }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useMovies
</div></code></pre>
<ul>
<li><strong>NOTA:</strong> esta es una aproximación al DDD, faltarían los data sources y el repositorio que interactuaría con los casos de uso.
<ul>
<li>Los casos de uso no serían una función sino una clase o un Factory Function, y no le pasariamos el fetcher si no que le inyectaríamos el repositorio para poder consumir la info</li>
</ul>
</li>
</ul>
<hr>
<h1 id="react-native---app-pel%C3%ADculas-parte-2">REACT NATIVE - App Películas parte 2</h1>
<ul>
<li>En esta sección veremos como aplicar estilos pero también hay más cosas que hacer, como
<ul>
<li>Otras peticiones para traer los actores, traer la info de unsa sola película, para mostrar las películas</li>
<li>Algún tipo de carrusel, infiniteScroll, configurar las variables de entorno</li>
</ul>
</li>
</ul>
<h2 id="carrusel-de-posters">Carrusel de posters</h2>
<ul>
<li>En HomeScreen coloco un ScrollView</li>
<li>Uso usesafeAreaInsets para tener una distancia segura de la pantalla desde el top</li>
<li>Coloco un loading provisional</li>
<li>Creo la carpeta components/movies</li>
<li>El ScrollView, a diferencia del FlatList, va a renderizar los elementos pese a que no estén en pantalla
<ul>
<li>Horizontal para que el scroll sea de manera horizontal</li>
<li>ShowHorizontalScrollIndicator en false para que no aparezca una barra de progreso</li>
</ul>
</li>
<li>Hago un map de las movies. Recuerda que para renderizar debo pasarle un key. Le paso movie.id</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> { ScrollView } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-gesture-handler'</span>

interface Props{
    <span class="hljs-attr">movies</span>: Movie[]
    height?: number
}

<span class="hljs-keyword">const</span> PosterCarousel = <span class="hljs-function">(<span class="hljs-params">{movies, height= <span class="hljs-number">440</span>}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height}}</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span>
        <span class="hljs-attr">horizontal</span>
        <span class="hljs-attr">showsHorizontalScrollIndicator</span> =<span class="hljs-string">{false}</span>&gt;</span>
            {movies.map(movie=&gt;<span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{movie.id}</span>&gt;</span>{movie.title}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>)}

        <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> PosterCarousel
</div></code></pre>
<ul>
<li>En vez de mostrar un texto voy a crear un componente para renderizar el poster en components/movies</li>
<li>En el View esparzo el styles porque quiero agregar el width de manera provisional</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Image, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> {StyleSheet} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>


interface Props{
    <span class="hljs-attr">movie</span>: Movie
}

<span class="hljs-keyword">const</span> Poster = <span class="hljs-function">(<span class="hljs-params">{movie}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{...styles.imageContainer,</span> <span class="hljs-attr">width:</span> <span class="hljs-attr">300</span>}} &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Image</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.image}</span> <span class="hljs-attr">source</span>=<span class="hljs-string">{{uri:</span> <span class="hljs-attr">movie.poster</span>}} /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}



<span class="hljs-keyword">const</span> styles = StyleSheet.create({
  <span class="hljs-attr">image</span>:{
    <span class="hljs-attr">flex</span>:<span class="hljs-number">1</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">18</span>
  },
  <span class="hljs-attr">imageContainer</span>:{
    <span class="hljs-attr">flex</span>:<span class="hljs-number">1</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">18</span>,
    <span class="hljs-attr">shadowColor</span>: <span class="hljs-string">"black"</span>,
    <span class="hljs-attr">shadowOffset</span>:{
        <span class="hljs-attr">width</span>:<span class="hljs-number">0</span>,
        <span class="hljs-attr">height</span>: <span class="hljs-number">10</span>
    },
    <span class="hljs-attr">shadowOpacity</span>: <span class="hljs-number">0.24</span>,
    <span class="hljs-attr">shadowRadius</span>: <span class="hljs-number">7</span>,
    <span class="hljs-attr">elevation</span>: <span class="hljs-number">9</span>
  }
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Poster
</div></code></pre>
<ul>
<li>Lo coloco en el Carrousel que coloco en el HomeScreen</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> { ScrollView } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-gesture-handler'</span>
<span class="hljs-keyword">import</span> Poster <span class="hljs-keyword">from</span> <span class="hljs-string">'./Poster'</span>

interface Props{
    <span class="hljs-attr">movies</span>: Movie[]
    height?: number
}

<span class="hljs-keyword">const</span> PosterCarousel = <span class="hljs-function">(<span class="hljs-params">{movies, height= <span class="hljs-number">440</span>}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height}}</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span>
        <span class="hljs-attr">horizontal</span>
        <span class="hljs-attr">showsHorizontalScrollIndicator</span> =<span class="hljs-string">{false}</span>&gt;</span>
            {movies.map(movie=&gt; <span class="hljs-tag">&lt;<span class="hljs-name">Poster</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{movie.id}</span> <span class="hljs-attr">movie</span>=<span class="hljs-string">{movie}</span>  /&gt;</span>)}
        <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> PosterCarousel
</div></code></pre>
<ul>
<li>Le paso el nowPlaying en HomeScreen</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> useMovies <span class="hljs-keyword">from</span> <span class="hljs-string">'../../hooks/useMovies'</span>
<span class="hljs-keyword">import</span> { ScrollView } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-gesture-handler'</span>
<span class="hljs-keyword">import</span> { useSafeAreaInsets } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-safe-area-context'</span>
<span class="hljs-keyword">import</span> PosterCarousel <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/movies/PosterCarousel'</span>


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HomeScreen  = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> {top} = useSafeAreaInsets()

<span class="hljs-keyword">const</span> {isLoading, nowPlaying} = useMovies()

<span class="hljs-keyword">if</span>(isLoading){
  <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Is loading...<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>)
}

  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginTop:</span> <span class="hljs-attr">top</span> + <span class="hljs-attr">20</span>, <span class="hljs-attr">paddingBottom:</span> <span class="hljs-attr">30</span>}}&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">PosterCarousel</span> <span class="hljs-attr">movies</span>=<span class="hljs-string">{nowPlaying}</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="terminar-carrousel-y-navegaci%C3%B3n">Terminar Carrousel y Navegación</h2>
<ul>
<li>Quiero poder navegar a DetailsScreen</li>
<li>Añado un par de props a Poster para hacerlo más flexible. Las hago opcionales y les coloco valores por defecto</li>
<li>Para poder navegar a Details coloco el View dentro de un Pressable</li>
<li>Hago el tipado estricto  del useNavigation</li>
<li>El componente Details me pide el movie.id (como tipé en RootParams), se lo paso como segundo parametro dentro de un objeto al navigation</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Image, Pressable, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> { NavigationProp, useNavigation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>
<span class="hljs-keyword">import</span> { RootStackParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../navigation/Navigation'</span>
<span class="hljs-keyword">import</span> {StyleSheet} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>


interface Props{
    <span class="hljs-attr">movie</span>: Movie
    height?: number
    width?: number 
}

<span class="hljs-keyword">const</span> Poster = <span class="hljs-function">(<span class="hljs-params">{movie, height=<span class="hljs-number">420</span>, width=<span class="hljs-number">300</span>}: Props</span>) =&gt;</span> {

    <span class="hljs-keyword">const</span> navigation = useNavigation&lt;NavigationProp&lt;RootStackParams&gt;&gt;()

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>{navigation.navigate('Details', {movieId: movie.id})}} &gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{...styles.imageContainer,</span> <span class="hljs-attr">width:300</span>}} &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Image</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.image}</span> <span class="hljs-attr">source</span>=<span class="hljs-string">{{uri:</span> <span class="hljs-attr">movie.poster</span>}} /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span></span>
  )
}



<span class="hljs-keyword">const</span> styles = StyleSheet.create({
  <span class="hljs-attr">image</span>:{
    <span class="hljs-attr">flex</span>:<span class="hljs-number">1</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">18</span>
  },
  <span class="hljs-attr">imageContainer</span>:{
    <span class="hljs-attr">flex</span>:<span class="hljs-number">1</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">18</span>,
    <span class="hljs-attr">shadowColor</span>: <span class="hljs-string">"black"</span>,
    <span class="hljs-attr">shadowOffset</span>:{
        <span class="hljs-attr">width</span>:<span class="hljs-number">0</span>,
        <span class="hljs-attr">height</span>: <span class="hljs-number">10</span>
    },
    <span class="hljs-attr">shadowOpacity</span>: <span class="hljs-number">0.24</span>,
    <span class="hljs-attr">shadowRadius</span>: <span class="hljs-number">7</span>,
    <span class="hljs-attr">elevation</span>: <span class="hljs-number">9</span>
  }
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Poster
</div></code></pre>
<ul>
<li>Le añado el width y el height al Pressable.</li>
<li>Quiero añadirle opacidad, por lo que en lugar de doble llave dentro del style, coloco solo un par de llaves y dentro, con una funcion de retorno implícito coloco el width y el height.
<ul>
<li>Con esta función ahora puedo desestructurar el pressed para saber si se está presionando</li>
<li>Hago un ternario para añadir la opacidad</li>
</ul>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Image, Pressable, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> { NavigationProp, useNavigation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>
<span class="hljs-keyword">import</span> { RootStackParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../navigation/Navigation'</span>
<span class="hljs-keyword">import</span> {StyleSheet} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>


interface Props{
    <span class="hljs-attr">movie</span>: Movie
    height?: number
    width?: number 
}

<span class="hljs-keyword">const</span> Poster = <span class="hljs-function">(<span class="hljs-params">{movie, height=<span class="hljs-number">420</span>, width=<span class="hljs-number">300</span>}: Props</span>) =&gt;</span> {

    <span class="hljs-keyword">const</span> navigation = useNavigation&lt;NavigationProp&lt;RootStackParams&gt;&gt;()

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>{navigation.navigate('Details', {movieId: movie.id})}} 
    style={({pressed})=&gt;({
        width,
        height,
        marginHorizontal:4,
        paddingBottom: 20,
        paddingHorizontal:5,
        opacity: pressed? 0.9: 1
    })} 
    &gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{...styles.imageContainer,</span> <span class="hljs-attr">width:300</span>}} &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Image</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.image}</span> <span class="hljs-attr">source</span>=<span class="hljs-string">{{uri:</span> <span class="hljs-attr">movie.poster</span>}} /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span></span>
  )
}



<span class="hljs-keyword">const</span> styles = StyleSheet.create({
  <span class="hljs-attr">image</span>:{
    <span class="hljs-attr">flex</span>:<span class="hljs-number">1</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">18</span>
  },
  <span class="hljs-attr">imageContainer</span>:{
    <span class="hljs-attr">flex</span>:<span class="hljs-number">1</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">18</span>,
    <span class="hljs-attr">shadowColor</span>: <span class="hljs-string">"black"</span>,
    <span class="hljs-attr">shadowOffset</span>:{
        <span class="hljs-attr">width</span>:<span class="hljs-number">0</span>,
        <span class="hljs-attr">height</span>: <span class="hljs-number">10</span>
    },
    <span class="hljs-attr">shadowOpacity</span>: <span class="hljs-number">0.24</span>,
    <span class="hljs-attr">shadowRadius</span>: <span class="hljs-number">7</span>,
    <span class="hljs-attr">elevation</span>: <span class="hljs-number">9</span>
  }
})

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Poster
</div></code></pre>
<ul>
<li>Estoy usando un ScrollView porque me interesa que todas las imágenes estén ya creadas</li>
<li>Con el FlatList se renderizarían de manera dinámica, y es lo que vamos a hacer con los otros listados</li>
</ul>
<hr>
<h2 id="carrousel-de-pel%C3%ADculas-con-flatlist">Carrousel de películas con FlatList</h2>
<ul>
<li>Vamos a reutilizar mucho nuestro código</li>
<li>Quiero mostrar en HomeScreen las péliculas populares</li>
<li>Extraigo popularMovies del hook useMovies</li>
<li>Creo components/HorizontalCarousel.tsx</li>
<li>En un FlatList siempre le paso la data (que es un arreglo de movies), el renderItem (de la que desestructuro item y con un return implicito poniendo paréntesis renderizo el componente Poster), y también debo pasarle el keyExtractor, que siempre debe ser un string</li>
<li>Quito el width y height que había colocado en duro en el container de la imagen de Poster, ya que se lo paso por props</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> { FlatList } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-gesture-handler'</span>
<span class="hljs-keyword">import</span> Poster <span class="hljs-keyword">from</span> <span class="hljs-string">'./Poster'</span>

interface Props{
    <span class="hljs-attr">movies</span>: Movie[]
    title?: string
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HorizontalCarousel  = <span class="hljs-function">(<span class="hljs-params">{movies, title}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">title</span>? <span class="hljs-attr">260:</span> <span class="hljs-attr">220</span>}} &gt;</span>
      {
        title &amp;&amp; (
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">30</span>, <span class="hljs-attr">fontWeight:</span> '<span class="hljs-attr">400</span>', <span class="hljs-attr">marginLeft:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">10</span>}} &gt;</span>
                {title}
            <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        )
      }

      <span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span> 
      <span class="hljs-attr">data</span>=<span class="hljs-string">{movies}</span>
      <span class="hljs-attr">renderItem</span>=<span class="hljs-string">{({item})</span>=&gt;</span>(<span class="hljs-tag">&lt;<span class="hljs-name">Poster</span> <span class="hljs-attr">movie</span>=<span class="hljs-string">{item}</span> <span class="hljs-attr">width</span>=<span class="hljs-string">{140}</span> <span class="hljs-attr">height</span>=<span class="hljs-string">{200}</span> /&gt;</span>)}
      keyExtractor={item=&gt; item.id.toString()}
      horizontal
      showsHorizontalScrollIndicator={false}
      /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Uso el mismo componente para las top-rated y las upcoming</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> useMovies <span class="hljs-keyword">from</span> <span class="hljs-string">'../../hooks/useMovies'</span>
<span class="hljs-keyword">import</span> { ScrollView } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-gesture-handler'</span>
<span class="hljs-keyword">import</span> { useSafeAreaInsets } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-safe-area-context'</span>
<span class="hljs-keyword">import</span> PosterCarousel <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/movies/PosterCarousel'</span>
<span class="hljs-keyword">import</span> { HorizontalCarousel } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/movies/HorizontalCarousel'</span>


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HomeScreen  = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> {top} = useSafeAreaInsets()

<span class="hljs-keyword">const</span> {isLoading, nowPlaying, popularMovie, topRatedMovie, upcomingMovie} = useMovies()

<span class="hljs-keyword">if</span>(isLoading){
  <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Is loading...<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>)
}

  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginTop:</span> <span class="hljs-attr">top</span> + <span class="hljs-attr">20</span>, <span class="hljs-attr">paddingBottom:</span> <span class="hljs-attr">30</span>}}&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">PosterCarousel</span> <span class="hljs-attr">movies</span>=<span class="hljs-string">{nowPlaying}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">HorizontalCarousel</span> <span class="hljs-attr">movies</span>=<span class="hljs-string">{popularMovie}</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Populars"</span>/&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">HorizontalCarousel</span> <span class="hljs-attr">movies</span>=<span class="hljs-string">{topRatedMovie}</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Top Rated"</span>/&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">HorizontalCarousel</span> <span class="hljs-attr">movies</span>=<span class="hljs-string">{upcomingMovie}</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Upcoming"</span>/&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Enfoquémonos en customizar el infiniteScroll</li>
</ul>
<hr>
<h2 id="infinite-scroll-horizontal">Infinite Scroll Horizontal</h2>
<ul>
<li>Para aplicar el scroll infinito necesito saber cuando mi FlatList está en el final o cerca del final
<ul>
<li>Para ello usaré la propiedad onScroll</li>
<li>Para sacar el tipado del evento pongo el cursor encima</li>
</ul>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> PosterCarousel = <span class="hljs-function">(<span class="hljs-params">{movies, height= <span class="hljs-number">440</span>}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height}}</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span>
        <span class="hljs-attr">horizontal</span>
        <span class="hljs-attr">showsHorizontalScrollIndicator</span> =<span class="hljs-string">{false}</span>
        <span class="hljs-attr">onScroll</span>=<span class="hljs-string">{(event)</span>=&gt;</span>} //coloco el cursor encima para saber de que tipo es el evento
        &gt;
            {movies.map(movie=&gt; <span class="hljs-tag">&lt;<span class="hljs-name">Poster</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{movie.id}</span> <span class="hljs-attr">movie</span>=<span class="hljs-string">{movie}</span>  /&gt;</span>)}
        <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>
<p><strong>NOTA:</strong> El onScroll es en el <strong>FlatList!!</strong></p>
</li>
<li>
<p>Creo la función onScroll</p>
</li>
<li>
<p>Extraigo de event.nativeEvent los valores</p>
</li>
<li>
<p>Los imprimo en consola</p>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { NativeScrollEvent, NativeSyntheticEvent, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> { FlatList } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-gesture-handler'</span>
<span class="hljs-keyword">import</span> Poster <span class="hljs-keyword">from</span> <span class="hljs-string">'./Poster'</span>

interface Props{
    <span class="hljs-attr">movies</span>: Movie[]
    title?: string
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HorizontalCarousel  = <span class="hljs-function">(<span class="hljs-params">{movies, title}: Props</span>) =&gt;</span> {

  <span class="hljs-keyword">const</span> onScroll = <span class="hljs-function">(<span class="hljs-params">event:NativeSyntheticEvent&lt;NativeScrollEvent&gt; </span>)=&gt;</span>{
    <span class="hljs-keyword">const</span> {contentOffset, layoutMeasurement, contentSize} = event.nativeEvent
    <span class="hljs-built_in">console</span>.log({contentOffset, layoutMeasurement, contentSize})
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">title</span>? <span class="hljs-attr">260:</span> <span class="hljs-attr">220</span>}} &gt;</span>
      {
        title &amp;&amp; (
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">30</span>, <span class="hljs-attr">fontWeight:</span> '<span class="hljs-attr">400</span>', <span class="hljs-attr">marginLeft:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">10</span>}} &gt;</span>
                {title}
            <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        )
      }

      <span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span> 
      <span class="hljs-attr">data</span>=<span class="hljs-string">{movies}</span>
      <span class="hljs-attr">renderItem</span>=<span class="hljs-string">{({item})</span>=&gt;</span>(<span class="hljs-tag">&lt;<span class="hljs-name">Poster</span> <span class="hljs-attr">movie</span>=<span class="hljs-string">{item}</span> <span class="hljs-attr">width</span>=<span class="hljs-string">{140}</span> <span class="hljs-attr">height</span>=<span class="hljs-string">{200}</span> /&gt;</span>)}
      keyExtractor={item=&gt; item.id.toString()}
      horizontal
      showsHorizontalScrollIndicator={false}
      onScroll={onScroll}
      /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}

~~~js

</div></code></pre>
<ul>
<li>Para cargar esas nuevas películas tengo que integrarlo en el flujo que ya tengo actualmente</li>
<li>En <strong>contentOffset</strong> es el movimiento que muevo en x (y estará en 0 porque es scroll horizontal)</li>
<li>El <strong>contentSize</strong> es el tamaño del elemento total</li>
<li>El <strong>LayoutMeasurement</strong> es el tamaño del elemento</li>
<li>Cuando hago scroll, estos dos últimos no varían</li>
<li>Si llevo el carrito hasta el final tengo que en contentOffset.x 2480 y en contentSize.width 2960 (porque hay un padding)</li>
<li>Le sumo 600 pixeles de gracia</li>
<li>Si esto es mayor que el contentSize.width significará que llegamos al final
<ul>
<li>En caso contrario será false</li>
</ul>
</li>
<li>Con un if, si no he llegado al final mando un return para que no haga nada</li>
<li>Pero si llega al final, debo cargar las siguientes películas</li>
<li>Creo la funcion l<strong>oadNextPage</strong> en las Props</li>
<li>Si loadNextPage tiene un valor, lo ejecuta</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { NativeScrollEvent, NativeSyntheticEvent, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> { FlatList } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-gesture-handler'</span>
<span class="hljs-keyword">import</span> Poster <span class="hljs-keyword">from</span> <span class="hljs-string">'./Poster'</span>

interface Props{
    <span class="hljs-attr">movies</span>: Movie[]
    title?: string
    <span class="hljs-attr">loadNextPage</span>: <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> <span class="hljs-keyword">void</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HorizontalCarousel  = <span class="hljs-function">(<span class="hljs-params">{movies, title, loadNextPage}: Props</span>) =&gt;</span> {

  <span class="hljs-keyword">const</span> onScroll = <span class="hljs-function">(<span class="hljs-params">event:NativeSyntheticEvent&lt;NativeScrollEvent&gt; </span>)=&gt;</span>{
    <span class="hljs-keyword">const</span> {contentOffset, layoutMeasurement, contentSize} = event.nativeEvent
    <span class="hljs-built_in">console</span>.log({contentOffset, layoutMeasurement, contentSize})

    <span class="hljs-keyword">const</span> isEndReached = (contentOffset.x + layoutMeasurement.width + <span class="hljs-number">600</span>) &gt;= contentSize.width

    <span class="hljs-keyword">if</span>(!isEndReached) <span class="hljs-keyword">return</span>

    loadNextPage &amp;&amp; loadNextPage()

  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">title</span>? <span class="hljs-attr">260:</span> <span class="hljs-attr">220</span>}} &gt;</span>
      {
        title &amp;&amp; (
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">30</span>, <span class="hljs-attr">fontWeight:</span> '<span class="hljs-attr">400</span>', <span class="hljs-attr">marginLeft:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">10</span>}} &gt;</span>
                {title}
            <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        )
      }

      <span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span> 
      <span class="hljs-attr">data</span>=<span class="hljs-string">{movies}</span>
      <span class="hljs-attr">renderItem</span>=<span class="hljs-string">{({item})</span>=&gt;</span>(<span class="hljs-tag">&lt;<span class="hljs-name">Poster</span> <span class="hljs-attr">movie</span>=<span class="hljs-string">{item}</span> <span class="hljs-attr">width</span>=<span class="hljs-string">{140}</span> <span class="hljs-attr">height</span>=<span class="hljs-string">{200}</span> /&gt;</span>)}
      keyExtractor={item=&gt; item.id.toString()}
      horizontal
      showsHorizontalScrollIndicator={false}
      onScroll={onScroll}
      /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>En HomeScreen le coloco un console.log al loadNextPage del componente HorizontalCarousel</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> useMovies <span class="hljs-keyword">from</span> <span class="hljs-string">'../../hooks/useMovies'</span>
<span class="hljs-keyword">import</span> { ScrollView } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-gesture-handler'</span>
<span class="hljs-keyword">import</span> { useSafeAreaInsets } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-safe-area-context'</span>
<span class="hljs-keyword">import</span> PosterCarousel <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/movies/PosterCarousel'</span>
<span class="hljs-keyword">import</span> { HorizontalCarousel } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/movies/HorizontalCarousel'</span>


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HomeScreen  = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> {top} = useSafeAreaInsets()

<span class="hljs-keyword">const</span> {isLoading, nowPlaying, popularMovie, topRatedMovie, upcomingMovie} = useMovies()

<span class="hljs-keyword">if</span>(isLoading){
  <span class="hljs-keyword">return</span> (<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Is loading...<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>)
}

  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginTop:</span> <span class="hljs-attr">top</span> + <span class="hljs-attr">20</span>, <span class="hljs-attr">paddingBottom:</span> <span class="hljs-attr">30</span>}}&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">PosterCarousel</span> <span class="hljs-attr">movies</span>=<span class="hljs-string">{nowPlaying}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">HorizontalCarousel</span> <span class="hljs-attr">movies</span>=<span class="hljs-string">{popularMovie}</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Populars"</span> <span class="hljs-attr">loadNextPage</span>=<span class="hljs-string">{()</span>=&gt;</span>console.log("end reached!")} /&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">HorizontalCarousel</span> <span class="hljs-attr">movies</span>=<span class="hljs-string">{topRatedMovie}</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Top Rated"</span> <span class="hljs-attr">loadNextPage</span>=<span class="hljs-string">{()</span>=&gt;</span>console.log("end reached!")}/&gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">HorizontalCarousel</span> <span class="hljs-attr">movies</span>=<span class="hljs-string">{upcomingMovie}</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"Upcoming"</span> <span class="hljs-attr">loadNextPage</span>=<span class="hljs-string">{()</span>=&gt;</span>console.log("end reached!")}/&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Hago uso del useRef para determinar cuando llamo a loadNextPage porque si no se va a disparar muchas veces</li>
<li>Cuando se que voy a cargar algo pongo el .current a true</li>
<li>Antes de ejecutar el código verifico que .current no esté en true, porque significa que estoy haciendo la petición de las sigueintes películas</li>
<li>Para regresarlo a false podemos hacer uso del useEffect. Cuando las movies cambien pono el .current a false</li>
<li>Uso setTimeOut para darle unas milésimas de segundo y no vaya tan rápido pues produce un efecto no deseado (opcional)</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useEffect, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { NativeScrollEvent, NativeSyntheticEvent, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> { FlatList } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-gesture-handler'</span>
<span class="hljs-keyword">import</span> Poster <span class="hljs-keyword">from</span> <span class="hljs-string">'./Poster'</span>

interface Props{
    <span class="hljs-attr">movies</span>: Movie[]
    title?: string
    loadNextPage?: <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> <span class="hljs-keyword">void</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HorizontalCarousel  = <span class="hljs-function">(<span class="hljs-params">{movies, title, loadNextPage}: Props</span>) =&gt;</span> {

  <span class="hljs-keyword">const</span> isLoading = useRef(<span class="hljs-literal">false</span>)

  useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{

    setTimeout(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
      isLoading.current = <span class="hljs-literal">false</span>
    }, <span class="hljs-number">200</span>)
    
  }, [movies])

  <span class="hljs-keyword">const</span> onScroll = <span class="hljs-function">(<span class="hljs-params">event:NativeSyntheticEvent&lt;NativeScrollEvent&gt; </span>)=&gt;</span>{

    <span class="hljs-keyword">if</span>(isLoading.current) <span class="hljs-keyword">return</span>

    <span class="hljs-keyword">const</span> {contentOffset, layoutMeasurement, contentSize} = event.nativeEvent
    <span class="hljs-built_in">console</span>.log({contentOffset, layoutMeasurement, contentSize})

    <span class="hljs-keyword">const</span> isEndReached = (contentOffset.x + layoutMeasurement.width + <span class="hljs-number">600</span>) &gt;= contentSize.width

    <span class="hljs-keyword">if</span>(!isEndReached) <span class="hljs-keyword">return</span>

    isLoading.current = <span class="hljs-literal">true</span>

    loadNextPage &amp;&amp; loadNextPage()

  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">title</span>? <span class="hljs-attr">260:</span> <span class="hljs-attr">220</span>}} &gt;</span>
      {
        title &amp;&amp; (
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">30</span>, <span class="hljs-attr">fontWeight:</span> '<span class="hljs-attr">400</span>', <span class="hljs-attr">marginLeft:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">10</span>}} &gt;</span>
                {title}
            <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        )
      }

      <span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span> 
      <span class="hljs-attr">data</span>=<span class="hljs-string">{movies}</span>
      <span class="hljs-attr">renderItem</span>=<span class="hljs-string">{({item})</span>=&gt;</span>(<span class="hljs-tag">&lt;<span class="hljs-name">Poster</span> <span class="hljs-attr">movie</span>=<span class="hljs-string">{item}</span> <span class="hljs-attr">width</span>=<span class="hljs-string">{140}</span> <span class="hljs-attr">height</span>=<span class="hljs-string">{200}</span> /&gt;</span>)}
      keyExtractor={item=&gt; item.id.toString()}
      horizontal
      showsHorizontalScrollIndicator={false}
      onScroll={onScroll}
      /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Si quisiera cargar un spinner o algo para decir que está cargando si debería hacerlo con un state y no con un ref</li>
<li>Ref no dispara rerenders cuando cambia su valor</li>
</ul>
<hr>
<h2 id="infinite-scroll-parte-2">Infinite Scroll parte 2</h2>
<ul>
<li>HorizontalCarousel no está llamadno a las nuevas películas, solo a la función si es que la tiene</li>
<li>Para cargar las siguientes películas, la lógica está en el custom hook useMovies</li>
<li>Creo una variable popularPage y la inicializo en 1</li>
<li>En la función incremento la página y llamo al caso de uso</li>
<li>Debo añadir el argumento page al caso de uso</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> UseCases <span class="hljs-keyword">from</span> <span class="hljs-string">'../../core/use-cases'</span>
<span class="hljs-keyword">import</span> { MovieDBFetcher } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../config/adapters/http/movieDB.adapter'</span>


<span class="hljs-keyword">let</span> popularPage = <span class="hljs-number">1</span>

<span class="hljs-keyword">const</span> useMovies = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {



    <span class="hljs-keyword">const</span> [isLoading, setIsLoading] = useState(<span class="hljs-literal">true</span>)
    <span class="hljs-keyword">const</span> [nowPlaying, setNowPlaying] = useState&lt;Movie[]&gt;([])
    <span class="hljs-keyword">const</span> [popularMovie, setpopularMovie] = useState&lt;Movie[]&gt;([])
    <span class="hljs-keyword">const</span> [topRatedMovie, setTopRatedMovie] = useState&lt;Movie[]&gt;([])
    <span class="hljs-keyword">const</span> [upcomingMovie, setUpcomingMovie] = useState&lt;Movie[]&gt;([])

    <span class="hljs-keyword">const</span> popularNextPage = <span class="hljs-keyword">async</span> () =&gt;{
         popularPage ++;
         
         <span class="hljs-keyword">const</span> popularMovies = <span class="hljs-keyword">await</span> UseCases.PopularUseCase(MovieDBFetcher) 
    }

    useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
        initLoad()
    },[])

    <span class="hljs-keyword">const</span> initLoad= <span class="hljs-keyword">async</span>()=&gt;{
        <span class="hljs-keyword">const</span> nowPlayingPromise = UseCases.moviesNowPlayingUseCase(MovieDBFetcher)
        <span class="hljs-keyword">const</span> popularPromise = UseCases.PopularUseCase(MovieDBFetcher)
        <span class="hljs-keyword">const</span> topRatedPromise = UseCases.TopRatedUseCase(MovieDBFetcher)
        <span class="hljs-keyword">const</span> upcomingPromise = UseCases.moviesUpcomingUseCase(MovieDBFetcher)

        <span class="hljs-keyword">const</span>[
            nowPlayingMovies,
            popularMovies,
            topRatedMovies,
            upcomingMovies
        ] = <span class="hljs-keyword">await</span> <span class="hljs-built_in">Promise</span>.all([nowPlayingPromise, popularPromise, topRatedPromise, upcomingPromise])
        

        setNowPlaying(nowPlayingMovies)
        setpopularMovie(popularMovies)
        setTopRatedMovie(topRatedMovies)
        setUpcomingMovie(upcomingMovies)
        setIsLoading(<span class="hljs-literal">false</span>)

        
    }
    
    <span class="hljs-keyword">return</span> {
        isLoading,
        nowPlaying,
        popularMovie,
        topRatedMovie,
        upcomingMovie,
        popularNextPage
    }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useMovies
</div></code></pre>
<ul>
<li>En el caso de uso de popular, agrego una interfaz para el objeto options y poder pasarle la página y el limit</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { HttpAdapter } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../config/adapters/http/http.adapter"</span>;
<span class="hljs-keyword">import</span> { MovieDBResponse} <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../infraestructure/interfaces/movieDBResponses"</span>;
<span class="hljs-keyword">import</span> { MovieMapper } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../infraestructure/mappers/movie.mapper"</span>;
<span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../entities/movie.entity"</span>;

interface Options{
    page?: number
    limit?: number
}


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> PopularUseCase = <span class="hljs-keyword">async</span> (fetcher: HttpAdapter, options?: Options): <span class="hljs-built_in">Promise</span>&lt;Movie[]&gt;=&gt;{

        <span class="hljs-keyword">const</span> popularMoviesResult = <span class="hljs-keyword">await</span> fetcher.get&lt;MovieDBResponse&gt;(<span class="hljs-string">'/3/tv/popular'</span>, {
            <span class="hljs-attr">params</span>:{
                <span class="hljs-attr">page</span>: options?.page ?? <span class="hljs-number">1</span>
            }
        })

    <span class="hljs-keyword">return</span>   popularMoviesResult.results.map(MovieMapper.fromMovieDBResultToEntity)
    
}
</div></code></pre>
<ul>
<li>Ahora, en el hook, añado el argumento page al caso de uso</li>
<li>Esparzo con el spread el state anterior y el nuevo</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> UseCases <span class="hljs-keyword">from</span> <span class="hljs-string">'../../core/use-cases'</span>
<span class="hljs-keyword">import</span> { MovieDBFetcher } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../config/adapters/http/movieDB.adapter'</span>


<span class="hljs-keyword">let</span> popularPage = <span class="hljs-number">1</span>

<span class="hljs-keyword">const</span> useMovies = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {



    <span class="hljs-keyword">const</span> [isLoading, setIsLoading] = useState(<span class="hljs-literal">true</span>)
    <span class="hljs-keyword">const</span> [nowPlaying, setNowPlaying] = useState&lt;Movie[]&gt;([])
    <span class="hljs-keyword">const</span> [popularMovie, setpopularMovie] = useState&lt;Movie[]&gt;([])
    <span class="hljs-keyword">const</span> [topRatedMovie, setTopRatedMovie] = useState&lt;Movie[]&gt;([])
    <span class="hljs-keyword">const</span> [upcomingMovie, setUpcomingMovie] = useState&lt;Movie[]&gt;([])

    <span class="hljs-keyword">const</span> popularNextPage = <span class="hljs-keyword">async</span> () =&gt;{
         popularPage ++;
         
         <span class="hljs-keyword">const</span> popularMovies = <span class="hljs-keyword">await</span> UseCases.PopularUseCase(MovieDBFetcher, {<span class="hljs-attr">page</span>: popularPage}) 

         setpopularMovie(<span class="hljs-function"><span class="hljs-params">prev</span>=&gt;</span> [...prev, ... popularMovies])
    }

    useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
        initLoad()
    },[])

    <span class="hljs-keyword">const</span> initLoad= <span class="hljs-keyword">async</span>()=&gt;{
        <span class="hljs-keyword">const</span> nowPlayingPromise = UseCases.moviesNowPlayingUseCase(MovieDBFetcher)
        <span class="hljs-keyword">const</span> popularPromise = UseCases.PopularUseCase(MovieDBFetcher)
        <span class="hljs-keyword">const</span> topRatedPromise = UseCases.TopRatedUseCase(MovieDBFetcher)
        <span class="hljs-keyword">const</span> upcomingPromise = UseCases.moviesUpcomingUseCase(MovieDBFetcher)

        <span class="hljs-keyword">const</span>[
            nowPlayingMovies,
            popularMovies,
            topRatedMovies,
            upcomingMovies
        ] = <span class="hljs-keyword">await</span> <span class="hljs-built_in">Promise</span>.all([nowPlayingPromise, popularPromise, topRatedPromise, upcomingPromise])
        

        setNowPlaying(nowPlayingMovies)
        setpopularMovie(popularMovies)
        setTopRatedMovie(topRatedMovies)
        setUpcomingMovie(upcomingMovies)
        setIsLoading(<span class="hljs-literal">false</span>)

        
    }
    
    <span class="hljs-keyword">return</span> {
        isLoading,
        nowPlaying,
        popularMovie,
        topRatedMovie,
        upcomingMovie,
        popularNextPage
    }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useMovies
</div></code></pre>
<ul>
<li>Ahora puedo desestructurar este popularNextPage del hook y llamarlo</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useEffect, useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { NativeScrollEvent, NativeSyntheticEvent, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { Movie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> { FlatList } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-gesture-handler'</span>
<span class="hljs-keyword">import</span> Poster <span class="hljs-keyword">from</span> <span class="hljs-string">'./Poster'</span>

interface Props{
    <span class="hljs-attr">movies</span>: Movie[]
    title?: string
    loadNextPage?: <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> <span class="hljs-keyword">void</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HorizontalCarousel  = <span class="hljs-function">(<span class="hljs-params">{movies, title, loadNextPage}: Props</span>) =&gt;</span> {

  <span class="hljs-keyword">const</span> isLoading = useRef(<span class="hljs-literal">false</span>)

  useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{

    setTimeout(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
      isLoading.current = <span class="hljs-literal">false</span>
    }, <span class="hljs-number">200</span>)
    
  }, [movies])

  <span class="hljs-keyword">const</span> onScroll = <span class="hljs-function">(<span class="hljs-params">event:NativeSyntheticEvent&lt;NativeScrollEvent&gt; </span>)=&gt;</span>{

    <span class="hljs-keyword">if</span>(isLoading.current) <span class="hljs-keyword">return</span>

    <span class="hljs-keyword">const</span> {contentOffset, layoutMeasurement, contentSize} = event.nativeEvent
    <span class="hljs-built_in">console</span>.log({contentOffset, layoutMeasurement, contentSize})

    <span class="hljs-keyword">const</span> isEndReached = (contentOffset.x + layoutMeasurement.width + <span class="hljs-number">600</span>) &gt;= contentSize.width

    <span class="hljs-keyword">if</span>(!isEndReached) <span class="hljs-keyword">return</span>

    isLoading.current = <span class="hljs-literal">true</span>

    loadNextPage &amp;&amp; loadNextPage()

  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">title</span>? <span class="hljs-attr">260:</span> <span class="hljs-attr">220</span>}} &gt;</span>
      {
        title &amp;&amp; (
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">30</span>, <span class="hljs-attr">fontWeight:</span> '<span class="hljs-attr">400</span>', <span class="hljs-attr">marginLeft:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">10</span>}} &gt;</span>
                {title}
            <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        )
      }

      <span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span> 
      <span class="hljs-attr">data</span>=<span class="hljs-string">{movies}</span>
      <span class="hljs-attr">renderItem</span>=<span class="hljs-string">{({item})</span>=&gt;</span>(<span class="hljs-tag">&lt;<span class="hljs-name">Poster</span> <span class="hljs-attr">movie</span>=<span class="hljs-string">{item}</span> <span class="hljs-attr">width</span>=<span class="hljs-string">{140}</span> <span class="hljs-attr">height</span>=<span class="hljs-string">{200}</span> /&gt;</span>)}
      keyExtractor={item=&gt; item.id.toString()}
      horizontal
      showsHorizontalScrollIndicator={false}
      onScroll={onScroll}
      /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Está dando problemas de id's duplicados</li>
<li>Podemos verificar que en nuestro arreglo de pelis populares los id's sean únicos</li>
<li>También puedo generar un id único con el index en el keyExtractor</li>
<li>HorizontalCarousel.tsx</li>
</ul>
<pre class="hljs"><code><div>&lt;FlatList 
data={movies}
renderItem={({item})=&gt;(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Poster</span> <span class="hljs-attr">movie</span>=<span class="hljs-string">{item}</span> <span class="hljs-attr">width</span>=<span class="hljs-string">{140}</span> <span class="hljs-attr">height</span>=<span class="hljs-string">{200}</span> /&gt;</span></span>)}
keyExtractor={(item, index)=&gt; <span class="hljs-string">`<span class="hljs-subst">${item.id}</span>-<span class="hljs-subst">${index}</span>`</span>}
horizontal
showsHorizontalScrollIndicator={<span class="hljs-literal">false</span>}
onScroll={onScroll}
/&gt;
</div></code></pre>
<hr>
<h2 id="informaci%C3%B3n-pel%C3%ADcula-por-id">Información Película por ID</h2>
<ul>
<li>Para hacer peticiones http de una película, como cada vez que entre a la misma película voy a ahcer la petición, es conveniente almacenar la info en caché. Eso es lo que hace React Query, se puede usar en React Native</li>
<li>Necesitamos el id de la película</li>
<li>En DetailsScreen tomo los params de useRoute</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useRoute } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Detailsscreen  = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> {movieId} = useRoute().params

  <span class="hljs-built_in">console</span>.log(movieId)
  
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Hello World<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>De esta manera funcion (aunque debo tipar el useRoute)</li>
<li>Hay otra forma. Tipando las props, dispongo de navigation y route</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { useRoute } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>
<span class="hljs-keyword">import</span> { StackScreenProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/stack'</span>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { RootStackParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../navigation/Navigation'</span>

interface Props extends StackScreenProps&lt;RootStackParams, <span class="hljs-string">'Details'</span>&gt;{}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Detailsscreen  = <span class="hljs-function">(<span class="hljs-params">{route}:Props</span>) =&gt;</span> {

  <span class="hljs-keyword">const</span> {movieId} = route.params

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Hello World<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Creo un custom hook useMovie</li>
<li>Haremos algo parecido al useMovies. Apenas se carga lanzamos un efecto para realizar la petición http
<ul>
<li>Podriamos poner de dependencia el movieId o dejar el arreglo vacío del useEffect</li>
</ul>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>

<span class="hljs-keyword">const</span> useMovie = <span class="hljs-function">(<span class="hljs-params">movieId: number</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> [isLoading, setIsLoading] = useState(<span class="hljs-literal">true</span>)

  useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
    loadMovie()
  
},[movieId])

  <span class="hljs-keyword">const</span> loadMovie =<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{

  }
  
    <span class="hljs-keyword">return</span> (
    isLoading

  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useMovie
</div></code></pre>
<ul>
<li>Si hago un llamado a un endpoint y detrás de movie coloco el id .../3/movie/<em>aqui_coloco_ID</em> me trae mucha info</li>
<li>En la entidad creo una interfaz que extiende de Movie</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> interface Movie{
    <span class="hljs-attr">id</span>: number
    <span class="hljs-attr">title</span>: string
    <span class="hljs-attr">description</span>: string
    <span class="hljs-attr">releaseDate</span>: <span class="hljs-built_in">Date</span>
    <span class="hljs-attr">rating</span>: number
    <span class="hljs-attr">poster</span>: string
    <span class="hljs-attr">backdrop</span>: string
}

<span class="hljs-keyword">export</span> interface FullMovie extends Movie{
    <span class="hljs-attr">genres</span>: string[]
    <span class="hljs-attr">duration</span>: number
    <span class="hljs-attr">budget</span>: number
    <span class="hljs-attr">originalTitle</span>: string
    <span class="hljs-attr">productionCompanies</span>: string[]
}
</div></code></pre>
<ul>
<li>Debo crear el caso de uso GetMovie y el mapper para mapear la data</li>
<li>Del endpoint extraigo la interfaz para tipar la respuesta del fetcher en el caso de uso</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-comment">// Generated by https://quicktype.io</span>

<span class="hljs-keyword">export</span> interface IFullMovie {
    <span class="hljs-attr">adult</span>:                 boolean;
    backdrop_path:         <span class="hljs-literal">null</span>;
    belongs_to_collection: <span class="hljs-literal">null</span>;
    budget:                number;
    genres:                Genre[];
    homepage:              string;
    id:                    number;
    imdb_id:               string;
    original_language:     string;
    original_title:        string;
    overview:              string;
    popularity:            number;
    poster_path:           string;
    production_companies:  any[];
    production_countries:  ProductionCountry[];
    release_date:          string;
    revenue:               number;
    runtime:               number;
    spoken_languages:      SpokenLanguage[];
    status:                string;
    tagline:               string;
    title:                 string;
    video:                 boolean;
    vote_average:          number;
    vote_count:            number;
}

<span class="hljs-keyword">export</span> interface Genre {
    <span class="hljs-attr">id</span>:   number;
    name: string;
}

<span class="hljs-keyword">export</span> interface ProductionCountry {
    <span class="hljs-attr">iso_3166_1</span>: string;
    name:       string;
}

<span class="hljs-keyword">export</span> interface SpokenLanguage {
    <span class="hljs-attr">english_name</span>: string;
    iso_639_1:    string;
    name:         string;
}
</div></code></pre>
<ul>
<li>Hago el mapper.</li>
<li>Hago un .map de los genres</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { FullMovie } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../core/entities/movie.entity"</span>
<span class="hljs-keyword">import</span> { MovieDBMovie } <span class="hljs-keyword">from</span> <span class="hljs-string">"../interfaces/full-movie.interface"</span>

<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FullMovieMapper</span> </span>{

    <span class="hljs-keyword">static</span> fromMovieDBToEntity(result: MovieDBMovie): FullMovie{

        <span class="hljs-keyword">return</span>{<span class="hljs-attr">id</span>: result.id,
        <span class="hljs-attr">title</span>: result.title,
        <span class="hljs-attr">description</span>: result.overview,
        <span class="hljs-attr">releaseDate</span>: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(result.release_date),
        <span class="hljs-attr">rating</span>: result.vote_average,
        <span class="hljs-attr">poster</span>: <span class="hljs-string">`https://image.tmdb.org/t/p/w500<span class="hljs-subst">${result.poster_path}</span>`</span>,
        <span class="hljs-attr">backdrop</span>: <span class="hljs-string">`https://image.tmdb.org/t/p/w500<span class="hljs-subst">${result.backdrop_path}</span>`</span>,
        <span class="hljs-attr">genres</span>: result.genres.map(<span class="hljs-function"><span class="hljs-params">genre</span>=&gt;</span>genre.name),
        <span class="hljs-attr">duration</span>: result.runtime,
        <span class="hljs-attr">budget</span>: result.budget,
        <span class="hljs-attr">originalTitle</span>: result.original_title,
        <span class="hljs-attr">productionCompanies</span>: result.production_companies.map(<span class="hljs-function"><span class="hljs-params">company</span>=&gt;</span>company.name)}
    }
}    
</div></code></pre>
<ul>
<li>Voy al caso de uso, utilizo un try catch</li>
<li>Le paso el id, se lo paso como argumento y lo coloco con un template string</li>
<li>Uso el mapper y retorno el resultado</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { HttpAdapter } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../config/adapters/http/http.adapter"</span>;
<span class="hljs-keyword">import</span> { IFullMovie } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../infraestructure/interfaces/full-movie.interface"</span>;
<span class="hljs-keyword">import</span> { FullMovieMapper } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../infraestructure/mappers/full-movie.mapper"</span>;
<span class="hljs-keyword">import</span> { FullMovie } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../entities/movie.entity"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> getMovieUseCase = <span class="hljs-keyword">async</span> (fetcher: HttpAdapter, <span class="hljs-attr">id</span>: number): <span class="hljs-built_in">Promise</span>&lt;FullMovie&gt;=&gt;{

    <span class="hljs-keyword">try</span> { 
        <span class="hljs-keyword">const</span> getFullMovie = <span class="hljs-keyword">await</span> fetcher.get&lt;IFullMovie&gt;(<span class="hljs-string">`/3/movie/<span class="hljs-subst">${id}</span>`</span>)

        <span class="hljs-keyword">const</span> fullMovie = FullMovieMapper.fromMovieDBToEntity(getFullMovie)
        
        <span class="hljs-keyword">return</span> fullMovie
    
    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Can't get full movie"</span>)
    }

}
</div></code></pre>
<ul>
<li>Puedo ir al hook, antes debo crear el adaptador</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { AxiosAdapter } <span class="hljs-keyword">from</span> <span class="hljs-string">"./axios.adapter"</span>;

<span class="hljs-keyword">const</span> fullMovieAdapter = <span class="hljs-keyword">new</span> AxiosAdapter({
    <span class="hljs-attr">baseURL</span>: <span class="hljs-string">"https://api.themoviedb.org"</span>,
    <span class="hljs-attr">params</span>: {
        <span class="hljs-attr">api_key</span>: <span class="hljs-string">""</span>,
        <span class="hljs-attr">language</span>: <span class="hljs-string">'es'</span>
    }
})
</div></code></pre>
<ul>
<li>Exporto el caso de uso desde el archivo de barril y voy al hook useMovie</li>
<li>Desde el useEffect disparo la función</li>
<li>En la función cambio el isLoading a true</li>
<li>Hago uso del caso de uso, le paso el adaptador  y el id (que tendré en DetailsScreen)</li>
<li>Pongo el isLoading en false y retorno en el objeto los dos estados</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> UseCase <span class="hljs-keyword">from</span> <span class="hljs-string">'../../core/use-cases'</span>
<span class="hljs-keyword">import</span> { FullMovie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> { fullMovieAdapter } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../config/adapters/http/fullMovie.adapter'</span>

<span class="hljs-keyword">const</span> useMovie = <span class="hljs-function">(<span class="hljs-params">movieId: number</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> [isLoading, setIsLoading] = useState(<span class="hljs-literal">true</span>)
  <span class="hljs-keyword">const</span> [fullMovie, setFullMovie] = useState&lt;FullMovie&gt;()

  useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
    loadMovie()
  
},[movieId])

  <span class="hljs-keyword">const</span> loadMovie = <span class="hljs-keyword">async</span>()=&gt;{
    setIsLoading(<span class="hljs-literal">true</span>)

    <span class="hljs-keyword">const</span> fullMovieResult = <span class="hljs-keyword">await</span> UseCase.getMovieUseCase(fullMovieAdapter, movieId)
    setFullMovie(fullMovieResult)
    setIsLoading(<span class="hljs-literal">false</span>)
  }
  
    <span class="hljs-keyword">return</span> {
      isLoading,
      fullMovie
    }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useMovie
</div></code></pre>
<ul>
<li>Ahora puedo ir a DetailsScreen y desestructurar el state del hook</li>
<li>Renderizo el título en pantalla</li>
<li>Ahora ya tengo la info, solo es hacer un poco de carpíntería</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { StackScreenProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/stack'</span>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { RootStackParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../navigation/Navigation'</span>
<span class="hljs-keyword">import</span> useMovie <span class="hljs-keyword">from</span> <span class="hljs-string">'../../hooks/useMovie'</span>

interface Props extends StackScreenProps&lt;RootStackParams, <span class="hljs-string">'Details'</span>&gt;{}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Detailsscreen  = <span class="hljs-function">(<span class="hljs-params">{route}:Props</span>) =&gt;</span> {

  <span class="hljs-keyword">const</span> {movieId} = route.params

  <span class="hljs-keyword">const</span>{fullMovie} = useMovie(movieId)

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>{fullMovie?.title}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="pantalla-de-detalles---header">Pantalla de detalles - Header</h2>
<ul>
<li>Creo en components/movies/movie/movieHeader</li>
<li>Utilizo useWindowsDimensions porque no sé que dispositivo va a usar la persona, para que sea adaptable</li>
<li>Renombro el height a screenHeight</li>
<li>Esparzo con spread los estilos, multiplico el screenHeight por 0.7 para obtener el 70% de la pantalla</li>
<li>Uso el useNavigation</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Image, StyleSheet, Text, View, useWindowDimensions } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { FullMovie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> { useNavigation } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>

interface Props{
    <span class="hljs-attr">movie</span>: FullMovie
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> MovieHeader  = <span class="hljs-function">(<span class="hljs-params">{movie}: Props</span>) =&gt;</span> {


    <span class="hljs-keyword">const</span> {<span class="hljs-attr">height</span>: screenHeight}= useWindowDimensions()
    <span class="hljs-keyword">const</span> navigation = useNavigation()



  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{...styles.imageContainer,</span> <span class="hljs-attr">height:</span> <span class="hljs-attr">screenHeight</span> * <span class="hljs-attr">0.7</span>}}&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.imageBorder}</span> &gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Image</span>
                    <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.posterImage}</span>
                    <span class="hljs-attr">source</span>=<span class="hljs-string">{{uri:</span> <span class="hljs-attr">movie.poster</span>}}
                /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
            
        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>    
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}


<span class="hljs-keyword">const</span> styles = StyleSheet.create({
    <span class="hljs-attr">imageContainer</span>: {
      <span class="hljs-attr">width</span>: <span class="hljs-string">'100%'</span>,
      <span class="hljs-attr">shadowColor</span>: <span class="hljs-string">'#000'</span>,
      <span class="hljs-attr">shadowOffset</span>: {
        <span class="hljs-attr">width</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">height</span>: <span class="hljs-number">10</span>,
      },
      <span class="hljs-attr">shadowOpacity</span>: <span class="hljs-number">0.24</span>,
      <span class="hljs-attr">shadowRadius</span>: <span class="hljs-number">7</span>,
  
      <span class="hljs-attr">elevation</span>: <span class="hljs-number">9</span>,
      <span class="hljs-attr">borderBottomEndRadius</span>: <span class="hljs-number">25</span>,
      <span class="hljs-attr">borderBottomStartRadius</span>: <span class="hljs-number">25</span>,
    },
  
    <span class="hljs-attr">imageBorder</span>: {
      <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">overflow</span>: <span class="hljs-string">'hidden'</span>,
      <span class="hljs-attr">borderBottomEndRadius</span>: <span class="hljs-number">25</span>,
      <span class="hljs-attr">borderBottomStartRadius</span>: <span class="hljs-number">25</span>,
    },
    <span class="hljs-attr">posterImage</span>: {
      <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    },
  
    <span class="hljs-attr">marginContainer</span>: {
      <span class="hljs-attr">marginHorizontal</span>: <span class="hljs-number">20</span>,
      <span class="hljs-attr">marginTop</span>: <span class="hljs-number">20</span>,
    },
    <span class="hljs-attr">subTitle</span>: {
      <span class="hljs-attr">fontSize</span>: <span class="hljs-number">16</span>,
      <span class="hljs-attr">opacity</span>: <span class="hljs-number">0.8</span>,
    },
    <span class="hljs-attr">title</span>: {
      <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span>,
      <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">'bold'</span>,
    },
    <span class="hljs-attr">backButton</span>: {
      <span class="hljs-attr">position</span>: <span class="hljs-string">'absolute'</span>,
      <span class="hljs-attr">zIndex</span>: <span class="hljs-number">999</span>,
      <span class="hljs-attr">elevation</span>: <span class="hljs-number">9</span>,
      <span class="hljs-attr">top</span>: <span class="hljs-number">35</span>,
      <span class="hljs-attr">left</span>: <span class="hljs-number">10</span>,
    },
    <span class="hljs-attr">backButtonText</span>: {
      <span class="hljs-attr">color</span>: <span class="hljs-string">'white'</span>,
      <span class="hljs-attr">fontSize</span>: <span class="hljs-number">25</span>,
      <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">'bold'</span>,
      <span class="hljs-attr">textShadowColor</span>: <span class="hljs-string">'rgba(0, 0, 0, 0.55)'</span>,
      <span class="hljs-attr">textShadowOffset</span>: {<span class="hljs-attr">width</span>: <span class="hljs-number">-1</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">1</span>},
      <span class="hljs-attr">textShadowRadius</span>: <span class="hljs-number">10</span>,
    },
  });
</div></code></pre>
<ul>
<li>Lo coloco en DetailsScreen y le paso la prop movie</li>
<li>Me dice que movie puede ser undefined.</li>
<li>Desestructuro el isLoading, lo uso para verificar que si está en true devuelva un texto &quot;Loading...&quot;</li>
<li>Le indico a typescript que si o si vendrá una movie con !</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { StackScreenProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/stack'</span>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { RootStackParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../navigation/Navigation'</span>
<span class="hljs-keyword">import</span> useMovie <span class="hljs-keyword">from</span> <span class="hljs-string">'../../hooks/useMovie'</span>
<span class="hljs-keyword">import</span> { MovieHeader } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/movies/movie/MovieHeader'</span>

interface Props extends StackScreenProps&lt;RootStackParams, <span class="hljs-string">'Details'</span>&gt;{}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Detailsscreen  = <span class="hljs-function">(<span class="hljs-params">{route}:Props</span>) =&gt;</span> {

  <span class="hljs-keyword">const</span> {movieId} = route.params

  <span class="hljs-keyword">const</span>{isLoading, fullMovie} = useMovie(movieId)

  <span class="hljs-keyword">if</span>(isLoading) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Loading<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>
  }
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">MovieHeader</span> <span class="hljs-attr">movie</span>=<span class="hljs-string">{fullMovie!}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Sería una buena práctica pasarle por props una movie con solo lo que necesito: poster_image y pocas cosas más</li>
</ul>
<pre class="hljs"><code><div>interface Props{
    <span class="hljs-attr">poster</span>: string
    <span class="hljs-attr">originalTitle</span>: string
    <span class="hljs-attr">title</span>: string
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> MovieHeader  = <span class="hljs-function">(<span class="hljs-params">{poster, originalTitle, title}: Props</span>) =&gt;</span> {


    <span class="hljs-keyword">const</span> {<span class="hljs-attr">height</span>: screenHeight}= useWindowDimensions()
    <span class="hljs-keyword">const</span> navigation = useNavigation()

{...}
</div></code></pre>
<ul>
<li>Ahora en DetailsScreen le paso las props necesarias</li>
<li>salto el error de TypeScript de que movie sea undefined chequeando el isLoading, movie siempre estará. Lo indico con !</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { StackScreenProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/stack'</span>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { RootStackParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../navigation/Navigation'</span>
<span class="hljs-keyword">import</span> useMovie <span class="hljs-keyword">from</span> <span class="hljs-string">'../../hooks/useMovie'</span>
<span class="hljs-keyword">import</span> { MovieHeader } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/movies/movie/MovieHeader'</span>

interface Props extends StackScreenProps&lt;RootStackParams, <span class="hljs-string">'Details'</span>&gt;{}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Detailsscreen  = <span class="hljs-function">(<span class="hljs-params">{route}:Props</span>) =&gt;</span> {

  <span class="hljs-keyword">const</span> {movieId} = route.params

  <span class="hljs-keyword">const</span>{isLoading, movie} = useMovie(movieId)


  <span class="hljs-keyword">if</span>(isLoading) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Loading<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>
  }
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">MovieHeader</span> <span class="hljs-attr">title</span>=<span class="hljs-string">{movie!.title}</span> <span class="hljs-attr">originalTitle</span>=<span class="hljs-string">{movie!.title}</span> <span class="hljs-attr">poster</span>=<span class="hljs-string">{movie!.poster}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="detalles-de-la-pel%C3%ADcula">Detalles de la película</h2>
<ul>
<li>Creo en movie/MovieDetails.tsx</li>
<li>Mostramos el rating.</li>
<li>Cómo ya se ha hecho un map de los generos, puedo hacer un join para unirlos con una coma</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { FullMovie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../../core/entities/movie.entity'</span>

interface Props{
    <span class="hljs-attr">movie</span>: FullMovie
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> MovieDetails= <span class="hljs-function">(<span class="hljs-params">{movie}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginHorizontal:</span> <span class="hljs-attr">20</span>}}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{flexDirection:</span> '<span class="hljs-attr">row</span>'}}&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>{movie.rating}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginLeft:</span> <span class="hljs-attr">5</span>}}&gt;</span>
                - {movie.genres.join(', ')}    
             <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">23</span>, <span class="hljs-attr">marginTop:10</span>, <span class="hljs-attr">fontWeight:</span>'<span class="hljs-attr">bold</span>'}} &gt;</span>
        Historia
    <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">16</span>}}&gt;</span>{movie.description}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Coloco un ScrollView para poder hacer scroll</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { StackScreenProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/stack'</span>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, ScrollView } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { RootStackParams } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../navigation/Navigation'</span>
<span class="hljs-keyword">import</span> useMovie <span class="hljs-keyword">from</span> <span class="hljs-string">'../../hooks/useMovie'</span>
<span class="hljs-keyword">import</span> { MovieHeader } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/movies/movie/MovieHeader'</span>
<span class="hljs-keyword">import</span> { MovieDetails } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/movies/movie/MovieDetails'</span>


interface Props extends StackScreenProps&lt;RootStackParams, <span class="hljs-string">'Details'</span>&gt;{}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Detailsscreen  = <span class="hljs-function">(<span class="hljs-params">{route}:Props</span>) =&gt;</span> {

  <span class="hljs-keyword">const</span> {movieId} = route.params

  <span class="hljs-keyword">const</span>{isLoading, movie} = useMovie(movieId)


  <span class="hljs-keyword">if</span>(isLoading) {
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Loading<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>
  }
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">MovieHeader</span> <span class="hljs-attr">title</span>=<span class="hljs-string">{movie!.title}</span> <span class="hljs-attr">originalTitle</span>=<span class="hljs-string">{movie!.title}</span> <span class="hljs-attr">poster</span>=<span class="hljs-string">{movie!.poster}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">MovieDetails</span> <span class="hljs-attr">movie</span>=<span class="hljs-string">{movie!}</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Sigo con los detalles en MovieDetails</li>
<li>Muestro la descripción</li>
<li>Para mostrar el presupuesto voy a formatear la cifra con un helper</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Formatter</span></span>{
    public <span class="hljs-keyword">static</span> currency(value: number): string | string[] | <span class="hljs-literal">undefined</span> {

        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Intl</span>.NumberFormat(<span class="hljs-string">'en-US'</span>,{
            <span class="hljs-attr">style</span>: <span class="hljs-string">'currency'</span>,
            <span class="hljs-attr">currency</span>: <span class="hljs-string">'USD'</span>
        }).format(value)
    }
}
</div></code></pre>
<ul>
<li>Lo aplico al presupuesto</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { FullMovie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> { Formatter } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../../config/helpers/formatter'</span>

interface Props{
    <span class="hljs-attr">movie</span>: FullMovie
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> MovieDetails= <span class="hljs-function">(<span class="hljs-params">{movie}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginHorizontal:</span> <span class="hljs-attr">20</span>}}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{flexDirection:</span> '<span class="hljs-attr">row</span>'}}&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>{movie.rating}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginLeft:</span> <span class="hljs-attr">5</span>}}&gt;</span>
                - {movie.genres.join(', ')}    
             <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">23</span>, <span class="hljs-attr">marginTop:10</span>, <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">5</span>, <span class="hljs-attr">fontWeight:</span>'<span class="hljs-attr">bold</span>'}} &gt;</span>
        Historia
    <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">16</span>, <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">20</span>}}&gt;</span>{movie.description}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">23</span>, <span class="hljs-attr">marginTop:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">fontWeight:</span>'<span class="hljs-attr">bold</span>'}} &gt;</span>
        Presupuesto
    <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">16</span>, <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">35</span>}}&gt;</span>{Formatter.currency(movie.budget)}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Ahora quiero colocar los actores</li>
</ul>
<hr>
<h2 id="estructura-de-datos-para-los-actores">Estructura de datos para los actores</h2>
<ul>
<li>Nuevo caso de uso get-cast</li>
<li>Para obtener el casting de actores y actrices debo añadir credits después del id, antes del api_key</li>
<li>Obtenemos el cast y el crew, nos interesa el cast</li>
<li>Hago el mismo proceso: saco la interfaz, creo la entity, el método en el mapper, el caso de uso, lo llamo en el hook</li>
<li>Interfaz</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> interface MovieDBCastResponse {
    <span class="hljs-attr">id</span>:   number;
    cast: MovieDBCast[];
    crew: MovieDBCast[];
}

<span class="hljs-keyword">export</span> interface MovieDBCast {
    <span class="hljs-attr">adult</span>:                boolean;
    gender:               number;
    id:                   number;
    known_for_department: string;
    name:                 string;
    original_name:        string;
    popularity:           number;
    profile_path:         <span class="hljs-literal">null</span> | string;
    cast_id?:             number;
    character?:           string;
    credit_id:            string;
    order?:               number;
    department?:          string;
    job?:                 string;
}
</div></code></pre>
<ul>
<li>La entidad</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> interface Cast{
    <span class="hljs-attr">id</span>: number
    <span class="hljs-attr">name</span>: string
    <span class="hljs-attr">character</span>: string
    <span class="hljs-attr">avatar</span>: string
}
</div></code></pre>
<ul>
<li>Creo un mapper para el cast</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { Cast } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../core/entities/movie.entity"</span>;
<span class="hljs-keyword">import</span> { MovieDBCast} <span class="hljs-keyword">from</span> <span class="hljs-string">"../interfaces/full-movie.interface"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CastMapper</span> </span>{
    public <span class="hljs-keyword">static</span> fromMovieDBToEntity(result: MovieDBCast): Cast{
        
            <span class="hljs-keyword">return</span>{
                <span class="hljs-attr">id</span>: result.id,
                <span class="hljs-attr">name</span>: result.name,
                <span class="hljs-attr">character</span>: result.character ?? <span class="hljs-string">'No character'</span>,
                <span class="hljs-attr">avatar</span>: result.profile_path 
                ? <span class="hljs-string">`https://image.tmdb.org/t/p/w500<span class="hljs-subst">${result.profile_path}</span>`</span>
                : <span class="hljs-string">'https://i.stack.imgur.com/l60Hf.png'</span>
            }
        
    }
}
</div></code></pre>
<ul>
<li>En el caso de uso</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { HttpAdapter } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../config/adapters/http/http.adapter"</span>;
<span class="hljs-keyword">import</span> { MovieDBCastResponse } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../infraestructure/interfaces/full-movie.interface"</span>;
<span class="hljs-keyword">import</span> { CastMapper } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../../infraestructure/mappers/cast.mapper"</span>;
<span class="hljs-keyword">import</span> { Cast } <span class="hljs-keyword">from</span> <span class="hljs-string">"../../entities/movie.entity"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> getMovieCastUseCase = <span class="hljs-keyword">async</span> (fetcher: HttpAdapter, <span class="hljs-attr">movieId</span>: number): <span class="hljs-built_in">Promise</span>&lt;Cast[]&gt;=&gt;{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">const</span> {cast} = <span class="hljs-keyword">await</span> fetcher.get&lt;MovieDBCastResponse&gt;(<span class="hljs-string">`/3/movie/<span class="hljs-subst">${movieId}</span>/credits`</span>)

        <span class="hljs-keyword">const</span> actors = cast.map(<span class="hljs-function">(<span class="hljs-params">actor</span>)=&gt;</span> CastMapper.fromMovieDBToEntity(actor))
        <span class="hljs-keyword">return</span> actors

    } <span class="hljs-keyword">catch</span> (error) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Can´t get movie cast'</span>)
    }
}
</div></code></pre>
<ul>
<li>Voy al hook</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useEffect, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> UseCase <span class="hljs-keyword">from</span> <span class="hljs-string">'../../core/use-cases'</span>
<span class="hljs-keyword">import</span> { Cast, FullMovie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> { MovieDBFetcher } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../config/adapters/http/movieDB.adapter'</span>

<span class="hljs-keyword">const</span> useMovie = <span class="hljs-function">(<span class="hljs-params">movieId: number</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> [isLoading, setIsLoading] = useState(<span class="hljs-literal">true</span>)
  <span class="hljs-keyword">const</span> [movie, setMovie] = useState&lt;FullMovie&gt;()
  <span class="hljs-keyword">const</span> [cast, setCast] = useState&lt;Cast[]&gt;()

  useEffect(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
    loadMovie()
},[movieId])

  <span class="hljs-keyword">const</span> loadMovie = <span class="hljs-keyword">async</span>()=&gt;{
    setIsLoading(<span class="hljs-literal">true</span>)

      <span class="hljs-keyword">const</span> fullMoviePromise = UseCase.getMovieUseCase(MovieDBFetcher, movieId)
      <span class="hljs-keyword">const</span> movieCastPromise = UseCase.getMovieCastUseCase(MovieDBFetcher, movieId)

      <span class="hljs-keyword">const</span> [fullMovie, movieCast] = <span class="hljs-keyword">await</span> <span class="hljs-built_in">Promise</span>.all([fullMoviePromise, movieCastPromise])

      setMovie(fullMovie)
      setCast(movieCast)
      setIsLoading(<span class="hljs-literal">false</span>)

      <span class="hljs-built_in">console</span>.log(cast)
    
  }
  
    <span class="hljs-keyword">return</span> {
      isLoading,
      movie,
      cast
    }
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> useMovie
</div></code></pre>
<ul>
<li>Lo desestructuro del hook en DetailsScreen y se lo paso a MovieDetails</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { Cast, FullMovie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> { Formatter } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../../config/helpers/formatter'</span>

interface Props{
    <span class="hljs-attr">movie</span>: FullMovie
    <span class="hljs-attr">actors</span>: Cast[]
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> MovieDetails= <span class="hljs-function">(<span class="hljs-params">{movie, actors}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginHorizontal:</span> <span class="hljs-attr">20</span>}}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{flexDirection:</span> '<span class="hljs-attr">row</span>'}}&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>{movie.rating}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginLeft:</span> <span class="hljs-attr">5</span>}}&gt;</span>
                - {movie.genres.join(', ')}    
             <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">23</span>, <span class="hljs-attr">marginTop:10</span>, <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">5</span>, <span class="hljs-attr">fontWeight:</span>'<span class="hljs-attr">bold</span>', <span class="hljs-attr">marginHorizontal:</span> <span class="hljs-attr">10</span>}} &gt;</span>
        Historia
    <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">16</span>, <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">20</span>, <span class="hljs-attr">marginHorizontal:</span> <span class="hljs-attr">10</span>}}&gt;</span>{movie.description}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">23</span>, <span class="hljs-attr">marginTop:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">fontWeight:</span>'<span class="hljs-attr">bold</span>', <span class="hljs-attr">marginHorizontal:</span> <span class="hljs-attr">10</span>}} &gt;</span>
        Presupuesto
    <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">16</span>, <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">35</span>, <span class="hljs-attr">marginHorizontal:</span> <span class="hljs-attr">10</span>}}&gt;</span>{Formatter.currency(movie.budget)}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">23</span>, <span class="hljs-attr">marginVertical:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">fontWeight:</span> '<span class="hljs-attr">bold</span>', <span class="hljs-attr">marginHorizontal:</span> <span class="hljs-attr">20</span>}} &gt;</span>
            {actors.map(actor=&gt; <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{actor.id}</span>&gt;</span>{actor.name}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>)}
        <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="mostrar-actores-en-pantalla">Mostrar actores en pantalla</h2>
<ul>
<li>Usemos un FlatList en MovieDetails</li>
</ul>
<pre class="hljs"><code><div>    &lt;FlatList 
        data={actors}
        keyExtractor={(item)=&gt;item.id.toString()}
        horizontal
        showsHorizontalScrollIndicator={<span class="hljs-literal">false</span>}
        renderItem={({item})=&gt;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>{item.name}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>}
        /&gt;
</div></code></pre>
<ul>
<li>En lugar de renderizar el texto, me creo un componente en components/actors/CastActor.tsx</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Image, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { Cast } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../core/entities/movie.entity'</span>

interface Props{
    <span class="hljs-attr">actor</span>: Cast
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> CastActors = <span class="hljs-function">(<span class="hljs-params">{actor}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span> &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Image</span> <span class="hljs-attr">source</span>=<span class="hljs-string">{{uri:</span> <span class="hljs-attr">actor.avatar</span>}} <span class="hljs-attr">style</span>=<span class="hljs-string">{{width:100,</span> <span class="hljs-attr">height:</span> <span class="hljs-attr">100</span>, <span class="hljs-attr">borderRadius:</span> <span class="hljs-attr">10</span>}} /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.actorInfo}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">15</span>, <span class="hljs-attr">fontWeight:</span> '<span class="hljs-attr">bold</span>'}} &gt;</span>
            {actor.name}
        <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">12</span>, <span class="hljs-attr">opacity:</span> <span class="hljs-attr">0.7</span>}} &gt;</span>
            {actor.character}
        <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}



<span class="hljs-keyword">import</span> {StyleSheet} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">const</span> styles = StyleSheet.create({
  <span class="hljs-attr">container</span>:{
    <span class="hljs-attr">marginRight</span>:<span class="hljs-number">10</span>,
    <span class="hljs-attr">paddingLeft</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">display</span>: <span class="hljs-string">'flex'</span>,
    <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">'column'</span>,
    <span class="hljs-attr">width</span>: <span class="hljs-number">100</span>
  },
  <span class="hljs-attr">actorInfo</span>:{
    <span class="hljs-attr">marginLeft</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">marginTop</span>: <span class="hljs-number">4</span>
  }
})
</div></code></pre>
<ul>
<li>Lo uso en MovieDetails</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { FlatList, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { Cast, FullMovie } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../../core/entities/movie.entity'</span>
<span class="hljs-keyword">import</span> { Formatter } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../../config/helpers/formatter'</span>
<span class="hljs-keyword">import</span> { CastActors } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../actors/CastActors'</span>

interface Props{
    <span class="hljs-attr">movie</span>: FullMovie
    <span class="hljs-attr">actors</span>: Cast[]
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> MovieDetails= <span class="hljs-function">(<span class="hljs-params">{movie, actors}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginHorizontal:</span> <span class="hljs-attr">20</span>}}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{flexDirection:</span> '<span class="hljs-attr">row</span>'}}&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>{movie.rating}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginLeft:</span> <span class="hljs-attr">5</span>}}&gt;</span>
                - {movie.genres.join(', ')}    
             <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">23</span>, <span class="hljs-attr">marginTop:10</span>, <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">5</span>, <span class="hljs-attr">fontWeight:</span>'<span class="hljs-attr">bold</span>', <span class="hljs-attr">marginHorizontal:</span> <span class="hljs-attr">10</span>}} &gt;</span>
        Historia
    <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">16</span>, <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">20</span>, <span class="hljs-attr">marginHorizontal:</span> <span class="hljs-attr">10</span>}}&gt;</span>{movie.description}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">23</span>, <span class="hljs-attr">marginTop:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">fontWeight:</span>'<span class="hljs-attr">bold</span>', <span class="hljs-attr">marginHorizontal:</span> <span class="hljs-attr">10</span>}} &gt;</span>
        Presupuesto
    <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">16</span>, <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">35</span>, <span class="hljs-attr">marginHorizontal:</span> <span class="hljs-attr">10</span>}}&gt;</span>{Formatter.currency(movie.budget)}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontSize:</span> <span class="hljs-attr">23</span>, <span class="hljs-attr">marginVertical:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">fontWeight:</span> '<span class="hljs-attr">bold</span>', <span class="hljs-attr">marginHorizontal:</span> <span class="hljs-attr">20</span>}} &gt;</span>
           Actores
        <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span> 
        <span class="hljs-attr">data</span>=<span class="hljs-string">{actors}</span>
        <span class="hljs-attr">keyExtractor</span>=<span class="hljs-string">{(item)</span>=&gt;</span>item.id.toString()}
        horizontal
        showsHorizontalScrollIndicator={false}
        renderItem={({item})=&gt;<span class="hljs-tag">&lt;<span class="hljs-name">CastActors</span> <span class="hljs-attr">actor</span>=<span class="hljs-string">{item}</span>  /&gt;</span>}
        /&gt;       
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="configurar-variables-de-entorno">Configurar variables de entorno</h2>
<ul>
<li>Usaremos react-native-dotenv</li>
</ul>
<blockquote>
<p>npm i -D react-native-dotenv</p>
</blockquote>
<ul>
<li>En .babelrc o babel.config</li>
</ul>
<pre class="hljs"><code><div>{
  &quot;plugins&quot;: [
    [&quot;module: react-native-dotenv&quot;]
  ] 
}
</div></code></pre>
<ul>
<li>Quedando así</li>
<li><strong>NOTA</strong>: si usas un plugin de reanimated asegurate de quea el último</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">presets</span>: [<span class="hljs-string">'module:@react-native/babel-preset'</span>],
  <span class="hljs-attr">plugins</span>: [<span class="hljs-string">'module: react-native-dotenv'</span>]
};
</div></code></pre>
<ul>
<li>Se puede configurar</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">presets</span>: [<span class="hljs-string">'module:@react-native/babel-preset'</span>],
  <span class="hljs-attr">plugins</span>: [
    [<span class="hljs-string">'module:react-native-dotenv'</span>,{
    <span class="hljs-attr">envName</span>: <span class="hljs-string">'APP_ENV'</span>,
    <span class="hljs-attr">moduleName</span>: <span class="hljs-string">'@env'</span>,
    <span class="hljs-attr">path</span>: <span class="hljs-string">".env"</span>
  }]
]
};
</div></code></pre>
<ul>
<li>En Typescript hay que crear una carpeta llamada Types y ahi definir un módulo</li>
<li>En la raíz types/env.d.ts  (.d son los archivos de definicion de TypeScript)</li>
<li>Uso el nombre del módulo que especifiqué en babel.config</li>
</ul>
<pre class="hljs"><code><div>declare <span class="hljs-built_in">module</span> <span class="hljs-string">'@env'</span>{
    <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> API_KEY: string
}
</div></code></pre>
<ul>
<li>Ahora para usarlo en el adaptador</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { API_KEY } <span class="hljs-keyword">from</span> <span class="hljs-string">"@env"</span>;
<span class="hljs-keyword">import</span> { AxiosAdapter } <span class="hljs-keyword">from</span> <span class="hljs-string">"./axios.adapter"</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> fullMovieAdapter = <span class="hljs-keyword">new</span> AxiosAdapter({
    <span class="hljs-attr">baseURL</span>: <span class="hljs-string">"https://api.themoviedb.org/3/movie"</span>,
    <span class="hljs-attr">params</span>: {
        <span class="hljs-attr">api_key</span>: API_KEY ?? <span class="hljs-string">'no key'</span>,
        <span class="hljs-attr">language</span>: <span class="hljs-string">'es'</span>
    }
})
</div></code></pre>
<ul>
<li>Este paquete a veces DA PROBLEMAS. Prueba a reiniciar la computadora (aunque parezca inverosímil)</li>
</ul>
<hr>
<h1 id="react-native---m%C3%A1s-componentes">React Native - Más Componentes</h1>
<ul>
<li>Están configurados los iconos de Ionicons</li>
<li>Creo la estructura de directorios</li>
<li>En src</li>
<li>Presentation
<ul>
<li>Components
<ul>
<li>Ui</li>
</ul>
</li>
<li>Assets</li>
<li>Hooks</li>
<li>Navigator</li>
<li>Icons</li>
<li>Screens
<ul>
<li>Home/HomeScreen</li>
<li>Alerts</li>
<li>Animations</li>
<li>Inputs</li>
<li>Switches</li>
<li>ThemeChanger</li>
<li>Ui</li>
</ul>
</li>
</ul>
</li>
<li>Renombro App a MasComponentes</li>
<li>Muevo MasComponentes dentro de src</li>
<li>Creo el HomeScreen.tsx</li>
<li>En la carpeta Icons creo Icons.tsx</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span>  Icon  <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native-vector-icons/Ionicons"</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> AirplaneIcon = <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Icon</span>  <span class="hljs-attr">name</span>=<span class="hljs-string">'airplane-outline'</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{30}</span> /&gt;</span></span>
</div></code></pre>
<ul>
<li>Para la navegación creo el Stack (la instalación ya está hecha)</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { createStackNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/stack'</span>;
<span class="hljs-keyword">import</span> { HomeScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'../screens/home/HomeScreen'</span>;

<span class="hljs-keyword">const</span> Stack = createStackNavigator();

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> StackNavigator =<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Stack.Navigator</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"HomeScreen"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{HomeScreen}</span> /&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-name">Stack.Navigator</span>&gt;</span></span>
  );
}
</div></code></pre>
<ul>
<li>Coloco el StackNavigator dentro del NavigationContainer</li>
<li><strong>NOTA:</strong> Tengo configurado React Native Paper también</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> <span class="hljs-string">'react-native-gesture-handler'</span>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> {PaperProvider} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-paper'</span>
<span class="hljs-keyword">import</span> IonIcon <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-vector-icons/Ionicons'</span>
<span class="hljs-keyword">import</span> { HomeScreen } <span class="hljs-keyword">from</span> <span class="hljs-string">'./presentation/screens/home/HomeScreen'</span>;
<span class="hljs-keyword">import</span> { NavigationContainer } <span class="hljs-keyword">from</span> <span class="hljs-string">'@react-navigation/native'</span>;
<span class="hljs-keyword">import</span> { StackNavigator } <span class="hljs-keyword">from</span> <span class="hljs-string">'./presentation/navigator/StackNavigator'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> ComponentsApp=(): React.JSX.Element=&gt;{

  <span class="hljs-keyword">return</span>(
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">NavigationContainer</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">PaperProvider</span>
      <span class="hljs-attr">settings</span>=<span class="hljs-string">{({</span>
         <span class="hljs-attr">icon:</span> (<span class="hljs-attr">props</span>)=&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">IonIcon</span> {<span class="hljs-attr">...props</span>} /&gt;</span>
      })}
      &gt;
         <span class="hljs-tag">&lt;<span class="hljs-name">StackNavigator</span> /&gt;</span>
         
      <span class="hljs-tag">&lt;/<span class="hljs-name">PaperProvider</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">NavigationContainer</span>&gt;</span></span>

   )
}
</div></code></pre>
<hr>
<h2 id="men%C3%BA-principal-y-estilos">Menú Principal y Estilos</h2>
<ul>
<li>Copio el menuItems del Gist adjunto con la lección en HomeScreen, luego le encontraremos un mejor lugar</li>
</ul>
<blockquote>
<p>https://gist.github.com/Klerith/8cc5b908636c53ee91d2bdae7be0aa25</p>
</blockquote>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { AirplaneIcon } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../icons/Icons'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HomeScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>HomeScreen<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
      
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> menuItems = [
  <span class="hljs-comment">// 01-animationMenuItems</span>
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Animation 101'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'cube-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'Animation101Screen'</span>,
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Animation 102'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'albums-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'Animation102Screen'</span>,
  },


  <span class="hljs-comment">// 02-menuItems</span>
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Pull to refresh'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'refresh-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'PullToRefreshScreen'</span>,
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Section List'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'list-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'CustomSectionListScreen'</span>,
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Modal'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'copy-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'ModalScreen'</span>,
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'InfiniteScroll'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'download-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'InfiniteScrollScreen'</span>,
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Slides'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'flower-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'SlidesScreen'</span>,
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Themes'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'flask-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'ChangeThemeScreen'</span>,
  },

  <span class="hljs-comment">// 03- uiMenuItems</span>
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Switches'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'toggle-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'SwitchScreen'</span>,
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Alerts'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'alert-circle-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'AlertScreen'</span>,
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'TextInputs'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'document-text-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'TextInputScreen'</span>,
  },
];
</div></code></pre>
<ul>
<li>Creo config/theme/theme.tsx, pego lo que hay en el Gist</li>
<li>Hay una interfaz para los colores</li>
<li>He colocado los colores en duro en los objetos con <em>colors.text</em></li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> { StyleSheet } <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native"</span>;

<span class="hljs-keyword">export</span> interface ThemeColors {
  <span class="hljs-attr">primary</span>: string;
  text: string;
  background: string;
  cardBackground: string;
  buttonTextColor: string;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> colors: ThemeColors = {
  <span class="hljs-attr">primary</span>: <span class="hljs-string">"#5856D6"</span>,
  <span class="hljs-attr">text</span>: <span class="hljs-string">"black"</span>,

  <span class="hljs-attr">background</span>: <span class="hljs-string">"#F3F2F7"</span>,
  <span class="hljs-attr">cardBackground</span>: <span class="hljs-string">"white"</span>,
  <span class="hljs-attr">buttonTextColor</span>: <span class="hljs-string">"white"</span>,
};

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> globalStyles = StyleSheet.create({
  <span class="hljs-attr">title</span>: {
    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">30</span>,
    <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">"bold"</span>,
    <span class="hljs-attr">color</span>: colors.text,
  },
  <span class="hljs-attr">subTitle</span>: {
    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">20</span>,
    <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">"bold"</span>,
    <span class="hljs-attr">color</span>: colors.text,
  },

  <span class="hljs-attr">mainContainer</span>: {
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">backgroundColor</span>: colors.background,
  },
  <span class="hljs-attr">globalMargin</span>: {
    <span class="hljs-attr">paddingHorizontal</span>: <span class="hljs-number">20</span>,
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
  },

  <span class="hljs-attr">btnPrimary</span>: {
    <span class="hljs-attr">backgroundColor</span>: colors.primary,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">padding</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">"center"</span>,
  },
  <span class="hljs-attr">btnPrimaryText</span>: {
    <span class="hljs-attr">color</span>: colors.text,
    <span class="hljs-attr">fontSize</span>: <span class="hljs-number">16</span>,
  },
});
</div></code></pre>
<ul>
<li>En HomeScreen, aplico los estilos a los view</li>
<li>Coloco un ScrollView. el ScrollView no es perezoso, si tienes muchos elementos es mejor usar un FlatList</li>
<li>Creo en comoponents/ui/Title.tsx</li>
<li>Pongo el white y el safe (que son opcionales) en false por defecto</li>
<li>En los estilos esparzo los estilos globales y añado las propiedades que necesito</li>
<li>Si viene el white, el texto será white. Si viene el safe, usaré el top que extraigo de useSafeAreaInsets para que no choque con la parte superior</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { colors, globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>
<span class="hljs-keyword">import</span> { useSafeAreaInsets } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-safe-area-context'</span>

interface Props{
    <span class="hljs-attr">text</span>: string
    safe?: boolean
    white?: boolean
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Title = <span class="hljs-function">(<span class="hljs-params">{text, safe= <span class="hljs-literal">false</span>, white= <span class="hljs-literal">false</span>}: Props</span>) =&gt;</span> {

    <span class="hljs-keyword">const</span> {top} = useSafeAreaInsets()
  <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
        <span class="hljs-attr">...globalStyles.title</span>,
        <span class="hljs-attr">marginTop:</span> <span class="hljs-attr">safe</span> ? <span class="hljs-attr">top</span> <span class="hljs-attr">:</span> <span class="hljs-attr">0</span>,
        <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">10</span>,
        <span class="hljs-attr">color:</span> <span class="hljs-attr">white</span> ? '<span class="hljs-attr">white</span>'<span class="hljs-attr">:</span> <span class="hljs-attr">colors.text</span>

    }}&gt;</span>{text}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Lo coloco en el ScrollView con el safe en true (solo con colocar la prop es suficiente)</li>
</ul>
<pre class="hljs"><code><div>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HomeScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.mainContainer}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.globalMargin}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Opciones de Menú"</span> <span class="hljs-attr">safe</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
      
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="opciones-del-men%C3%BA">Opciones del Menú</h2>
<ul>
<li>Creo el components/ui/MenuItem.tsx</li>
<li>Voy a usar el MenuItem para navegar, por lo que voy a usar un Pressable</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Pressable, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> {StyleSheet} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { colors } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>
<span class="hljs-keyword">import</span>  Icon  <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-vector-icons/Ionicons'</span>

interface Props{
    <span class="hljs-attr">name</span>: string
    <span class="hljs-attr">icon</span>: string
    component?: string
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> MenuItem = <span class="hljs-function">(<span class="hljs-params">{name, icon, component}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span>
        <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>console.log('click')}
        &gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
                <span class="hljs-attr">...styles.container</span>,
                <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">colors.cardBackground</span>
            }}&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">{icon}</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{25}</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginRight:10,</span> <span class="hljs-attr">color:</span> <span class="hljs-attr">colors.primary</span>}} /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{color:</span> <span class="hljs-attr">colors.text</span>}}&gt;</span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'chevron-forward-outline'</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{25}</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginLeft:</span> '<span class="hljs-attr">auto</span>'}} <span class="hljs-attr">color</span>=<span class="hljs-string">{colors.primary}/</span>&gt;</span>

            <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span></span>
  )
}


<span class="hljs-keyword">const</span> styles = StyleSheet.create({
  <span class="hljs-attr">container</span>:{
    <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">'row'</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,
    <span class="hljs-attr">paddingHorizontal</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">paddingVertical</span>: <span class="hljs-number">5</span>
  }
})
</div></code></pre>
<ul>
<li>Hago un .map en el ScrollView y renderizo el MenuItem</li>
<li>Puedo hacerlo así</li>
</ul>
<pre class="hljs"><code><div>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HomeScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.mainContainer}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.globalMargin}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Opciones de Menú"</span> <span class="hljs-attr">safe</span> /&gt;</span>

          {
            menuItems.map(item=&gt;(
              <span class="hljs-tag">&lt;<span class="hljs-name">MenuItem</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.component}</span> <span class="hljs-attr">icon</span>=<span class="hljs-string">{item.icon}</span> <span class="hljs-attr">name</span>=<span class="hljs-string">{item.name}</span> /&gt;</span>
            ))
          }
        <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
      
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
</div></code></pre>
<ul>
<li>Pero también puedo hacerlo usando el spread</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HomeScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.mainContainer}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.globalMargin}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Opciones de Menú"</span> <span class="hljs-attr">safe</span> /&gt;</span>

          {
            menuItems.map(item=&gt;(
              <span class="hljs-tag">&lt;<span class="hljs-name">MenuItem</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.component}</span> {<span class="hljs-attr">...item</span>} /&gt;</span>
            ))
          }
        <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
      
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
</div></code></pre>
<ul>
<li>Añado nuevas props a MenuItem para estilizar y agrupar los elementos</li>
<li>Si es el primero o es el último voy a poder aplicar estilos condicionales</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Pressable, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> {StyleSheet} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { colors } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>
<span class="hljs-keyword">import</span>  Icon  <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-vector-icons/Ionicons'</span>

interface Props{
    <span class="hljs-attr">name</span>: string
    <span class="hljs-attr">icon</span>: string
    component?: string
    isFirst?: boolean
    isLast?: boolean
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> MenuItem = <span class="hljs-function">(<span class="hljs-params">{name, icon, component, isFirst= <span class="hljs-literal">false</span>, isLast= <span class="hljs-literal">false</span> }: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span>
        <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>console.log('click')}
        &gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
                <span class="hljs-attr">...styles.container</span>,
                <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">colors.cardBackground</span>,
                <span class="hljs-attr">...</span>(<span class="hljs-attr">isFirst</span> &amp;&amp; {<span class="hljs-attr">borderTopLeftRadius:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">borderTopRightRadius:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">paddingTop:</span> <span class="hljs-attr">10</span>}),
                <span class="hljs-attr">...</span>(<span class="hljs-attr">isLast</span> &amp;&amp; {<span class="hljs-attr">borderBottomLeftRadius:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">borderBottomRightRadius:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">paddingTop:</span> <span class="hljs-attr">10</span>})
            }}&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">{icon}</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{25}</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginRight:10,</span> <span class="hljs-attr">color:</span> <span class="hljs-attr">colors.primary</span>}} /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{color:</span> <span class="hljs-attr">colors.text</span>}}&gt;</span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'chevron-forward-outline'</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{25}</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginLeft:</span> '<span class="hljs-attr">auto</span>'}} <span class="hljs-attr">color</span>=<span class="hljs-string">{colors.primary}/</span>&gt;</span>

            <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span></span>
  )
}

<span class="hljs-keyword">const</span> styles = StyleSheet.create({
  <span class="hljs-attr">container</span>:{
    <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">'row'</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,
    <span class="hljs-attr">paddingHorizontal</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">paddingVertical</span>: <span class="hljs-number">5</span>
  }
})
</div></code></pre>
<ul>
<li>Para que se apliquen los cambios tengo que indicar cual es el primero y cual es el último</li>
<li>Para ello extraigo el index del map</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HomeScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.mainContainer}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.globalMargin}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Opciones de Menú"</span> <span class="hljs-attr">safe</span> /&gt;</span>

          {
            menuItems.map((item, index)=&gt;(
              <span class="hljs-tag">&lt;<span class="hljs-name">MenuItem</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.component}</span> {<span class="hljs-attr">...item</span>}
              <span class="hljs-attr">isFirst</span>=<span class="hljs-string">{index</span> === <span class="hljs-string">0</span> }
              <span class="hljs-attr">isLast</span>=<span class="hljs-string">{index</span> === <span class="hljs-string">menuItems.length</span> <span class="hljs-attr">-1</span>}
              /&gt;</span>
            ))
          }
        <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
      
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Vamos a separarlos por grupos</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> animationMenuItems = [
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Animation 101'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'cube-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'Animation101Screen'</span>,
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Animation 102'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'albums-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'Animation102Screen'</span>,
  }
]

<span class="hljs-keyword">const</span> menuItems= [
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Pull to refresh'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'refresh-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'PullToRefreshScreen'</span>,
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Section List'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'list-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'CustomSectionListScreen'</span>,
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Modal'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'copy-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'ModalScreen'</span>,
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'InfiniteScroll'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'download-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'InfiniteScrollScreen'</span>,
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Slides'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'flower-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'SlidesScreen'</span>,
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Themes'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'flask-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'ChangeThemeScreen'</span>,
  }
]

<span class="hljs-keyword">const</span> uiMenuItems =[
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Switches'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'toggle-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'SwitchScreen'</span>,
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'Alerts'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'alert-circle-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'AlertScreen'</span>,
  },
  {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'TextInputs'</span>,
    <span class="hljs-attr">icon</span>: <span class="hljs-string">'document-text-outline'</span>,
    <span class="hljs-attr">component</span>: <span class="hljs-string">'TextInputScreen'</span>,
  }
]
</div></code></pre>
<ul>
<li>Hago los .map de los tres grupos dentro del ScrollView</li>
<li>Lo coloco dentro de diferentes Views con un marginTop</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> HomeScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.mainContainer}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.globalMargin}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Opciones de Menú"</span> <span class="hljs-attr">safe</span> /&gt;</span>


          {
            menuItems.map((item, index)=&gt;(
              <span class="hljs-tag">&lt;<span class="hljs-name">MenuItem</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.component}</span> {<span class="hljs-attr">...item</span>}
              <span class="hljs-attr">isFirst</span>=<span class="hljs-string">{index</span> === <span class="hljs-string">0</span> }
              <span class="hljs-attr">isLast</span>=<span class="hljs-string">{index</span> === <span class="hljs-string">menuItems.length</span> <span class="hljs-attr">-1</span>}
              /&gt;</span>
              ))
            }
            <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginTop:</span> <span class="hljs-attr">10</span>}}&gt;</span>
            {
              animationMenuItems.map((item, index)=&gt;(
                <span class="hljs-tag">&lt;<span class="hljs-name">MenuItem</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.component}</span> {<span class="hljs-attr">...item</span>}
                <span class="hljs-attr">isFirst</span>=<span class="hljs-string">{index</span> === <span class="hljs-string">0</span> }
              <span class="hljs-attr">isLast</span>=<span class="hljs-string">{index</span> === <span class="hljs-string">animationMenuItems.length</span> <span class="hljs-attr">-1</span>} /&gt;</span>
              ))
            }

            <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginTop:</span> <span class="hljs-attr">10</span>}} &gt;</span>
            {
              uiMenuItems.map((item, index)=&gt;(
                <span class="hljs-tag">&lt;<span class="hljs-name">MenuItem</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.component}</span> {<span class="hljs-attr">...item</span>}
                <span class="hljs-attr">isFirst</span>=<span class="hljs-string">{index</span> === <span class="hljs-string">0</span> }
                <span class="hljs-attr">isLast</span>=<span class="hljs-string">{index</span> === <span class="hljs-string">uiMenuItems.length</span> <span class="hljs-attr">-1</span>} /&gt;</span>
              ))
            }
            <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
      
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>En MenuItem uso el useNavigation. Hay que configurar el RootStackParams para tener el tipado</li>
<li>Lo dejo temporalmente tipado como any (dará error porque no hay rutas definidas)</li>
<li>Coloco el componente en navigation.navigate dentro de la prop onPress del Pressable</li>
</ul>
<hr>
<h2 id="animated-api">Animated API</h2>
<ul>
<li>En las listas que he creado de menuItems en HomeScreen hay una de las propiedades que es component</li>
<li>Uso el mismo nombre para nombrar a mis componentes en la carpeta components</li>
<li>Vamos con las lista de animationMenuItems</li>
<li>En animations/Animation101Screen.tsx creo un componente básico</li>
<li>Lo añado en el StackNavigator</li>
</ul>
<pre class="hljs"><code><div>
<span class="hljs-keyword">const</span> Stack = createStackNavigator();

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> StackNavigator =<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Stack.Navigator</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"HomeScreen"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{HomeScreen}</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Stack.Screen</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Animation101Screen"</span> <span class="hljs-attr">component</span>=<span class="hljs-string">{Animation101Screen}</span> /&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-name">Stack.Navigator</span>&gt;</span></span>
  );
}
</div></code></pre>
<ul>
<li>Cuando quiero aplicar un cambio visual lo debo colocar en un estado</li>
<li>Si lo único que quiero es mantener el valor de una variable uso <strong>useRef</strong></li>
<li>Le paso una instancia de Animated donde el Value es 0.4 (algio translúcido, en este caso)</li>
<li>Lo coloco en 0 porque quiero que la caja púrpura aparezca de la nada</li>
<li>.current para tomar el valor actual</li>
<li>este 0.4 no es de tipo number, es de tipo Animated.Value</li>
<li><strong>No puedo</strong> usar Animated properties <strong>en un View</strong> normal</li>
<li>Trabajaré con Animated.View (hay otros, como Animated.Image, etc)</li>
<li>Le paso en el arreglo de styles un objeto con la propiedad <strong>opacity</strong> y le paso la referencia animatedOpacity</li>
<li>Para el fadeIn, primero lo haremos en crudo, luego haremos un custom hook
<ul>
<li>Uso el objeto <strong>Animated</strong>, en este caso con la propiedad <strong>timing</strong> y le paso la referencia y el objeto de configuración:</li>
<li>A que valor quiero que vaya</li>
<li>La duración en milésimas de segundo</li>
<li>El tipo de aceleración (driver)</li>
</ul>
</li>
<li>Para disparar la animación uso .start</li>
<li>Puedo colocar un callback dentro de start para disparar otra animación cuando esta animación termine</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Animated, Pressable, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Animation101Screen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> animatedOpacity = useRef(<span class="hljs-keyword">new</span> Animated.Value(<span class="hljs-number">0</span>)).current

  <span class="hljs-keyword">const</span> fadeIn = <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
    Animated.timing(animatedOpacity,{
      <span class="hljs-attr">toValue</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span>, <span class="hljs-comment">//ms</span>
      <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">//acelerado por hardware</span>
    }).start(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-built_in">console</span>.log(<span class="hljs-string">"dispara esto cuando la animación termina"</span>))
  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Animated.View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[</span>
          <span class="hljs-attr">styles.purpleBox</span>, {
            <span class="hljs-attr">opacity:</span> <span class="hljs-attr">animatedOpacity</span>
          }]} /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{fadeIn}</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginTop:10}}</span> &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>FadeIn<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span> console.log('FadeOut')} style={{marginTop:10}} &gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>FadeOut<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}



<span class="hljs-keyword">import</span> {StyleSheet} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { colors } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>

<span class="hljs-keyword">const</span> styles = StyleSheet.create({
  <span class="hljs-attr">container</span>:{
    <span class="hljs-attr">flex</span>:<span class="hljs-number">1</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>
  },
  <span class="hljs-attr">purpleBox</span>:{
    <span class="hljs-attr">backgroundColor</span>: colors.primary,
    <span class="hljs-attr">width</span>: <span class="hljs-number">150</span>,
    <span class="hljs-attr">height</span>:<span class="hljs-number">150</span>
  }
})
</div></code></pre>
<ul>
<li>El FadeOut es más de lo mismo!</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> fadeOut =<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
  Animated.timing(animatedOpacity,{
    <span class="hljs-attr">toValue</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">duration</span>: <span class="hljs-number">500</span>,
    <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span>
  }).start()
}
</div></code></pre>
<ul>
<li>Le paso la función al onPress</li>
<li>Ahora quiero que la caja caiga y rebote</li>
</ul>
<hr>
<h2 id="easing---bounce">Easing - Bounce</h2>
<ul>
<li>Para animarlo que caiga, le paso una referencia con valor -100 y en la animación lo llevo a 0 usando la propiedad transform</li>
<li>Uso un arreglo con un objeto dentro para indicarle la propiedad <strong>translateY</strong></li>
<li>Uso Easing para agregarle la propiedad elastic (hay varias). Con bounce rebota más</li>
<li>En fadeOut uso .resetAnimation para devolverle el estado inicial</li>
<li>La coloco en el callback para que lo haga cuando la animación terminó</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Animated, Easing, Pressable, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Animation101Screen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> animatedOpacity = useRef(<span class="hljs-keyword">new</span> Animated.Value(<span class="hljs-number">0</span>)).current

  <span class="hljs-keyword">const</span> animatedTop = useRef(<span class="hljs-keyword">new</span> Animated.Value(<span class="hljs-number">-100</span>)).current

  <span class="hljs-keyword">const</span> fadeIn = <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{

    Animated.timing(animatedTop, {
      <span class="hljs-attr">toValue</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">duration</span>: <span class="hljs-number">700</span>,
      <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-comment">//easing: Easing.elastic(1)</span>
      <span class="hljs-attr">easing</span>: Easing.bounce
    }).start()

    Animated.timing(animatedOpacity,{
      <span class="hljs-attr">toValue</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span>, <span class="hljs-comment">//ms</span>
      <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">//acelerado por hardware</span>
    }).start()
  }

  <span class="hljs-keyword">const</span> fadeOut =<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
    Animated.timing(animatedOpacity,{
      <span class="hljs-attr">toValue</span>: <span class="hljs-number">0</span>,
      <span class="hljs-attr">duration</span>: <span class="hljs-number">500</span>,
      <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span>
    }).start(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>animatedTop.resetAnimation())

    

  }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Animated.View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[</span>
          <span class="hljs-attr">styles.purpleBox</span>, {
            <span class="hljs-attr">opacity:</span> <span class="hljs-attr">animatedOpacity</span>,
            <span class="hljs-attr">transform:</span>[{
              <span class="hljs-attr">translateY:</span> <span class="hljs-attr">animatedTop</span>,
            }]
          }]} /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{fadeIn}</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginTop:10}}</span> &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>FadeIn<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{fadeOut}</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginTop:10}}</span> &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>FadeOut<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}



<span class="hljs-keyword">import</span> {StyleSheet} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { colors } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>

<span class="hljs-keyword">const</span> styles = StyleSheet.create({
  <span class="hljs-attr">container</span>:{
    <span class="hljs-attr">flex</span>:<span class="hljs-number">1</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>
  },
  <span class="hljs-attr">purpleBox</span>:{
    <span class="hljs-attr">backgroundColor</span>: colors.primary,
    <span class="hljs-attr">width</span>: <span class="hljs-number">150</span>,
    <span class="hljs-attr">height</span>:<span class="hljs-number">150</span>
  }
})
</div></code></pre>
<ul>
<li>Hay mucha lógica aquí, hay sobrecarga. Vamos a crear un hook para customizar las animaciones y quede más limpio</li>
</ul>
<hr>
<h2 id="customhook-useanimation">CustomHook useAnimation</h2>
<ul>
<li>En hooks/useAnimation.tsx</li>
<li>Empiezo por copiar todo el código relacionado con las animaciones al hook</li>
<li>Cambio el valor de animatedTop a 0 porque la cambiaré manualmente</li>
<li>Quedaría algo así</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Animated, Easing } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useAnimation = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

    <span class="hljs-keyword">const</span> animatedOpacity = useRef(<span class="hljs-keyword">new</span> Animated.Value(<span class="hljs-number">0</span>)).current

    <span class="hljs-keyword">const</span> animatedTop = useRef(<span class="hljs-keyword">new</span> Animated.Value(<span class="hljs-number">0</span>)).current
  
    <span class="hljs-keyword">const</span> fadeIn = <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
  
      Animated.timing(animatedTop, {
        <span class="hljs-attr">toValue</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">duration</span>: <span class="hljs-number">700</span>,
        <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-comment">//easing: Easing.elastic(1)</span>
        <span class="hljs-attr">easing</span>: Easing.bounce
      }).start()
  
      Animated.timing(animatedOpacity,{
        <span class="hljs-attr">toValue</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">duration</span>: <span class="hljs-number">300</span>, <span class="hljs-comment">//ms</span>
        <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span> <span class="hljs-comment">//acelerado por hardware</span>
      }).start()
    }
  
    <span class="hljs-keyword">const</span> fadeOut =<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
      Animated.timing(animatedOpacity,{
        <span class="hljs-attr">toValue</span>: <span class="hljs-number">0</span>,
        <span class="hljs-attr">duration</span>: <span class="hljs-number">500</span>,
        <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span>
      }).start(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>animatedTop.resetAnimation())
    }
    
    <span class="hljs-keyword">return</span> {
        fadeIn,
        fadeOut
    }   
}
</div></code></pre>
<ul>
<li>El fadeIn solo debería encargarse del fadeIn por lo que el animatedTop lo comento momentáneamente</li>
<li>Para hacer los valores reutilizables le indico a fadeIn que recibirá un objeto con la duración.
<ul>
<li>Le coloco un valor por defecto de 400</li>
<li>Hago lo mismo con toValue</li>
</ul>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Animated, Easing } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useAnimation = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

    <span class="hljs-keyword">const</span> animatedOpacity = useRef(<span class="hljs-keyword">new</span> Animated.Value(<span class="hljs-number">0</span>)).current

    <span class="hljs-keyword">const</span> animatedTop = useRef(<span class="hljs-keyword">new</span> Animated.Value(<span class="hljs-number">0</span>)).current
  
    <span class="hljs-keyword">const</span> fadeIn = <span class="hljs-function">(<span class="hljs-params">{duration= <span class="hljs-number">400</span>, toValue=<span class="hljs-number">1</span>, callback= (</span>)=&gt;</span>{}})=&gt;{
  
      <span class="hljs-comment">/*Animated.timing(animatedTop, {
        toValue: 0,
        duration: 700,
        useNativeDriver: true,
        //easing: Easing.elastic(1)
        easing: Easing.bounce
      }).start()*/</span>
  
      Animated.timing(animatedOpacity,{
        toValue,
        duration, 
        <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span> 
      }).start(callback)
    }
  
    <span class="hljs-keyword">const</span> fadeOut =<span class="hljs-function">(<span class="hljs-params">{toValue=<span class="hljs-number">0</span>, duration=<span class="hljs-number">400</span>, callback=(</span>)=&gt;</span>{}})=&gt;{
      Animated.timing(animatedOpacity,{
        toValue,
        duration,
        <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span>
      }).start(callback)
    }
    
    <span class="hljs-keyword">return</span> {
        animatedTop,
        animatedOpacity,
        fadeIn,
        fadeOut
    } 
}
</div></code></pre>
<ul>
<li>Desestructuro del hook las funciones y valores</li>
<li>Ahora en el onPress me pide que los llame con un callback y debo pasarle aunque sea un objeto vacío</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Animated, Pressable, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Animation101Screen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {


  <span class="hljs-keyword">const</span> {fadeIn, fadeOut, animatedTop, animatedOpacity}= useAnimation()


 

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Animated.View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[</span>
          <span class="hljs-attr">styles.purpleBox</span>, {
            <span class="hljs-attr">opacity:</span> <span class="hljs-attr">animatedOpacity</span>,
            <span class="hljs-attr">transform:</span>[{
              <span class="hljs-attr">translateY:</span> <span class="hljs-attr">animatedTop</span>,
            }]
          }]} /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>fadeIn({})} style={{marginTop:10}} &gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>FadeIn<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>fadeOut({})} style={{marginTop:10}} &gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>FadeOut<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Falta el movimiento</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> startMovingTopPosition =<span class="hljs-function">(<span class="hljs-params">{initialPosition= <span class="hljs-number">0</span>, toValue=<span class="hljs-number">0</span>, duration=<span class="hljs-number">700</span>, easing= Easing.linear, callback=(</span>)=&gt;</span>{}})=&gt;{
    animatedTop.setValue(initialPosition)
    Animated.timing(animatedTop, {
        toValue,
        duration,
        <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-comment">//easing: Easing.elastic(1)</span>
        easing
    }).start(callback)      
}
</div></code></pre>
<ul>
<li>Lo incluyo en el return del hook y lo desestructuro en Animation101Screen</li>
<li>Ahora debo hacer una combinación</li>
<li>En el cuerpo de la función del onPress (donde el fadeIn) pongo las dos animaciones (podría hacerlo en una función y pasarle la función)</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Animated, Easing, Pressable, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Animation101Screen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {


  <span class="hljs-keyword">const</span> {fadeIn, fadeOut, animatedTop, animatedOpacity, startMovingTopPosition}= useAnimation()


 

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span> &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Animated.View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[</span>
          <span class="hljs-attr">styles.purpleBox</span>, {
            <span class="hljs-attr">opacity:</span> <span class="hljs-attr">animatedOpacity</span>,
            <span class="hljs-attr">transform:</span>[{
              <span class="hljs-attr">translateY:</span> <span class="hljs-attr">animatedTop</span>,
            }]
          }]} /&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>{
          fadeIn({})
          startMovingTopPosition({initialPosition:-100, easing: Easing.bounce, duration:750})
        }} style={{marginTop:10}}&gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>FadeIn<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>fadeOut({})} style={{marginTop:10}} &gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>FadeOut<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="animated-valuexy">Animated ValueXY</h2>
<ul>
<li>Creo animations/Animation102Screen</li>
<li>Lo coloco en el StackNavigator</li>
<li>Uso la documentación oficial para recrear este botón arrastrable</li>
<li>La propiedad useNativeDriver hay que ponerla en false</li>
<li>Dice que necesita un segundo argumento, en Animated.event</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, {useRef} <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;
<span class="hljs-keyword">import</span> {Animated, PanResponder, StyleSheet, View} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;

<span class="hljs-keyword">const</span> DraggableView = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> pan = useRef(<span class="hljs-keyword">new</span> Animated.ValueXY()).current;

  <span class="hljs-keyword">const</span> panResponder = PanResponder.create({
    <span class="hljs-attr">onStartShouldSetPanResponder</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-literal">true</span>,
    <span class="hljs-attr">onPanResponderMove</span>: Animated.event([
      <span class="hljs-literal">null</span>,
      {
        <span class="hljs-attr">dx</span>: pan.x, <span class="hljs-comment">// x,y are Animated.Value</span>
        <span class="hljs-attr">dy</span>: pan.y,
      },
    ], {<span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">false</span>}),  <span class="hljs-comment">//aqui coloco el segundo argumento</span>
    <span class="hljs-attr">onPanResponderRelease</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
      Animated.spring(
        pan, <span class="hljs-comment">// Auto-multiplexed</span>
        {<span class="hljs-attr">toValue</span>: {<span class="hljs-attr">x</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">y</span>: <span class="hljs-number">0</span>}, <span class="hljs-attr">useNativeDriver</span>: <span class="hljs-literal">false</span>}, <span class="hljs-comment">// Back to zero</span>
      ).start();
    },
  });

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.container}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Animated.View</span>
        {<span class="hljs-attr">...panResponder.panHandlers</span>}
        <span class="hljs-attr">style</span>=<span class="hljs-string">{[pan.getLayout(),</span> <span class="hljs-attr">styles.box</span>]}
      /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  );
};

<span class="hljs-keyword">const</span> styles = StyleSheet.create({
  <span class="hljs-attr">container</span>: {
    <span class="hljs-attr">flex</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'center'</span>,
    <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,
  },
  <span class="hljs-attr">box</span>: {
    <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">'#61dafb'</span>,
    <span class="hljs-attr">width</span>: <span class="hljs-number">80</span>,
    <span class="hljs-attr">height</span>: <span class="hljs-number">80</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">4</span>,
  },
});

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> DraggableView;
</div></code></pre>
<ul>
<li>Lo coloco en Animation102Screen. Le añado unos estilos al View para que me quede en el centro</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> DraggableView <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/Draggable'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Animation102Screen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{flex:</span> <span class="hljs-attr">1</span>, <span class="hljs-attr">justifyContent:</span> '<span class="hljs-attr">center</span>'}} &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">DraggableView</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="componentes-personalizados">Componentes Personalizados</h2>
<ul>
<li>Creo switches/SwitchesScreen.tsx, lo coloco en el StackNavigator</li>
<li>Creo components/ui/CustomView.tsx</li>
<li>En el styles del View coloco un arreglo dentro del objeto</li>
<li><strong>NOTA</strong>: para hacer la interfaz y saber el tipo de style, puedo escribirla (backgroundColor: 'black') y colocar el cursor encima</li>
<li>Como le voy a colocar elementos dentro debo definir el children en las Props</li>
<li>Uso el CustomView en la pantalla de switchesScreen</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { ReactNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { StyleProp, Text, View, ViewStyle } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>

interface Props{
    style?: StyleProp&lt;ViewStyle&gt;
    children?: ReactNode 
}


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> CustomView = <span class="hljs-function">(<span class="hljs-params">{style, children}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[globalStyles.mainContainer,</span> <span class="hljs-attr">style</span>]} &gt;</span>
      {children}
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Puedo heredar de la inetrfaz PropsWithChildren cuando voy a colocar children</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { PropsWithChildren, ReactNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { ImageBackgroundComponent, StyleProp, Text, View, ViewStyle } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { colors } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>

interface Props extends PropsWithChildren{
    style?: StyleProp&lt;ViewStyle&gt;   
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Card  = <span class="hljs-function">(<span class="hljs-params">{style, children}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[</span>
      {<span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">colors.cardBackground</span>,
      <span class="hljs-attr">borderRadius:</span> <span class="hljs-attr">10</span>,
    <span class="hljs-attr">padding:</span> <span class="hljs-attr">10</span>},
    <span class="hljs-attr">style</span>
    ]}&gt;</span>
      {children}
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>La coloco en SwitchScreen</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { CustomView } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/CustomView'</span>
<span class="hljs-keyword">import</span> { Card } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Card'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> SwitchScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CustomView</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginTop:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">paddingHorizontal:</span> <span class="hljs-attr">10</span>}} &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Component<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">CustomView</span>&gt;</span></span>
    
  )
}
</div></code></pre>
<ul>
<li>Creo un Button customizable también</li>
<li>En el style del Pressable utilizo una función para saber cuando está presionado.
<ul>
<li>Abro paréntesis para hacer implícito el return, y llaves cuadradas</li>
</ul>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Pressable, StyleProp, Text, View, ViewStyle } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { colors, globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>

interface Props{
    <span class="hljs-attr">text</span>: string
    styles?: StyleProp&lt;ViewStyle&gt;
    onPress: <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-keyword">void</span>
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Button = <span class="hljs-function">(<span class="hljs-params">{text, styles, onPress}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span>
        <span class="hljs-attr">onPress</span>=<span class="hljs-string">{onPress}</span>
        <span class="hljs-attr">style</span>=<span class="hljs-string">{(pressed)</span>=&gt;</span>([
            globalStyles.btnPrimary,
            {
                opacity: pressed? 0.8 : 1,
                backgroundColor: colors.primary
            },
            styles
        ])}
    &gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[</span>
            <span class="hljs-attr">globalStyles.btnPrimaryText</span>,
            {
                <span class="hljs-attr">color:</span> <span class="hljs-attr">colors.buttonTextColor</span>
            }
        ]} &gt;</span>
          {text}
        <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Lo coloco en SwitchScreen</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { CustomView } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/CustomView'</span>
<span class="hljs-keyword">import</span> { Card } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Card'</span>
<span class="hljs-keyword">import</span> { Button } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Button'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> SwitchScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CustomView</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginTop:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">paddingHorizontal:</span> <span class="hljs-attr">10</span>}} &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Component<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Click me!"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>{}} /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">CustomView</span>&gt;</span></span>
    
  )
}
</div></code></pre>
<ul>
<li>Ahora que todo funciona, dejo el CustomView vacío en el SwitchScreen</li>
</ul>
<hr>
<h2 id="componente-switch">Componente Switch</h2>
<ul>
<li>Copio el código de la documentación, con los states incluidos</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Switch, Text} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { CustomView } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/CustomView'</span>
<span class="hljs-keyword">import</span> { Card } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Card'</span>


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> SwitchScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> [isEnabled, setIsEnabled] = useState(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> toggleSwitch = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> setIsEnabled(<span class="hljs-function"><span class="hljs-params">previousState</span> =&gt;</span> !previousState)
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CustomView</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginTop:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">paddingHorizontal:</span> <span class="hljs-attr">10</span>}} &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Switch</span>
        <span class="hljs-attr">trackColor</span>=<span class="hljs-string">{{false:</span> '#<span class="hljs-attr">767577</span>', <span class="hljs-attr">true:</span> '#<span class="hljs-attr">81b0ff</span>'}}
        <span class="hljs-attr">thumbColor</span>=<span class="hljs-string">{isEnabled</span> ? '#<span class="hljs-attr">f5dd4b</span>' <span class="hljs-attr">:</span> '#<span class="hljs-attr">f4f3f4</span>'}
        <span class="hljs-attr">ios_backgroundColor</span>=<span class="hljs-string">"#3e3e3e"</span>
        <span class="hljs-attr">onValueChange</span>=<span class="hljs-string">{toggleSwitch}</span>
        <span class="hljs-attr">value</span>=<span class="hljs-string">{isEnabled}</span>
      /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">CustomView</span>&gt;</span></span>   
  )
}
</div></code></pre>
<ul>
<li>En ios aparece a la izquierda, no como en Android</li>
<li>Luego lo arreglaremos</li>
<li>Este switch no está aplicando el tema de material 3. Después usaremos un componente especializado.</li>
<li>Creo un custom switch</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Switch } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-gesture-handler'</span>
<span class="hljs-keyword">import</span> { Platform, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>

interface Props{
    <span class="hljs-attr">isOn</span>: boolean
    text?: string
    <span class="hljs-attr">onChange</span>: <span class="hljs-function">(<span class="hljs-params">value: boolean</span>) =&gt;</span> <span class="hljs-keyword">void</span>
}


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> CustomSwitch = <span class="hljs-function">(<span class="hljs-params">{isOn, text, onChange}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.switchRow}</span>&gt;</span>
        {
            text &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{color:</span> <span class="hljs-attr">colors.text</span>}}&gt;</span>{text}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        }
      
        <span class="hljs-tag">&lt;<span class="hljs-name">Switch</span>
            <span class="hljs-attr">thumbColor</span>=<span class="hljs-string">{Platform.OS</span> === <span class="hljs-string">'android'</span>? <span class="hljs-attr">colors.primary:</span> ""}
            <span class="hljs-attr">ios_backgroundColor</span>=<span class="hljs-string">"#3e3e3e"</span>
            <span class="hljs-attr">onValueChange</span>=<span class="hljs-string">{onChange}</span>
            <span class="hljs-attr">value</span>=<span class="hljs-string">{isOn}</span>
            /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}


<span class="hljs-keyword">import</span> {StyleSheet} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { colors } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>

<span class="hljs-keyword">const</span> styles = StyleSheet.create({
    <span class="hljs-attr">switchRow</span>: {
        <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">'row'</span>,
        <span class="hljs-attr">justifyContent</span>: <span class="hljs-string">'space-between'</span>,
        <span class="hljs-attr">alignItems</span>: <span class="hljs-string">'center'</span>,
        <span class="hljs-attr">marginVertical</span>: <span class="hljs-number">5</span>
    }
})
</div></code></pre>
<ul>
<li>Lo renderizo en SwitchScreen pasándole las props</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Switch, Text} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { CustomView } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/CustomView'</span>
<span class="hljs-keyword">import</span> { Card } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Card'</span>
<span class="hljs-keyword">import</span> { CustomSwitch } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Switch'</span>


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> SwitchScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">const</span> [isEnabled, setIsEnabled] = useState(<span class="hljs-literal">false</span>);
  <span class="hljs-keyword">const</span> toggleSwitch = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> setIsEnabled(<span class="hljs-function"><span class="hljs-params">previousState</span> =&gt;</span> !previousState)
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CustomView</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginTop:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">paddingHorizontal:</span> <span class="hljs-attr">10</span>}} &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">CustomSwitch</span> <span class="hljs-attr">isOn</span>=<span class="hljs-string">{isEnabled}</span> <span class="hljs-attr">onChange</span>=<span class="hljs-string">{toggleSwitch}</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Encendido"</span> /&gt;</span>
 
        <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">CustomView</span>&gt;</span></span>
    
  )
}
</div></code></pre>
<ul>
<li>Podemos implementar que en cualquier lado donde presione de la area de la card active el toggle</li>
<li>O que si no viene el texto los elementos estén al final</li>
<li>Hago una refactorización en SwitchScreen</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Switch, Text} <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { CustomView } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/CustomView'</span>
<span class="hljs-keyword">import</span> { Card } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Card'</span>
<span class="hljs-keyword">import</span> { CustomSwitch } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Switch'</span>


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> SwitchScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

   <span class="hljs-keyword">const</span> [state, setState]= useState({
    <span class="hljs-attr">isActive</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">isHungry</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">isHappy</span>: <span class="hljs-literal">true</span>
   })


  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CustomView</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginTop:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">paddingHorizontal:</span> <span class="hljs-attr">10</span>}} &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">CustomSwitch</span> <span class="hljs-attr">isOn</span>=<span class="hljs-string">{state.isActive}</span> 
          <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(value)</span>=&gt;</span> setState({...state, isActive: value})} 
          text="Active" /&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">CustomSwitch</span> <span class="hljs-attr">isOn</span>=<span class="hljs-string">{state.isHungry}</span> 
          <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(value)</span>=&gt;</span> setState({...state, isHungry: value})} 
          text="Humgry" /&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">CustomSwitch</span> <span class="hljs-attr">isOn</span>=<span class="hljs-string">{state.isHappy}</span> 
          <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(value)</span>=&gt;</span> setState({...state, isHappy: value})} 
          text="Happy" /&gt;
 
        <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">CustomView</span>&gt;</span></span>   
  )
}
</div></code></pre>
<hr>
<h2 id="componente-separador">Componente Separador</h2>
<ul>
<li>Creo components/ui/Separator.tsx</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { StyleProp, Text, View, ViewStyle } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { colors, globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>

interface Props{
    style?: StyleProp&lt;ViewStyle&gt;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Separator = <span class="hljs-function">(<span class="hljs-params">{style}: Props</span>) =&gt;</span> {

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[</span>
        {
            <span class="hljs-attr">alignSelf:</span> '<span class="hljs-attr">center</span>',
            <span class="hljs-attr">width:</span> '<span class="hljs-attr">80</span>%',
            <span class="hljs-attr">height:</span> <span class="hljs-attr">1</span>,
            <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">colors.text</span>,
            <span class="hljs-attr">opacity:</span> <span class="hljs-attr">0.1</span>,
            <span class="hljs-attr">marginVertical:</span> <span class="hljs-attr">8</span>
        },
        <span class="hljs-attr">style</span>
    ]}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>Separator<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Coloco uno entre cada switch</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CustomView</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginTop:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">paddingHorizontal:</span> <span class="hljs-attr">10</span>}} &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">CustomSwitch</span> <span class="hljs-attr">isOn</span>=<span class="hljs-string">{state.isActive}</span> 
          <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(value)</span>=&gt;</span> setState({...state, isActive: value})} 
          text="Active" /&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">Separator</span> /&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">CustomSwitch</span> <span class="hljs-attr">isOn</span>=<span class="hljs-string">{state.isHungry}</span> 
          <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(value)</span>=&gt;</span> setState({...state, isHungry: value})} 
          text="Humgry" /&gt;
          <span class="hljs-tag">&lt;<span class="hljs-name">Separator</span> /&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">CustomSwitch</span> <span class="hljs-attr">isOn</span>=<span class="hljs-string">{state.isHappy}</span> 
          <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(value)</span>=&gt;</span> setState({...state, isHappy: value})} 
          text="Happy" /&gt;
        <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">CustomView</span>&gt;</span></span> 
  )
</div></code></pre>
<ul>
<li>Coloquémonos enmedio de los items en HomeScreen</li>
<li>En MenuItem coloco el return en un Fragment para colocar el Separator después del Pressable</li>
<li>Pregunto si es el último para no colocarlo después</li>
</ul>
<pre class="hljs"><code><div>    &lt;&gt;
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Pressable</span>
        <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>navigation.navigate(component)}
        &gt;
            <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
                <span class="hljs-attr">...styles.container</span>,
                <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">colors.cardBackground</span>,
                <span class="hljs-attr">...</span>(<span class="hljs-attr">isFirst</span> &amp;&amp; {<span class="hljs-attr">borderTopLeftRadius:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">borderTopRightRadius:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">paddingTop:</span> <span class="hljs-attr">10</span>}),
                <span class="hljs-attr">...</span>(<span class="hljs-attr">isLast</span> &amp;&amp; {<span class="hljs-attr">borderBottomLeftRadius:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">borderBottomRightRadius:</span> <span class="hljs-attr">10</span>, <span class="hljs-attr">paddingTop:</span> <span class="hljs-attr">10</span>})
            }}&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">{icon}</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{25}</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginRight:10,</span> <span class="hljs-attr">color:</span> <span class="hljs-attr">colors.primary</span>}} /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{color:</span> <span class="hljs-attr">colors.text</span>}}&gt;</span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Icon</span> <span class="hljs-attr">name</span>=<span class="hljs-string">'chevron-forward-outline'</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{25}</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginLeft:</span> '<span class="hljs-attr">auto</span>'}} <span class="hljs-attr">color</span>=<span class="hljs-string">{colors.primary}/</span>&gt;</span>

            <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Pressable</span>&gt;</span></span>
            
            {!isLast &amp;&amp; <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Separator</span> /&gt;</span></span>}
    &lt;<span class="hljs-regexp">/&gt;
</span></div></code></pre>
<ul>
<li>de esta manera no queda muy bien la presentación en el Home, refactorizo el separador, meto el view en otro view y le añado el backgroundColor de la card</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { StyleProp, Text, View, ViewStyle } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { colors, globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>

interface Props{
    style?: StyleProp&lt;ViewStyle&gt;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Separator = <span class="hljs-function">(<span class="hljs-params">{style}: Props</span>) =&gt;</span> {

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{backgroundColor:</span> <span class="hljs-attr">colors.cardBackground</span>}} &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[</span>
            {
                <span class="hljs-attr">alignSelf:</span> '<span class="hljs-attr">center</span>',
                <span class="hljs-attr">width:</span> '<span class="hljs-attr">80</span>%',
                <span class="hljs-attr">height:</span> <span class="hljs-attr">1</span>,
                <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">colors.text</span>,
                <span class="hljs-attr">opacity:</span> <span class="hljs-attr">0.1</span>,
                <span class="hljs-attr">marginVertical:</span> <span class="hljs-attr">8</span>
            },
            <span class="hljs-attr">style</span>
        ]}&gt;</span>
  
        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="component-alert">Component Alert</h2>
<ul>
<li>Creo AlertScreen y lo coloco en el StackNavigator con ese nombre, igual que en el arreglo de MenuItems</li>
<li>Copio la documentación dentro de mi CustomView</li>
<li>Creo el cascarón con los botones (mi CustomButton)</li>
<li>Coloco un View con un high para poner distancia entre ellos</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { CustomView } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/CustomView'</span>
<span class="hljs-keyword">import</span> { Title } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Title'</span>
<span class="hljs-keyword">import</span> { globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>
<span class="hljs-keyword">import</span> { Button } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Button'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> AlertScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CustomView</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.globalMargin}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">safe</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Alertas"</span> /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Alerta - 2 botones"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>{}} /&gt;

      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">10</span>}} /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Alerta - 3 botones"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>{}} /&gt;
      
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">10</span>}} /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Prompt - Input"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>{}} /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">CustomView</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Copio las funciones de la documentación y las coloco en el cuerpo del Functional Component</li>
<li>Las uso en el onPress</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Alert, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { CustomView } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/CustomView'</span>
<span class="hljs-keyword">import</span> { Title } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Title'</span>
<span class="hljs-keyword">import</span> { globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>
<span class="hljs-keyword">import</span> { Button } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Button'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> AlertScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> createTwoButtonAlert = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span>
    Alert.alert(<span class="hljs-string">'Alert Title'</span>, <span class="hljs-string">'My Alert Msg'</span>, [
      {
        <span class="hljs-attr">text</span>: <span class="hljs-string">'Cancel'</span>,
        <span class="hljs-attr">onPress</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Cancel Pressed'</span>),
        <span class="hljs-attr">style</span>: <span class="hljs-string">'cancel'</span>,
      },
      {<span class="hljs-attr">text</span>: <span class="hljs-string">'OK'</span>, <span class="hljs-attr">onPress</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'OK Pressed'</span>)},
    ]);

  <span class="hljs-keyword">const</span> createThreeButtonAlert = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span>
    Alert.alert(<span class="hljs-string">'Alert Title'</span>, <span class="hljs-string">'My Alert Msg'</span>, [
      {
        <span class="hljs-attr">text</span>: <span class="hljs-string">'Ask me later'</span>,
        <span class="hljs-attr">onPress</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Ask me later pressed'</span>),
      },
      {
        <span class="hljs-attr">text</span>: <span class="hljs-string">'Cancel'</span>,
        <span class="hljs-attr">onPress</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Cancel Pressed'</span>),
        <span class="hljs-attr">style</span>: <span class="hljs-string">'cancel'</span>,
      },
      {<span class="hljs-attr">text</span>: <span class="hljs-string">'OK'</span>, <span class="hljs-attr">onPress</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'OK Pressed'</span>)},
    ]);

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CustomView</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.globalMargin}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">safe</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Alertas"</span> /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Alerta - 2 botones"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{createTwoButtonAlert}</span> /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">10</span>}} /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Alerta - 3 botones"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{createThreeButtonAlert}</span> /&gt;</span>
      
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">10</span>}} /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Prompt - Input"</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{()</span>=&gt;</span>{}} /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">CustomView</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Las alertas se ven en plan Material 2</li>
<li>No hay mucha personalización estética</li>
<li>En el onPress de la Alert puedo disparar una acción</li>
<li>Algunas de las opciones de configuración que colocaría en un segundo objeto funcionan en android y no en ios y al revés</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> createTwoButtonAlert = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span>
Alert.alert(<span class="hljs-string">'Alert Title'</span>, <span class="hljs-string">'My Alert Msg'</span>, [
  {
    <span class="hljs-attr">text</span>: <span class="hljs-string">'Cancel'</span>,
    <span class="hljs-attr">onPress</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Cancel Pressed'</span>),
    <span class="hljs-attr">style</span>: <span class="hljs-string">'cancel'</span>,
  },
  {<span class="hljs-attr">text</span>: <span class="hljs-string">'OK'</span>, <span class="hljs-attr">onPress</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'OK Pressed'</span>)},
  
],
{<span class="hljs-attr">cancelable</span>: <span class="hljs-literal">true</span>,
onDismiss(){
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'onDismiss'</span>)
}}
);
</div></code></pre>
<hr>
<h2 id="component-alert-prompt">Component Alert Prompt</h2>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> showPrompt = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span>{
    Alert.prompt(<span class="hljs-string">'¿Cual es tu correo electrónico?'</span>,<span class="hljs-string">'Texto blablablabla'</span>,
    (value: string)=&gt; <span class="hljs-built_in">console</span>.log({value})
    )
}
</div></code></pre>
<ul>
<li>Uso el showPrompt en el onPress</li>
<li>En Android no funciona (en ios si)</li>
<li>En ios puedo hacer que el input aparezca encriptado, añadirle un valor por defecto, y que saque el teclado numérico de esta manera</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> showPrompt = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span>{
    Alert.prompt(
        <span class="hljs-string">'¿Cual es tu correo electrónico?'</span>,
        <span class="hljs-string">'Texto blablablabla'</span>,
        (value: string)=&gt; <span class="hljs-built_in">console</span>.log({value}),
        <span class="hljs-string">'secure-text'</span>,
        <span class="hljs-string">'Soy el valor por defecto'</span>,
        <span class="hljs-string">'number-pad'</span>
    )
}
</div></code></pre>
<hr>
<h2 id="prompt-ios-y-android">Prompt ios y Android</h2>
<ul>
<li>Instalo el paquete (no es el paquete más actualizado del mundo)</li>
</ul>
<blockquote>
<p>react-native-prompt-android</p>
</blockquote>
<ul>
<li>Ya no hace falta hacer el link manual</li>
<li>Copio el ejemplo de la documentación</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> prompt <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-prompt-android'</span>;

    <span class="hljs-keyword">const</span> showPrompt = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span>{
      prompt(
        <span class="hljs-string">'Enter password'</span>,
        <span class="hljs-string">'Enter your password to claim your $1.5B in lottery winnings'</span>,
        [
         {<span class="hljs-attr">text</span>: <span class="hljs-string">'Cancel'</span>, <span class="hljs-attr">onPress</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Cancel Pressed'</span>), <span class="hljs-attr">style</span>: <span class="hljs-string">'cancel'</span>},
         {<span class="hljs-attr">text</span>: <span class="hljs-string">'OK'</span>, <span class="hljs-attr">onPress</span>: <span class="hljs-function"><span class="hljs-params">password</span> =&gt;</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'OK Pressed, password: '</span> + password)},
        ],
        {
            <span class="hljs-attr">type</span>: <span class="hljs-string">'secure-text'</span>,
            <span class="hljs-attr">cancelable</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">defaultValue</span>: <span class="hljs-string">'test'</span>,
            <span class="hljs-attr">placeholder</span>: <span class="hljs-string">'placeholder'</span>
        }
    ); 
   }
</div></code></pre>
<ul>
<li>Con paquetes de terceros debo usar el patrón adaptador</li>
<li>En config/adapters/prompt.adapter.ts</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> prompt <span class="hljs-keyword">from</span> <span class="hljs-string">"react-native-prompt-android"</span>;


interface Options{
    <span class="hljs-attr">title</span>: string
    subTitle?: string
    <span class="hljs-attr">buttons</span>: PromptButton[]
    promptType?: <span class="hljs-string">'default'</span> | <span class="hljs-string">'plain-text'</span> | <span class="hljs-string">'secure-text'</span>
    placeholder?: string
    defaultValue?: string
}

interface PromptButton{
    <span class="hljs-attr">text</span>: string
    <span class="hljs-attr">onPress</span>: <span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span> <span class="hljs-keyword">void</span>
    style?: <span class="hljs-string">"cancel"</span> | <span class="hljs-string">"default"</span> | <span class="hljs-string">"destructive"</span>
}

<span class="hljs-keyword">export</span>  <span class="hljs-keyword">const</span> showPrompt = <span class="hljs-function">(<span class="hljs-params">{title, subTitle, buttons, promptType, placeholder, defaultValue}:Options</span>) =&gt;</span>{
    prompt(
      title,
      subTitle,
      buttons,
      
      {
          <span class="hljs-attr">type</span>: promptType= <span class="hljs-string">'plain-text'</span>, <span class="hljs-comment">//plain-text por defecto para que se muestre también en ios</span>
          <span class="hljs-attr">cancelable</span>: <span class="hljs-literal">false</span>,
          defaultValue,
          placeholder
      }
  ); 
 }
</div></code></pre>
<ul>
<li>Cambio el nombre del método que tenía por onShowPrompt</li>
<li>En AlertScreen</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> onShowPrompt = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span>{
  showPrompt({<span class="hljs-attr">title</span>:<span class="hljs-string">"Titulo"</span>, 
  <span class="hljs-attr">subTitle</span>:<span class="hljs-string">"Subtitulo"</span>,
  <span class="hljs-attr">buttons</span>: [
    {<span class="hljs-attr">text</span>: <span class="hljs-string">'OK'</span>, <span class="hljs-attr">onPress</span>:<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-built_in">console</span>.log(<span class="hljs-string">'button OK'</span>)},
    {<span class="hljs-attr">text</span>: <span class="hljs-string">'Cancel'</span>, <span class="hljs-attr">onPress</span>:<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span><span class="hljs-built_in">console</span>.log(<span class="hljs-string">'button Cancel'</span>)}
  ],
  <span class="hljs-attr">placeholder</span>: <span class="hljs-string">'PlaceHolder'</span>
  })
}
</div></code></pre>
<ul>
<li>De esta manera solo hay que cambiar la implementación y no todas las pantallas donde se consuma el prompt</li>
<li></li>
</ul>
<hr>
<h2 id="componente-textinput">Componente TextInput</h2>
<ul>
<li>Creo screens/inputs/textInputScreen. Lo coloco en el StackNavigator</li>
<li>Como todo el rato estoy colocando el globalStyles.marginCntainer en el CustomView lo añado como una prop al componente</li>
<li>Si el margin está en true añada el estilo</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { ReactNode } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { StyleProp, Text, View, ViewStyle } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>

interface Props{
    style?: StyleProp&lt;ViewStyle&gt;
    children?: ReactNode 
    margin?: boolean
}


<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> CustomView = <span class="hljs-function">(<span class="hljs-params">{margin = <span class="hljs-literal">false</span>, style, children}: Props</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{[</span>
      <span class="hljs-attr">margin</span> ? <span class="hljs-attr">globalStyles.mainContainer:</span> <span class="hljs-attr">null</span>, 
      <span class="hljs-attr">style</span>]} &gt;</span>
      {children}
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Al poner el TextInput dentro de mi custom Card hace que se vea bonito</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, TextInput, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { CustomView } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/CustomView'</span>
<span class="hljs-keyword">import</span> { Title } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Title'</span>
<span class="hljs-keyword">import</span> { Card } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Card'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> TextInputScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CustomView</span> <span class="hljs-attr">margin</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"text Inputs"</span> <span class="hljs-attr">safe</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span>/&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">CustomView</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Defino un estilo de CSS desde el theme global</li>
<li>El color del texto al cambiarlo de manera dinámica me dará un inconveniente más adelante. Lo solucionaremos</li>
</ul>
<pre class="hljs"><code><div>  input:{
    <span class="hljs-attr">height</span>: <span class="hljs-number">40</span>,
    <span class="hljs-attr">margin</span>: <span class="hljs-number">12</span>,
    <span class="hljs-attr">borderWidth</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">padding</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">borderColor</span>: <span class="hljs-string">'rgba(0,0,0,0.3)'</span>,
    <span class="hljs-attr">borderRadius</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">color</span>: colors.text
  }
</div></code></pre>
<ul>
<li>Hay varias properties en TextInput
<ul>
<li>autoCapitalize no es un valor booleano, indico si quiero capitalizar por palabras, sentencias...</li>
</ul>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, TextInput, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { CustomView } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/CustomView'</span>
<span class="hljs-keyword">import</span> { Title } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Title'</span>
<span class="hljs-keyword">import</span> { Card } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Card'</span>
<span class="hljs-keyword">import</span> { globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> TextInputScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

    <span class="hljs-keyword">const</span> [form, setForm] = useState({
        <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">email</span>:<span class="hljs-string">''</span>,
        <span class="hljs-attr">phone</span>: <span class="hljs-string">''</span>
    })

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CustomView</span> <span class="hljs-attr">margin</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Text Input"</span> <span class="hljs-attr">safe</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.input}</span> 
            <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Nombre completo"</span>
            <span class="hljs-attr">autoCapitalize</span>=<span class="hljs-string">'words'</span>
            <span class="hljs-attr">autoCorrect</span>=<span class="hljs-string">{false}</span>
            <span class="hljs-attr">onChangeText</span>=<span class="hljs-string">{value</span>=&gt;</span>setForm({...form, name: value})}
        /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">10</span>}} /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.input}</span> 
            <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Email"</span>
            <span class="hljs-attr">autoCapitalize</span>=<span class="hljs-string">'words'</span>
            <span class="hljs-attr">autoCorrect</span>=<span class="hljs-string">{false}</span>
            <span class="hljs-attr">onChangeText</span>=<span class="hljs-string">{value</span>=&gt;</span>setForm({...form, email: value})}
        /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">10</span>}} /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.input}</span> 
            <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Teléfono"</span>
            <span class="hljs-attr">autoCapitalize</span>=<span class="hljs-string">'words'</span>
            <span class="hljs-attr">keyboardType</span>=<span class="hljs-string">'phone-pad'</span>
            <span class="hljs-attr">autoCorrect</span>=<span class="hljs-string">{false}</span>
            <span class="hljs-attr">onChangeText</span>=<span class="hljs-string">{value</span>=&gt;</span>setForm({...form, phone: value})}
        /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">10</span>}} /&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>{JSON.stringify(form, null, 2)}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">CustomView</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Ahora hay un problema y es que si tuviera varios objetos que leer en pantalla, no podría hacer scroll</li>
<li>Meto todo el contenido dentro de un ScrollView</li>
</ul>
<hr>
<h2 id="scroll-y-teclado">Scroll y teclado</h2>
<ul>
<li>Si coloco un TextInput al final, al aparecer el teclado en Android si lo desplaza hacia arriba pero en ios no</li>
<li>En ios es necesario envolver el componente dentro de un KeyboradAvoidingView~para que el teclado en pantalla no de problemas</li>
<li>También es recomendable poner un View con un margin de gracia al final</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { KeyboardAvoidingView, Platform, ScrollView, Text, TextInput, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { CustomView } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/CustomView'</span>
<span class="hljs-keyword">import</span> { Title } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Title'</span>
<span class="hljs-keyword">import</span> { Card } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Card'</span>
<span class="hljs-keyword">import</span> { globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> TextInputScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

    <span class="hljs-keyword">const</span> [form, setForm] = useState({
        <span class="hljs-attr">name</span>: <span class="hljs-string">''</span>,
        <span class="hljs-attr">email</span>:<span class="hljs-string">''</span>,
        <span class="hljs-attr">phone</span>: <span class="hljs-string">''</span>
    })

  <span class="hljs-keyword">return</span> (

    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">KeyboardAvoidingView</span> <span class="hljs-attr">behavior</span>=<span class="hljs-string">{Platform.OS</span> === <span class="hljs-string">'ios'</span>? '<span class="hljs-attr">padding</span>'<span class="hljs-attr">:</span> <span class="hljs-attr">undefined</span>}&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">CustomView</span> <span class="hljs-attr">margin</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Text Input"</span> <span class="hljs-attr">safe</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.input}</span> 
            <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Nombre completo"</span>
            <span class="hljs-attr">autoCapitalize</span>=<span class="hljs-string">'words'</span>
            <span class="hljs-attr">autoCorrect</span>=<span class="hljs-string">{false}</span>
            <span class="hljs-attr">onChangeText</span>=<span class="hljs-string">{value</span>=&gt;</span>setForm({...form, name: value})}
        /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">10</span>}} /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.input}</span> 
            <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Email"</span>
            <span class="hljs-attr">autoCapitalize</span>=<span class="hljs-string">'words'</span>
            <span class="hljs-attr">autoCorrect</span>=<span class="hljs-string">{false}</span>
            <span class="hljs-attr">onChangeText</span>=<span class="hljs-string">{value</span>=&gt;</span>setForm({...form, email: value})}
        /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">10</span>}} /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextInput</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{globalStyles.input}</span> 
            <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Teléfono"</span>
            <span class="hljs-attr">autoCapitalize</span>=<span class="hljs-string">'words'</span>
            <span class="hljs-attr">keyboardType</span>=<span class="hljs-string">'phone-pad'</span>
            <span class="hljs-attr">autoCorrect</span>=<span class="hljs-string">{false}</span>
            <span class="hljs-attr">onChangeText</span>=<span class="hljs-string">{value</span>=&gt;</span>setForm({...form, phone: value})}
        /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">10</span>}} /&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span>&gt;</span>{JSON.stringify(form, null, 2)}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">20</span>}} /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">CustomView</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">KeyboardAvoidingView</span>&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="pull-to-refresh">Pull To Refresh</h2>
<ul>
<li>Creo screens/ui/PullToRefreshScreen. Lo coloco en el StackNavigator</li>
<li>RefreshControl pide ciertas properties obligatorias</li>
<li>Con el refreshing en true, en ios el notch cubre el spinning</li>
<li>Para arreglarlo uso el safeAreaInsets y extraigo el top, lo coloco en progressViewOffset</li>
<li>Cambio el true en duro por un state</li>
<li>En onRefresh llamo a la función que he creado</li>
<li>Le puedo pasar un arreglo de colores en hexadecimal</li>
<li>Para que se vea bien en ios le paso el globalStyles al ScrollView</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { RefreshControl, ScrollView, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { Title } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Title'</span>
<span class="hljs-keyword">import</span> { CustomView } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/CustomView'</span>
<span class="hljs-keyword">import</span> { useSafeAreaInsets } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-safe-area-context'</span>
<span class="hljs-keyword">import</span> { colors, globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> PullToRefreshScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

    <span class="hljs-keyword">const</span> [isRefreshing, setIsRefreshing] = useState(<span class="hljs-literal">false</span>)

    <span class="hljs-keyword">const</span> {top} = useSafeAreaInsets()
    
    <span class="hljs-keyword">const</span> onRefresh =<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
        setIsRefreshing(<span class="hljs-literal">true</span>)

        setTimeout(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
            setIsRefreshing(<span class="hljs-literal">false</span>)
        }, <span class="hljs-number">2000</span>)
    }

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ScrollView</span> <span class="hljs-attr">refreshControl</span>=<span class="hljs-string">{</span>
    &lt;<span class="hljs-attr">RefreshControl</span> 
        <span class="hljs-attr">refreshing</span>=<span class="hljs-string">{isRefreshing}</span>
        <span class="hljs-attr">progressViewOffset</span>=<span class="hljs-string">{top}</span>
        <span class="hljs-attr">onRefresh</span>=<span class="hljs-string">{onRefresh}</span> 
        <span class="hljs-attr">colors</span>=<span class="hljs-string">{[colors.primary,</span> '<span class="hljs-attr">red</span>', '<span class="hljs-attr">orange</span>', '<span class="hljs-attr">green</span>']} /&gt;</span>} 
        style={[globalStyles.mainContainer, globalStyles.globalMargin]}
        &gt;
        <span class="hljs-tag">&lt;<span class="hljs-name">CustomView</span> <span class="hljs-attr">margin</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Pull To Refresh"</span> <span class="hljs-attr">safe</span>  /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">CustomView</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">ScrollView</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Ahora si tiro de la pantalla aparece un spinning</li>
<li>Podríamos crear un CustomScrollView para que quedara esta configuración siempre y no estar colocando esto una y otra vez</li>
</ul>
<hr>
<h2 id="componente---sectionlist">Componente - SectionList</h2>
<ul>
<li>Copio la data del Gist para mostrar en el SectionList</li>
</ul>
<blockquote>
<p>https://gist.githubusercontent.com/Klerith/62fc1759bbb686446caf22a04956d47e/raw/fdb7dc53c1385a5eeaf92ce2a7c53ddd1ba3c27a/characters.ts</p>
</blockquote>
<pre class="hljs"><code><div>interface Houses {
  <span class="hljs-attr">title</span>: string;
  data: string[];
}

<span class="hljs-keyword">const</span> houses: Houses[] = [
  {
    <span class="hljs-attr">title</span>: <span class="hljs-string">'DC Comics'</span>,
    <span class="hljs-attr">data</span>: [
      <span class="hljs-string">'Superman'</span>,
      <span class="hljs-string">'Batman'</span>,
      <span class="hljs-string">'Wonder Woman (Mujer Maravilla)'</span>,
      <span class="hljs-string">'The Flash (Flash)'</span>,
      <span class="hljs-string">'Aquaman'</span>,
      <span class="hljs-string">'Green Lantern (Linterna Verde)'</span>,
      <span class="hljs-string">'Cyborg'</span>,
      <span class="hljs-string">'Shazam'</span>,
      <span class="hljs-string">'Green Arrow (Flecha Verde)'</span>,
      <span class="hljs-string">'Batgirl (Batichica)'</span>,
      <span class="hljs-string">'Nightwing (Ala Nocturna)'</span>,
      <span class="hljs-string">'Supergirl'</span>,
      <span class="hljs-string">'Martian Manhunter (Detective Marciano)'</span>,
      <span class="hljs-string">'Harley Quinn'</span>,
      <span class="hljs-string">'Joker'</span>,
      <span class="hljs-string">'Catwoman (Gata Salvaje)'</span>,
      <span class="hljs-string">'Lex Luthor'</span>,
      <span class="hljs-string">'Poison Ivy (Hiedra Venenosa)'</span>,
      <span class="hljs-string">'Robin'</span>,
      <span class="hljs-string">'Deathstroke (Deathstroke el Terminator)'</span>,
    ],
  },
  {
    <span class="hljs-attr">title</span>: <span class="hljs-string">'Marvel Comics'</span>,
    <span class="hljs-attr">data</span>: [
      <span class="hljs-string">'Spider-Man (Hombre Araña)'</span>,
      <span class="hljs-string">'Iron Man (Hombre de Hierro)'</span>,
      <span class="hljs-string">'Captain America (Capitán América)'</span>,
      <span class="hljs-string">'Thor'</span>,
      <span class="hljs-string">'Black Widow (Viuda Negra)'</span>,
      <span class="hljs-string">'Hulk'</span>,
      <span class="hljs-string">'Doctor Strange (Doctor Extraño)'</span>,
      <span class="hljs-string">'Black Panther (Pantera Negra)'</span>,
      <span class="hljs-string">'Captain Marvel (Capitana Marvel)'</span>,
      <span class="hljs-string">'Wolverine'</span>,
      <span class="hljs-string">'Deadpool'</span>,
      <span class="hljs-string">'Scarlet Witch (Bruja Escarlata)'</span>,
      <span class="hljs-string">'Ant-Man (Hombre Hormiga)'</span>,
      <span class="hljs-string">'Wasp (Avispa)'</span>,
      <span class="hljs-string">'Groot'</span>,
      <span class="hljs-string">'Rocket Raccoon (Mapache Cohete)'</span>,
      <span class="hljs-string">'Gamora'</span>,
      <span class="hljs-string">'Drax the Destroyer (Drax el Destructor)'</span>,
    ],
  },
  {
    <span class="hljs-attr">title</span>: <span class="hljs-string">'Anime'</span>,
    <span class="hljs-attr">data</span>: [
      <span class="hljs-string">'Son Goku (Dragon Ball)'</span>,
      <span class="hljs-string">'Naruto Uzumaki (Naruto)'</span>,
      <span class="hljs-string">'Monkey D. Luffy (One Piece)'</span>,
      <span class="hljs-string">'Sailor Moon (Sailor Moon)'</span>,
      <span class="hljs-string">'Kenshin Himura (Rurouni Kenshin)'</span>,
      <span class="hljs-string">'Edward Elric (Fullmetal Alchemist)'</span>,
      <span class="hljs-string">'Inuyasha (Inuyasha)'</span>,
      <span class="hljs-string">'Sakura Kinomoto (Cardcaptor Sakura)'</span>,
      <span class="hljs-string">'Light Yagami (Death Note)'</span>,
      <span class="hljs-string">'Eren Yeager (Attack on Titan)'</span>,
      <span class="hljs-string">'Lelouch Lamperouge (Code Geass)'</span>,
      <span class="hljs-string">'Vegeta (Dragon Ball)'</span>,
      <span class="hljs-string">'Ichigo Kurosaki (Bleach)'</span>,
      <span class="hljs-string">'Kaneki Ken (Tokyo Ghoul)'</span>,
      <span class="hljs-string">'Gon Freecss (Hunter x Hunter)'</span>,
      <span class="hljs-string">'Asuka Langley Soryu (Neon Genesis Evangelion)'</span>,
      <span class="hljs-string">'Saitama (One Punch Man)'</span>,
      <span class="hljs-string">'Mikasa Ackerman (Attack on Titan)'</span>,
      <span class="hljs-string">'Natsu Dragneel (Fairy Tail)'</span>,
      <span class="hljs-string">'Usagi Tsukino (Sailor Moon)'</span>,
      <span class="hljs-string">'Sasuke Uchiha (Naruto)'</span>,
    ],
  },
];
</div></code></pre>
<ul>
<li>Creo en screens/ui/CustomSectionListScreen, lo coloco en el StackNavigator</li>
<li>Coloco mi CustomVIew, coloco un Title y el SectionList que tiene autocierre
<ul>
<li>Me pidelas props sections, keyExtractor y uso renderItem para renderizar cada elemento (puedo extraer tambien el index si lo necesito)</li>
</ul>
</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { SectionList, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { CustomView } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/CustomView'</span>
<span class="hljs-keyword">import</span> { Title } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Title'</span>
<span class="hljs-keyword">import</span> { Card } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Card'</span>

interface Houses {
    <span class="hljs-attr">title</span>: string;
    data: string[];
  }
  
  <span class="hljs-keyword">const</span> houses: Houses[] = [
    {
      <span class="hljs-attr">title</span>: <span class="hljs-string">'DC Comics'</span>,
      <span class="hljs-attr">data</span>: [
        <span class="hljs-string">'Superman'</span>,
        <span class="hljs-string">'Batman'</span>,
        <span class="hljs-string">'Wonder Woman (Mujer Maravilla)'</span>,
        <span class="hljs-string">'The Flash (Flash)'</span>,
        <span class="hljs-string">'Aquaman'</span>,
        <span class="hljs-string">'Green Lantern (Linterna Verde)'</span>,
        <span class="hljs-string">'Cyborg'</span>,
        <span class="hljs-string">'Shazam'</span>,
        <span class="hljs-string">'Green Arrow (Flecha Verde)'</span>,
        <span class="hljs-string">'Batgirl (Batichica)'</span>,
        <span class="hljs-string">'Nightwing (Ala Nocturna)'</span>,
        <span class="hljs-string">'Supergirl'</span>,
        <span class="hljs-string">'Martian Manhunter (Detective Marciano)'</span>,
        <span class="hljs-string">'Harley Quinn'</span>,
        <span class="hljs-string">'Joker'</span>,
        <span class="hljs-string">'Catwoman (Gata Salvaje)'</span>,
        <span class="hljs-string">'Lex Luthor'</span>,
        <span class="hljs-string">'Poison Ivy (Hiedra Venenosa)'</span>,
        <span class="hljs-string">'Robin'</span>,
        <span class="hljs-string">'Deathstroke (Deathstroke el Terminator)'</span>,
      ],
    },
    {
      <span class="hljs-attr">title</span>: <span class="hljs-string">'Marvel Comics'</span>,
      <span class="hljs-attr">data</span>: [
        <span class="hljs-string">'Spider-Man (Hombre Araña)'</span>,
        <span class="hljs-string">'Iron Man (Hombre de Hierro)'</span>,
        <span class="hljs-string">'Captain America (Capitán América)'</span>,
        <span class="hljs-string">'Thor'</span>,
        <span class="hljs-string">'Black Widow (Viuda Negra)'</span>,
        <span class="hljs-string">'Hulk'</span>,
        <span class="hljs-string">'Doctor Strange (Doctor Extraño)'</span>,
        <span class="hljs-string">'Black Panther (Pantera Negra)'</span>,
        <span class="hljs-string">'Captain Marvel (Capitana Marvel)'</span>,
        <span class="hljs-string">'Wolverine'</span>,
        <span class="hljs-string">'Deadpool'</span>,
        <span class="hljs-string">'Scarlet Witch (Bruja Escarlata)'</span>,
        <span class="hljs-string">'Ant-Man (Hombre Hormiga)'</span>,
        <span class="hljs-string">'Wasp (Avispa)'</span>,
        <span class="hljs-string">'Groot'</span>,
        <span class="hljs-string">'Rocket Raccoon (Mapache Cohete)'</span>,
        <span class="hljs-string">'Gamora'</span>,
        <span class="hljs-string">'Drax the Destroyer (Drax el Destructor)'</span>,
      ],
    },
    {
      <span class="hljs-attr">title</span>: <span class="hljs-string">'Anime'</span>,
      <span class="hljs-attr">data</span>: [
        <span class="hljs-string">'Son Goku (Dragon Ball)'</span>,
        <span class="hljs-string">'Naruto Uzumaki (Naruto)'</span>,
        <span class="hljs-string">'Monkey D. Luffy (One Piece)'</span>,
        <span class="hljs-string">'Sailor Moon (Sailor Moon)'</span>,
        <span class="hljs-string">'Kenshin Himura (Rurouni Kenshin)'</span>,
        <span class="hljs-string">'Edward Elric (Fullmetal Alchemist)'</span>,
        <span class="hljs-string">'Inuyasha (Inuyasha)'</span>,
        <span class="hljs-string">'Sakura Kinomoto (Cardcaptor Sakura)'</span>,
        <span class="hljs-string">'Light Yagami (Death Note)'</span>,
        <span class="hljs-string">'Eren Yeager (Attack on Titan)'</span>,
        <span class="hljs-string">'Lelouch Lamperouge (Code Geass)'</span>,
        <span class="hljs-string">'Vegeta (Dragon Ball)'</span>,
        <span class="hljs-string">'Ichigo Kurosaki (Bleach)'</span>,
        <span class="hljs-string">'Kaneki Ken (Tokyo Ghoul)'</span>,
        <span class="hljs-string">'Gon Freecss (Hunter x Hunter)'</span>,
        <span class="hljs-string">'Asuka Langley Soryu (Neon Genesis Evangelion)'</span>,
        <span class="hljs-string">'Saitama (One Punch Man)'</span>,
        <span class="hljs-string">'Mikasa Ackerman (Attack on Titan)'</span>,
        <span class="hljs-string">'Natsu Dragneel (Fairy Tail)'</span>,
        <span class="hljs-string">'Usagi Tsukino (Sailor Moon)'</span>,
        <span class="hljs-string">'Sasuke Uchiha (Naruto)'</span>,
      ],
    },
  ];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> CustomSectionListScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CustomView</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Lista de personajes"</span> /&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">SectionList</span> 
                <span class="hljs-attr">sections</span>=<span class="hljs-string">{houses}</span>
                <span class="hljs-attr">keyExtractor</span>=<span class="hljs-string">{item</span>=&gt;</span> item}
                renderItem={({item})=&gt; <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginVertical:</span> <span class="hljs-attr">2</span>}} &gt;</span>{item}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>}
                showsVerticalScrollIndicator={false}
                renderSectionHeader={({section})=&gt;<span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{fontWeight:</span> '<span class="hljs-attr">500</span>', <span class="hljs-attr">fontSize:</span> <span class="hljs-attr">20</span>, <span class="hljs-attr">marginVertical:</span> <span class="hljs-attr">10</span>}} &gt;</span>{section.title} <span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>}
            /&gt;
        <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">CustomView</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Me creo un componente para renderizar en el renderSectionHeader</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { colors } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>
<span class="hljs-keyword">import</span> { useSafeAreaInsets } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-safe-area-context'</span>
<span class="hljs-keyword">import</span> { globalStyles } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>

interface Props{
    <span class="hljs-attr">text</span>: string
    safe?: boolean
    backgroundColor?: string
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> SubTitle = <span class="hljs-function">(<span class="hljs-params">{text, safe= <span class="hljs-literal">false</span>, backgroundColor= colors.background}: Props</span>) =&gt;</span> {

    <span class="hljs-keyword">const</span> {top} = useSafeAreaInsets()
  
    <span class="hljs-keyword">return</span> (
    
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
            <span class="hljs-attr">...globalStyles.subTitle</span>,
            <span class="hljs-attr">marginTop:</span> <span class="hljs-attr">safe</span>? <span class="hljs-attr">top:</span> <span class="hljs-attr">0</span>,
            <span class="hljs-attr">marginBottom:</span> <span class="hljs-attr">10</span>,
            <span class="hljs-attr">backgroundColor</span>
      }}&gt;</span>{text}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>
    
  )
}
</div></code></pre>
<ul>
<li>Renderizo Subtitle en el renderSectionHeader del SectionList</li>
</ul>
<pre class="hljs"><code><div>&lt;Card&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">SectionList</span> 
        <span class="hljs-attr">sections</span>=<span class="hljs-string">{houses}</span>
        <span class="hljs-attr">keyExtractor</span>=<span class="hljs-string">{item</span>=&gt;</span> item}
        renderItem={({item})=&gt; <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginVertical:</span> <span class="hljs-attr">2</span>}} &gt;</span>{item}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>}
        showsVerticalScrollIndicator={false}
        renderSectionHeader={({section})=&gt; <span class="hljs-tag">&lt;<span class="hljs-name">SubTitle</span>  <span class="hljs-attr">safe</span> <span class="hljs-attr">text</span>=<span class="hljs-string">{section.title}</span> /&gt;</span>} 
        stickySectionHeadersEnabled 
        SectionSeparatorComponent={ Separator}
        ListHeaderComponent={()=&gt; <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Personajes"</span> /&gt;</span>}
        ListFooterComponent={()=&gt; <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">Secciones:</span>  ${<span class="hljs-attr">houses.length</span>}`} /&gt;</span>}
    /&gt;</span>
&lt;<span class="hljs-regexp">/Card&gt;
</span></div></code></pre>
<ul>
<li>Si no especifico un tamaño del dispositivo voy a disponer de todo el dispositivo</li>
<li>En el style puedo especificar un height para que ocupe la mitad de la pantalla con un 500</li>
<li>Ahora solo debería sacar las dimensiones del dispositivo con useDimensions, restar el top</li>
</ul>
<pre class="hljs"><code><div>
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { SectionList, Text, View, useWindowDimensions } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { CustomView } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/CustomView'</span>
<span class="hljs-keyword">import</span> { Title } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Title'</span>
<span class="hljs-keyword">import</span> { Card } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Card'</span>
<span class="hljs-keyword">import</span> { SubTitle } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Subtitle'</span>
<span class="hljs-keyword">import</span> { Separator } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Separator'</span>
<span class="hljs-keyword">import</span> { useSafeAreaInsets } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-safe-area-context'</span>

interface Houses {
    <span class="hljs-attr">title</span>: string;
    data: string[];
  }
  
  <span class="hljs-keyword">const</span> houses: Houses[] = [
    {
      <span class="hljs-attr">title</span>: <span class="hljs-string">'DC Comics'</span>,
      <span class="hljs-attr">data</span>: [
        <span class="hljs-string">'Superman'</span>,
        <span class="hljs-string">'Batman'</span>,
        <span class="hljs-string">'Wonder Woman (Mujer Maravilla)'</span>,
        <span class="hljs-string">'The Flash (Flash)'</span>,
        <span class="hljs-string">'Aquaman'</span>,
        <span class="hljs-string">'Green Lantern (Linterna Verde)'</span>,
        <span class="hljs-string">'Cyborg'</span>,
        <span class="hljs-string">'Shazam'</span>,
        <span class="hljs-string">'Green Arrow (Flecha Verde)'</span>,
        <span class="hljs-string">'Batgirl (Batichica)'</span>,
        <span class="hljs-string">'Nightwing (Ala Nocturna)'</span>,
        <span class="hljs-string">'Supergirl'</span>,
        <span class="hljs-string">'Martian Manhunter (Detective Marciano)'</span>,
        <span class="hljs-string">'Harley Quinn'</span>,
        <span class="hljs-string">'Joker'</span>,
        <span class="hljs-string">'Catwoman (Gata Salvaje)'</span>,
        <span class="hljs-string">'Lex Luthor'</span>,
        <span class="hljs-string">'Poison Ivy (Hiedra Venenosa)'</span>,
        <span class="hljs-string">'Robin'</span>,
        <span class="hljs-string">'Deathstroke (Deathstroke el Terminator)'</span>,
      ],
    },
    {
      <span class="hljs-attr">title</span>: <span class="hljs-string">'Marvel Comics'</span>,
      <span class="hljs-attr">data</span>: [
        <span class="hljs-string">'Spider-Man (Hombre Araña)'</span>,
        <span class="hljs-string">'Iron Man (Hombre de Hierro)'</span>,
        <span class="hljs-string">'Captain America (Capitán América)'</span>,
        <span class="hljs-string">'Thor'</span>,
        <span class="hljs-string">'Black Widow (Viuda Negra)'</span>,
        <span class="hljs-string">'Hulk'</span>,
        <span class="hljs-string">'Doctor Strange (Doctor Extraño)'</span>,
        <span class="hljs-string">'Black Panther (Pantera Negra)'</span>,
        <span class="hljs-string">'Captain Marvel (Capitana Marvel)'</span>,
        <span class="hljs-string">'Wolverine'</span>,
        <span class="hljs-string">'Deadpool'</span>,
        <span class="hljs-string">'Scarlet Witch (Bruja Escarlata)'</span>,
        <span class="hljs-string">'Ant-Man (Hombre Hormiga)'</span>,
        <span class="hljs-string">'Wasp (Avispa)'</span>,
        <span class="hljs-string">'Groot'</span>,
        <span class="hljs-string">'Rocket Raccoon (Mapache Cohete)'</span>,
        <span class="hljs-string">'Gamora'</span>,
        <span class="hljs-string">'Drax the Destroyer (Drax el Destructor)'</span>,
      ],
    },
    {
      <span class="hljs-attr">title</span>: <span class="hljs-string">'Anime'</span>,
      <span class="hljs-attr">data</span>: [
        <span class="hljs-string">'Son Goku (Dragon Ball)'</span>,
        <span class="hljs-string">'Naruto Uzumaki (Naruto)'</span>,
        <span class="hljs-string">'Monkey D. Luffy (One Piece)'</span>,
        <span class="hljs-string">'Sailor Moon (Sailor Moon)'</span>,
        <span class="hljs-string">'Kenshin Himura (Rurouni Kenshin)'</span>,
        <span class="hljs-string">'Edward Elric (Fullmetal Alchemist)'</span>,
        <span class="hljs-string">'Inuyasha (Inuyasha)'</span>,
        <span class="hljs-string">'Sakura Kinomoto (Cardcaptor Sakura)'</span>,
        <span class="hljs-string">'Light Yagami (Death Note)'</span>,
        <span class="hljs-string">'Eren Yeager (Attack on Titan)'</span>,
        <span class="hljs-string">'Lelouch Lamperouge (Code Geass)'</span>,
        <span class="hljs-string">'Vegeta (Dragon Ball)'</span>,
        <span class="hljs-string">'Ichigo Kurosaki (Bleach)'</span>,
        <span class="hljs-string">'Kaneki Ken (Tokyo Ghoul)'</span>,
        <span class="hljs-string">'Gon Freecss (Hunter x Hunter)'</span>,
        <span class="hljs-string">'Asuka Langley Soryu (Neon Genesis Evangelion)'</span>,
        <span class="hljs-string">'Saitama (One Punch Man)'</span>,
        <span class="hljs-string">'Mikasa Ackerman (Attack on Titan)'</span>,
        <span class="hljs-string">'Natsu Dragneel (Fairy Tail)'</span>,
        <span class="hljs-string">'Usagi Tsukino (Sailor Moon)'</span>,
        <span class="hljs-string">'Sasuke Uchiha (Naruto)'</span>,
      ],
    },
  ];

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> CustomSectionListScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

  <span class="hljs-keyword">const</span> {height} = useWindowDimensions()

  <span class="hljs-keyword">const</span> {top} = useSafeAreaInsets()

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CustomView</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Lista de personajes"</span> /&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">Card</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">SectionList</span> 
                <span class="hljs-attr">sections</span>=<span class="hljs-string">{houses}</span>
                <span class="hljs-attr">keyExtractor</span>=<span class="hljs-string">{item</span>=&gt;</span> item}
                renderItem={({item})=&gt; <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{marginVertical:</span> <span class="hljs-attr">2</span>}} &gt;</span>{item}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>}
                showsVerticalScrollIndicator={false}
                renderSectionHeader={({section})=&gt; <span class="hljs-tag">&lt;<span class="hljs-name">SubTitle</span>  <span class="hljs-attr">safe</span> <span class="hljs-attr">text</span>=<span class="hljs-string">{section.title}</span> /&gt;</span>} 
                stickySectionHeadersEnabled 
                SectionSeparatorComponent={ Separator}
                ListHeaderComponent={()=&gt; <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Personajes"</span> /&gt;</span>}
                ListFooterComponent={()=&gt; <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">Secciones:</span>  ${<span class="hljs-attr">houses.length</span>}`} /&gt;</span> }
                style={{
                  height: height - top - 120
                }} 
            /&gt;
        <span class="hljs-tag">&lt;/<span class="hljs-name">Card</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">CustomView</span>&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="modal">Modal</h2>
<ul>
<li>Creo screens/ui/ModalScreen. Lo coloco en el StackNavigator</li>
<li>Tenemos un Modal en componentes de React Native pero vamos a hacer algo distinto</li>
<li>Si le coloco la propiedad visible en false se deja de ver el modal</li>
<li>Manejarlo con un state es básicamente todo</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Modal, Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { CustomView } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/CustomView'</span>
<span class="hljs-keyword">import</span> { Title } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Title'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> ModalScreen = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CustomView</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Modal"</span> /&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">Modal</span> <span class="hljs-attr">visible</span>=<span class="hljs-string">{false}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">View</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"Modal Content"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Modal</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">CustomView</span>&gt;</span></span>
  )
}
</div></code></pre>
<hr>
<h2 id="infinitescroll">InfiniteScroll</h2>
<ul>
<li>Creo el componente, lo coloco en el StackNavigator</li>
<li>Hagamos un ejercicio sencillo</li>
<li>Creo un estado para guardar los números</li>
<li>Usualmente vamos a querer usar un FlatList para hacer un InfiniteScroll, ya que carga de manera perezosa</li>
<li>Con un ScrollView todos los elementos van a ser cargados desde el inicio</li>
<li>EL FlatList tiene la propiedad onEndReached para disparar una función cuando llega al final</li>
<li>Uso el setstate, esparzo el state anterior y el nuevo Array</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">import</span> React, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { CustomView } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/CustomView'</span>
<span class="hljs-keyword">import</span> { Title } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Title'</span>
<span class="hljs-keyword">import</span> { colors } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>
<span class="hljs-keyword">import</span> { FlatList } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-gesture-handler'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> InfiniteScroll = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

    <span class="hljs-keyword">const</span> [numbers, setNumbers] = useState([<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>])

    <span class="hljs-keyword">const</span> loadMore =<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
        <span class="hljs-keyword">const</span> newArray = <span class="hljs-built_in">Array</span>.from({<span class="hljs-attr">length</span>: <span class="hljs-number">5</span>}, (_,i)=&gt;numbers.length +i)
        setNumbers([...numbers, ...newArray])
    }


  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CustomView</span> <span class="hljs-attr">margin</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"InfiniteScroll"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span>
        <span class="hljs-attr">onEndReached</span>=<span class="hljs-string">{loadMore}</span>
        <span class="hljs-attr">data</span>=<span class="hljs-string">{numbers}</span>
        <span class="hljs-attr">renderItem</span>=<span class="hljs-string">{({item}:</span> <span class="hljs-attr">any</span>)=&gt;</span>(
            <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">300</span>, <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">colors.primary</span>, <span class="hljs-attr">color:</span> '<span class="hljs-attr">white</span>', <span class="hljs-attr">fontSize:</span> <span class="hljs-attr">50</span>}}&gt;</span>{item}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
        )}
        
        /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">CustomView</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Para evitar el trompicón y cargar los elementos antes de que llegue al final tengo la proponEndReachedTreshold, cuyo valor por defecto es 0.5</li>
<li>Puedo ponerlo en 0.6 para que empiece a cargar antes de que llegue al final</li>
<li>Debo colocar el keyExtractor, la key debe de ser un string</li>
</ul>
<pre class="hljs"><code><div>&lt;CustomView margin&gt;
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"InfiniteScroll"</span> /&gt;</span></span>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span>
    <span class="hljs-attr">onEndReached</span>=<span class="hljs-string">{loadMore}</span>
    <span class="hljs-attr">data</span>=<span class="hljs-string">{numbers}</span>
    <span class="hljs-attr">renderItem</span>=<span class="hljs-string">{({item}:</span> <span class="hljs-attr">any</span>)=&gt;</span>(
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">300</span>, <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">colors.primary</span>, <span class="hljs-attr">color:</span> '<span class="hljs-attr">white</span>', <span class="hljs-attr">fontSize:</span> <span class="hljs-attr">50</span>}}&gt;</span>{item}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    )}
    onEndReachedThreshold={0.6}
    keyExtractor={(item)=&gt; item.toString()}
    /&gt;</span>
&lt;<span class="hljs-regexp">/CustomView&gt;
</span></div></code></pre>
<hr>
<h2 id="infinitescroll-con-im%C3%A1genes">InfiniteScroll con imágenes</h2>
<ul>
<li>Usaremos Lorem Picsum para las imágenes</li>
<li>Creo un componente para renderizar los números</li>
</ul>
<pre class="hljs"><code><div>
<span class="hljs-keyword">import</span> React, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, View, VirtualizedListWithoutRenderItemProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { CustomView } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/CustomView'</span>
<span class="hljs-keyword">import</span> { Title } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../components/ui/Title'</span>
<span class="hljs-keyword">import</span> { colors } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../config/theme/theme'</span>
<span class="hljs-keyword">import</span> { FlatList } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-gesture-handler'</span>

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> InfiniteScroll = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {

    <span class="hljs-keyword">const</span> [numbers, setNumbers] = useState([<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>])

    <span class="hljs-keyword">const</span> loadMore =<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
        <span class="hljs-keyword">const</span> newArray = <span class="hljs-built_in">Array</span>.from({<span class="hljs-attr">length</span>: <span class="hljs-number">5</span>}, (_,i)=&gt;numbers.length +i)
        setNumbers([...numbers, ...newArray])
    }


  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">CustomView</span> <span class="hljs-attr">margin</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"InfiniteScroll"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span>
        <span class="hljs-attr">onEndReached</span>=<span class="hljs-string">{loadMore}</span>
        <span class="hljs-attr">data</span>=<span class="hljs-string">{numbers}</span>
        <span class="hljs-attr">renderItem</span>=<span class="hljs-string">{({item}:</span> <span class="hljs-attr">any</span>)=&gt;</span>(
            <span class="hljs-tag">&lt;<span class="hljs-name">ListItem</span> <span class="hljs-attr">number</span>=<span class="hljs-string">{item}</span> /&gt;</span>
        )}
        onEndReachedThreshold={0.6}
        keyExtractor={(item)=&gt; item.toString()}
        /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">CustomView</span>&gt;</span></span>
  )
}

interface ListItemProps{
    <span class="hljs-attr">number</span>: number
}

<span class="hljs-keyword">const</span> ListItem = <span class="hljs-function">(<span class="hljs-params">{number}: ListItemProps</span>)=&gt;</span>{
    <span class="hljs-keyword">return</span>(
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">300</span>, <span class="hljs-attr">backgroundColor:</span> <span class="hljs-attr">colors.primary</span>, <span class="hljs-attr">color:</span> '<span class="hljs-attr">white</span>', <span class="hljs-attr">fontSize:</span> <span class="hljs-attr">50</span>}}&gt;</span>{number}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span></span>
    )
}
</div></code></pre>
<ul>
<li>Ahora en lugar de renderizar el texto renderizamos un Image</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> ListItem = <span class="hljs-function">(<span class="hljs-params">{number}: ListItemProps</span>)=&gt;</span>{
    <span class="hljs-keyword">return</span>(
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Image</span>  <span class="hljs-attr">source</span>=<span class="hljs-string">{{uri:</span>`<span class="hljs-attr">https:</span>//<span class="hljs-attr">picsum.photos</span>/<span class="hljs-attr">id</span>/${<span class="hljs-attr">number</span>}/<span class="hljs-attr">500</span>/<span class="hljs-attr">400</span>`}} 
        <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
            <span class="hljs-attr">height:</span> <span class="hljs-attr">400</span>,
            <span class="hljs-attr">width:</span> '<span class="hljs-attr">100</span>%'
        }}
        /&gt;</span></span>
    )
}
</div></code></pre>
<ul>
<li>Cuando la imagen se carga en Android tiene un fadeIn pero en ios no</li>
<li>Quiero mostrar algún tipo de indicador cuando estoy mostrando las imágenes</li>
<li>Uso la prop ListFooterComponent de FlatList</li>
</ul>
<pre class="hljs"><code><div>&lt;CustomView margin&gt;
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Title</span> <span class="hljs-attr">text</span>=<span class="hljs-string">"InfiniteScroll"</span> /&gt;</span></span>
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">FlatList</span>
        <span class="hljs-attr">onEndReached</span>=<span class="hljs-string">{loadMore}</span>
        <span class="hljs-attr">data</span>=<span class="hljs-string">{numbers}</span>
        <span class="hljs-attr">renderItem</span>=<span class="hljs-string">{({item}:</span> <span class="hljs-attr">any</span>)=&gt;</span>(
            <span class="hljs-tag">&lt;<span class="hljs-name">ListItem</span> <span class="hljs-attr">number</span>=<span class="hljs-string">{item}</span> /&gt;</span>
        )}
        onEndReachedThreshold={0.6}
        keyExtractor={(item)=&gt; item.toString()}
        ListFooterComponent={()=&gt;(
            <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{height:</span> <span class="hljs-attr">150</span>, <span class="hljs-attr">justifyContent:</span> '<span class="hljs-attr">center</span>'}} &gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">ActivityIndicator</span> <span class="hljs-attr">size</span>=<span class="hljs-string">{50}</span> <span class="hljs-attr">color</span>=<span class="hljs-string">{colors.primary}</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
        )}  
        /&gt;</span>
    &lt;<span class="hljs-regexp">/CustomView&gt;
</span></div></code></pre>
<hr>
<h2 id="animated-image">Animated Image</h2>
<ul>
<li>Uso Animated.Image como componente</li>
<li>Tengo una propiedad que es onLoadEnd que puedo usar para disparar la animación que extraigo del custom hook useAnimation</li>
<li>El ActivityIndicator solo debe mostrarse si el isLoading está en true</li>
</ul>
<pre class="hljs"><code><div>
<span class="hljs-keyword">import</span> React, { useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Animated, ImageStyle, StyleProp, View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { useAnimation } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../hooks/useAnimation'</span>
<span class="hljs-keyword">import</span> { ActivityIndicator } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-paper'</span>

interface Props{
    <span class="hljs-attr">uri</span>: string,
    style?: StyleProp&lt;ImageStyle&gt;
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> FadeInImage = <span class="hljs-function">(<span class="hljs-params">{uri, style}: Props</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> {fadeIn, animatedOpacity}= useAnimation()
    <span class="hljs-keyword">const</span> [isLoading, setIsLoading] = useState(<span class="hljs-literal">true</span>)
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{{justifyContent:</span> '<span class="hljs-attr">center</span>', <span class="hljs-attr">alignItems:</span> '<span class="hljs-attr">center</span>'}}&gt;</span>

    {isLoading &amp;&amp; 
    <span class="hljs-tag">&lt;<span class="hljs-name">ActivityIndicator</span> 
        <span class="hljs-attr">style</span>=<span class="hljs-string">{{position:</span> '<span class="hljs-attr">absolute</span>'}}
        <span class="hljs-attr">color</span>= <span class="hljs-string">'blue'</span>
        <span class="hljs-attr">size</span>=<span class="hljs-string">{30}</span>
    /&gt;</span>}

      <span class="hljs-tag">&lt;<span class="hljs-name">Animated.Image</span>
        <span class="hljs-attr">source</span>=<span class="hljs-string">{{uri}}</span>
        <span class="hljs-attr">onLoadEnd</span>=<span class="hljs-string">{()</span>=&gt;</span>(
            fadeIn({duration:1000}),
            setIsLoading(false)
        )}
        style={[style, {opacity: animatedOpacity}]}
        
      /&gt;
    <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span>
  )
}
</div></code></pre>
<ul>
<li>Se lo paso a ListItem para que lo renderice en el renderItem del FlatList</li>
<li>Debo pasarle un height y un width para que muestre las imágenes</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">const</span> ListItem = <span class="hljs-function">(<span class="hljs-params">{number}: ListItemProps</span>)=&gt;</span>{
    <span class="hljs-keyword">return</span>(
        <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">FadeInImage</span> <span class="hljs-attr">uri</span>=<span class="hljs-string">{</span>`<span class="hljs-attr">https:</span>//<span class="hljs-attr">picsum.photos</span>/<span class="hljs-attr">id</span>/${<span class="hljs-attr">number</span>}/<span class="hljs-attr">500</span>/<span class="hljs-attr">400</span>`} 
            <span class="hljs-attr">style</span>=<span class="hljs-string">{{</span>
                <span class="hljs-attr">height:400</span>,
                <span class="hljs-attr">width:</span> '<span class="hljs-attr">100</span>%'
            }}
        /&gt;</span></span>
        
    )
}
</div></code></pre>

</body>
</html>
